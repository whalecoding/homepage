(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"+1c1":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fXoL");let o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Wb({type:t}),t.\u0275inj=i.Vb({imports:[[]]}),t})()},"+2YJ":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t[t.HoverDetected=0]="HoverDetected",t[t.HoverNone=1]="HoverNone",t[t.HoverCardDetected=2]="HoverCardDetected",t[t.HoverCardNone=3]="HoverCardNone",t[t.ClickBgDetected=4]="ClickBgDetected",t[t.ClickBgNone=5]="ClickBgNone",t[t.ClickFeature=6]="ClickFeature",t[t.ClickDetected=7]="ClickDetected",t}({})},"+JlU":function(t,e,n){"use strict";n.d(e,"a",function(){return b});var i=n("fXoL"),o=n("2Vo4"),r=n("HDdC"),a=n("DH7j"),s=n("n6bG"),c=n("lJxs");function l(t,e,n){return n?l(t,e).pipe(Object(c.a)(t=>Object(a.a)(t)?n(...t):n(t))):new r.a(n=>{const i=(...t)=>n.next(1===t.length?t[0]:t);let o;try{o=t(i)}catch(r){return void n.error(r)}if(Object(s.a)(e))return()=>e(i,o)})}var u=n("PzNd"),p=n("7f5W"),h=n("BYWt"),d=n("pLZG"),g=n("z6kb"),f=n("Pbce");let b=(()=>{class t{constructor(t,e,n){this.status=t,this.avatar=e,this.offAvatar=n,this._events={mode:new o.a(u.b.None),panoramaScriptLoad:new o.a(!1),panoramaScriptLoaded:new o.a(!1),panoramaViewerReady:new o.a(!1),panoramaViewerImageLoad:new o.a(!1),panoramaViewerImageLoaded:new o.a(!1),panoramaOffscreenAvatarChanged:new i.q}}get events(){return this._events}init(t){this.service=t,this.events.panoramaViewerImageLoad.pipe(Object(d.a)(t=>t)).subscribe(()=>{this.events.panoramaViewerImageLoaded.next(!1)}),this.events.panoramaViewerImageLoaded.pipe(Object(d.a)(t=>t)).subscribe(()=>{this.events.panoramaViewerImageLoad.next(!1)}),this.events.mode.subscribe(t=>{t===u.b.EntryToViewer?this.status.isPanoramaViewerMode=!0:t===u.b.Viewer?(this.status.isPanoramaEntryMode=!1,this.avatar.activate(),this.offAvatar.activate()):t===u.b.Entry?(this.status.isPanoramaMode=!0,this.status.isPanoramaEntryMode=!0,this.status.isPanoramaViewerMode=!1,this.avatar.deactivate(),this.offAvatar.deactivate()):t===u.b.None&&(this.status.isPanoramaMode=!1)})}enableViewerEvents(){const t=this.service.panoramaMap;["panorama_error","panorama_changed","position_changed","heading_changed","tilt_changed","zoom_changed","idle","timeline_cleared","timeline_changed","nearest_panorama_spot_changed"].forEach(e=>{this._events[Object(f.z)(e)]=l(n=>{t.addEventListener(e,n)},n=>{t.removeEventListener(e,n)})})}disableViewerEvents(){["panorama_error","panorama_changed","position_changed","heading_changed","tilt_changed","zoom_changed","idle","timeline_cleared","timeline_changed"].forEach(t=>{delete this._events[Object(f.z)(t)]})}}return t.\u0275fac=function(e){return new(e||t)(i.ic(g.e),i.ic(p.a),i.ic(h.a))},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"+Xv5":function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n("HDdC"),o=n("xgIS"),r=n("EY2u"),a=n("LRne"),s=n("MtjB"),c=n("UXun"),l=n("SxV6"),u=n("JIr8"),p=n("IzEk"),h=n("MxT6"),d=n("Pbce"),g=n("fXoL");let f=(()=>{class t{constructor(t,e){this.api=t,this.scriptsLoaders={},this.jsonLoaders={},this.renderer=e.createRenderer(null,null)}loadJavascript(t,e=0,n=100){return this.scriptsLoaders[t]=this.scriptsLoaders[t]||new i.a(e=>{const n=this.renderer.createElement("script");n.onload=t=>{e.next(t),e.complete()},n.onerror=t=>{e.error(t)},n.src=t,n.type="text/javascript",n.async=!0,this.renderer.appendChild(document.body,n)}).pipe(Object(s.a)(Object(d.g)(n,e)),Object(c.a)(1))}loadCss(t){const e=this.renderer.createElement("link");e.type="text/css",e.href=t,e.rel="stylesheet";const n=Object(o.a)(e,"load");return this.renderer.appendChild(document.head,e),n.pipe(Object(l.a)())}loadJson(t){return this.jsonLoaders[t]=this.jsonLoaders[t]||new i.a(e=>{this.api.getCommonJson(t).pipe(Object(u.a)(t=>(e.error(t),r.a))).subscribe(n=>{this.jsonLoaders[t]=Object(a.a)(n),e.next(n),e.complete()})}).pipe(Object(p.a)(1),Object(c.a)(1))}}return t.\u0275fac=function(e){return new(e||t)(g.ic(h.a),g.ic(g.M))},t.\u0275prov=g.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"+ZFw":function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n("Joaz"),o=n("/rf6"),r=n("qhoL"),a=n.n(r),s=n("pLZG"),c=n("/RaO"),l=n("BE5q"),u=n("XrBI"),p=n("FQSa"),h=n("fXoL");let d=(()=>{class t{constructor(t,e,n,o,r){this.el=e,this.zone=n,this.mapsLayout=o,this.maps=r,this.angle=0,this.visibility="hidden",this.top=0,this.left=71,this.avatarPosition={lng:0,lat:0},this.subs=[],this.subs.push(t.events.panoramaOffscreenAvatarChanged.pipe(Object(s.a)(()=>!("hidden"===this.visibility&&i.d.ShownOnMap))).subscribe(t=>{t.type===i.d.ShownOnMap?this.hide():t.type===i.d.Disappeared&&this.show(t.data)}))}ngOnDestroy(){this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[]}goCenter(){this.maps.moveTo({center:this.avatarPosition,withPadding:!1})}hide(){this.zone.run(()=>{this.visibility="hidden"})}show(t){this.zone.run(()=>{this.visibility="visible";const e=this.mapsLayout.layoutBehavior.getValue(),n=c.xc,i=this.el.nativeElement.parentElement.clientHeight-c.xc,r=c.yc;let s=this.el.nativeElement.parentElement.clientWidth-c.yc,{x:l,y:u}=t.intersectPoint,h=0;switch(t.intersectDirection){case"north":l=t.avatarPoint.x,u=n;break;case"east":l=s,u=t.avatarPoint.y;break;case"south":l=t.avatarPoint.x,u=i;break;case"west":l=r,u=t.avatarPoint.y}if(l=Math.max(Math.min(l,s),r),u=Math.max(Math.min(u,i),n),(e===p.d.Split||e===p.d.Float)&&((u<n+c.tc&&l===s||u===n&&l>s-c.uc)&&(l=s-=c.uc),(u>i-c.vc&&l===s||u===i&&l>s-c.wc)&&(l=s-=c.wc),(u>i-c.rc&&l===r||u===i&&l<r+c.sc)&&(l=r+c.sc)),"north"===t.intersectDirection&&l>r&&l<s)h=0;else if("south"===t.intersectDirection&&l>r&&l<s)h=180;else if("east"===t.intersectDirection&&u>n&&u<i)h=90;else if("west"===t.intersectDirection&&u>n&&u<i)h=270;else{const e=this.maps.unproject({x:l,y:u});h=Object(o.bearingToAzimuth)(a()(Object(o.point)([e.lng,e.lat]),Object(o.point)([t.avatarPosition.lng,t.avatarPosition.lat])))}this.left=l,this.top=u,this.angle=h,this.avatarPosition=t.avatarPosition})}}return t.\u0275fac=function(e){return new(e||t)(h.Yb(i.f),h.Yb(h.o),h.Yb(h.F),h.Yb(l.a),h.Yb(u.a))},t.\u0275cmp=h.Sb({type:t,selectors:[["pegman-offscreen-widget"]],hostVars:6,hostBindings:function(t,e){2&t&&h.Pc("visibility",e.visibility)("top",e.top,"px")("left",e.left,"px")},decls:2,vars:2,consts:[[1,"pegman",3,"click"],[1,"pegman-bg",3,"click"]],template:function(t,e){1&t&&(h.ec(0,"div",0),h.lc("click",function(){return e.goCenter()}),h.dc(),h.ec(1,"div",1),h.lc("click",function(){return e.goCenter()}),h.dc()),2&t&&(h.Jb(1),h.Pc("transform","rotate("+(e.angle+90)+"deg)"))},styles:["[_nghost-%COMP%]{cursor:pointer;position:absolute;z-index:100;visibility:hidden}[_nghost-%COMP%]   .pegman-bg[_ngcontent-%COMP%]{display:block;width:48px;height:48px;position:absolute;background:url(panorama-offscreen-base.ba9d9314664a86c9628a.png) 0 0 no-repeat;background-size:96px 48px;left:-24px;top:-24px}[_nghost-%COMP%]   .pegman-bg[_ngcontent-%COMP%]:hover{background-position-x:-48px}[_nghost-%COMP%]   .pegman[_ngcontent-%COMP%]{background:url(panorama-offscreen.597f3f0f41649a9ed2fe.png) 0 0 no-repeat;background-size:13px 17px;position:absolute;top:-8px;left:-6px;height:20px;width:13px;z-index:10}[_nghost-%COMP%]   .pegman[_ngcontent-%COMP%]:hover + .pegman-bg[_ngcontent-%COMP%]{background-position-x:-48px}  .retina pegman-offscreen-widget .pegman-bg{background-image:url(panorama-offscreen-base@2x.1ed04d661f01b16512d6.png)!important}  .retina pegman-offscreen-widget .pegman{background-image:url(panorama-offscreen@2x.7de74438d9b80facd5f5.png)!important}"]}),t})()},"+mSJ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("/rf6"),o=n("AKIq"),r=n("cWyK");e.default=function(t){if(!t)throw new Error("geojson is required");var e=[];return r.flattenEach(t,function(t){!function(t,e){var n=[],r=t.geometry;if(null!==r){switch(r.type){case"Polygon":n=o.getCoords(r);break;case"LineString":n=[o.getCoords(r)]}n.forEach(function(n){(function(t,e){var n=[];return t.reduce(function(t,o){var r,a,s,c,l,u,p=i.lineString([t,o],e);return p.bbox=[(s=(r=t)[0])<(l=(a=o)[0])?s:l,(c=r[1])<(u=a[1])?c:u,s>l?s:l,c>u?c:u],n.push(p),o}),n})(n,t.properties).forEach(function(t){t.id=e.length,e.push(t)})})}}(t,e)}),i.featureCollection(e)}},"/17B":function(t,e,n){"use strict";n.d(e,"a",function(){return O});var i=n("2Vo4"),o=n("EY2u"),r=n("ApIJ"),a=n("wO+i"),s=n("pLZG"),c=n("eIep"),l=n("JIr8"),u=n("vkgz"),p=n("qkFu"),h=n("/RaO"),d=n("ZpGt"),g=n("JplU"),f=n("b8Z8"),b=n("Q63R"),m=n("z6kb"),_=n("XrBI"),y=n("fXoL");let O=(()=>{class t{constructor(t,e,n,o,c,l,u,p){this.zone=t,this.api=e,this.route=n,this.maps=o,this.status=c,this.message=l,this.nClickService=u,this.layoutStore=p,this.cctvId=null,this.groupId=null,this.selectedCctv$=new i.a(null),this.subs=[],this.enableFlag=!1,this.cctvList=[],this.isActivate=!0,this.route.events.pipe(Object(a.a)("data"),Object(s.a)(t=>!(!t.coordinates||!t.coordinates.mapLayers))).subscribe(t=>{t.coordinates.mapLayers.indexOf(r.g.Cctv)>-1&&this.isActivate?this.activateCctvMode():this.deactivateCctvMode()})}get selectedCctv(){return this.selectedCctv$.getValue()}set selectedCctv(t){this.selectedCctv$.next(t)}init(){this.subs.push(this.status.modeStatus$.pipe(Object(s.a)(({panoramaMode:t,measureMode:e})=>!t&&!e),Object(c.a)(()=>this.maps.events.click)).subscribe(t=>{const e=t.features.filter(t=>t.properties.type===h.i)[0];if(!e)return void this.close();const n=e.properties.id.split(":");this.zone.run(()=>{this.nClickService.nClick(t,f.a.ALL_CCTVLAYER_CCTV),this.selectCctv(parseInt(n[0],10),parseInt(n[1],10))})}),this.selectedCctv$.pipe(Object(s.a)(t=>!!t),Object(c.a)(()=>this.maps.events.zoomEnd),Object(s.a)(()=>this.maps.getZoom()<6)).subscribe(()=>this.close()))}clear(){this.groupId=null,this.cctvId=null,this.selectedCctv=null}selectCctv(t,e,n){if(null===t||null===e)return;const i=()=>{const t=this.getCctvSequence(this.cctvId);-1!==t&&(this.selectedCctv=n?Object.assign(Object.assign({},this.cctvList[t]),{x:n.x,y:n.y,disableMarker:!0}):this.cctvList[t],this.open(this.selectedCctv))};this.cctvId=e,t!==this.groupId?(this.groupId=t,this._prevRequest=this.fetchCctvList().subscribe(()=>{i()})):i()}deselectCctv(){this.close()}fetchCctvList(){return this._prevRequest&&this._prevRequest.unsubscribe(),this.api.getCctvList(this.cctvId,this.groupId).pipe(Object(l.a)(()=>(this.message.open("\uc11c\ubc84\uc5d0 \uc811\uc18d \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),o.a)),Object(a.a)("message"),Object(a.a)("result"),Object(u.a)(t=>{this.cctvList=t.cctvList}))}getCctvSequence(t){return this.cctvList.findIndex(e=>+e.channel===t)}getCctvFromList(t){const e=this.getCctvSequence(t);return this.cctvList[e]}getNextCctv(t){const e=this.getCctvSequence(t);return this.cctvList[e+1]}getPrevCctv(t){const e=this.getCctvSequence(t);return this.cctvList[e-1]}hasNextCctv(t){return!!this.getNextCctv(t)}hasPrevCctv(t){return!!this.getPrevCctv(t)}selectPrevCctv(t){const e=this.getPrevCctv(t);if(!e)return;const{cctvGrpNo:n,channel:i}=e;this.selectCctv(n,i)}selectNextCctv(t){const e=this.getNextCctv(t);if(!e)return;const{cctvGrpNo:n,channel:i}=e;this.selectCctv(n,i)}activateCctvMode(){this.enableFlag||(this.deactivateCctvMode(),this.maps.onReady(()=>{this.init(),this.enableFlag=!0}))}deactivateCctvMode(){this.enableFlag&&(this.subs.forEach(t=>{t.unsubscribe()}),this.subs.length=0,this.subs=[],this.enableFlag=!1,this.close())}open(t){this.layoutStore.openCctvPopup({data:t})}close(){this.layoutStore.closeCctvPopup()}active(){this.isActivate=!0,this.activateCctvMode()}deactive(){this.isActivate=!1,this.deactivateCctvMode()}}return t.\u0275fac=function(e){return new(e||t)(y.ic(y.F),y.ic(b.a),y.ic(r.e),y.ic(_.a),y.ic(m.e),y.ic(p.b),y.ic(g.a),y.ic(d.a))},t.\u0275prov=y.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"/B5r":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("4+6U"),o=n("sWYD"),r=n("q12y"),a=n("fXoL");let s=(()=>{class t{transform(e,n){if(!e)throw new Error(t.NO_ARGS_ERROR);const a="string"==typeof e?Object(i.a)(e):e;return Object(o.a)(a,n,{locale:r.a})}}return t.NO_ARGS_ERROR="dateTimeFormat: missing required arguments",t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=a.Xb({name:"dateTimeFormat",type:t,pure:!0}),t.\u0275prov=a.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"/GXd":function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return r});var i=function(t){return t[t.Accident=1]="Accident",t[t.Construction=2]="Construction",t[t.Disaster=3]="Disaster",t[t.Event=4]="Event",t[t.Restrict=5]="Restrict",t}({}),o=function(t){return t.Accident="marker:ico-safety-warning-01",t.Construction="marker:ico-safety-warning-02",t.Event="marker:ico-safety-warning-03",t.Disaster="marker:ico-safety-warning-03",t.Etc="marker:ico-safety-warning-03",t.Restrict="marker:ico-safety-warning-04",t}({}),r=function(t){return t.SetData="SetData",t.RemoveData="RemoveData",t.ClearData="ClearData",t.Show="Show",t.Hide="Hide",t.InitLayer="InitLayer",t.UpdateResources="UpdateResources",t.Click="Click",t}({})},"/I4V":function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n("qKIp"),o=n("LRne"),r=n("itXk"),a=n("Q63R"),s=n("lJxs"),c=n("wO+i"),l=n("vkgz"),u=n("fXoL");let p=(()=>{class t{constructor(t,e){this.api=t,this.storage=e,this.subwayTable={},this.loadStorage()}getPlaceIdBySubwayId(t){const e=this.subwayTable[t];return e?Object(o.a)(e):this.fetchSubwayMapTable().pipe(Object(s.a)(()=>this.subwayTable[t]||null))}setSubwayTableKeyValue(t,e){t&&e&&(this.subwayTable[t]=e,this.saveStorage())}getPlaceIdsBySubwayIds(t){const e=[];return t.forEach(t=>{e.push(this.getPlaceIdBySubwayId(t))}),Object(r.a)(e)}fetchSubwayMapTable(){return this.api.getSubwayTable().pipe(Object(c.a)("message"),Object(c.a)("result"),Object(l.a)(t=>{const e=t.dataList.data;this.subwayTable={},e.forEach(t=>{this.subwayTable[t.a]=t.b}),this.saveStorage()}))}saveStorage(){this.storage.set("NM_KeyTable_SUBWAY",this.subwayTable),this.storage.set("NM_KeyTable_SUBWAY_UPDATETIME",(new Date).getTime())}loadStorage(){this.subwayTable=this.storage.get("NM_KeyTable_SUBWAY")||{}}}return t.\u0275fac=function(e){return new(e||t)(u.ic(a.a),u.ic(i.a))},t.\u0275prov=u.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"/Ml4":function(t,e,n){"use strict";n.d(e,"a",function(){return b});var i=n("Asbw"),o=n("eIep"),r=n("Kj3r"),a=n("JX91"),s=n("JplU"),c=n("b8Z8"),l=n("eAWR"),u=n("ZWtM"),p=n("0pZ/"),h=n("XrBI"),d=n("fXoL"),g=n("sYmb");const f=["btn"];let b=(()=>{class t{constructor(t,e,n,i,o){this.maps=t,this.sharePopupService=e,this.nClickService=n,this.zone=i,this.cd=o,this.dataId="",this.dataOption="",this.type="",this.isActive=!1,this.isFocus=!1,this.shareUrl="",this.subs=[]}ngOnInit(){this.subs.push(this.maps.afterReady().pipe(Object(o.a)(()=>this.maps.events.dragEnd),Object(r.a)(200),Object(p.a)(this.zone),Object(a.a)(!0)).subscribe(()=>this.updateSocialPlugin()),this.sharePopupService.hideEvent.pipe(Object(p.a)(this.zone)).subscribe(()=>this.onHide()))}ngOnDestroy(){this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[]}onMouseOver(){this.updateSocialPlugin()}onClick(t){this.isActive||(this.onShow(),this.sharePopupService.showEvent.emit()),this.clickcr(t)}onShow(){this.isActive=!0,this.cd.markForCheck()}onHide(){this.isActive=!1,this.btn.nativeElement.blur(),this.cd.markForCheck()}updateSocialPlugin(){this.shareUrl=location.href,this.cd.markForCheck(),this.sharePopupService.updateSocialPlugIn()}clickcr(t){let e=null;switch(this.type){case"map":e=c.a.ALL_MRT_SHARE;break;case"subway":e=l.a.SUBWAY_TOOLTAP_SHARE;break;case"panorama":e=u.a.STREETVIEW_VIEWER_SHARE}this.nClickService.nClick(t,e)}}return t.\u0275fac=function(e){return new(e||t)(d.Yb(h.a),d.Yb(i.a),d.Yb(s.a),d.Yb(d.F),d.Yb(d.i))},t.\u0275cmp=d.Sb({type:t,selectors:[["share-url-button"]],viewQuery:function(t,e){if(1&t&&d.ad(f,1),2&t){let t;d.Fc(t=d.mc())&&(e.btn=t.first)}},inputs:{dataId:"dataId",dataOption:"dataOption",type:"type"},decls:6,vars:14,consts:[["type","button","data-prevent-short-url","off","data-use-short-url","on","data-style","type_a","data-oninitialize","splugin_oninitialize();",3,"focus","blur","click","mouseover"],["btn",""],[1,"icon","naver-splugin-c"]],template:function(t,e){1&t&&(d.ec(0,"button",0,1),d.lc("focus",function(){return e.isFocus=!0})("blur",function(){return e.isFocus=!1})("click",function(t){return e.onClick(t)})("mouseover",function(){return e.onMouseOver()}),d.pc(2,"translate"),d.ec(3,"span",2),d.Uc(4),d.pc(5,"translate"),d.dc(),d.dc()),2&t&&(d.Nb("naver-splugin btn btn_share ",e.type,""),d.Qb("on",e.isFocus||e.isActive),d.Kb("id",e.dataId)("data-title",d.qc(2,10,"COMMON.NAVER_MAP"))("data-url",e.shareUrl)("data-option",e.dataOption),d.Jb(4),d.Vc(d.qc(5,12,"COMMON.SHARE")))},pipes:[g.c],styles:['[_nghost-%COMP%]   .btn_share[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .btn_share.on[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .btn_share[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .panorama[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .panorama.on[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .panorama[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/home.png);background-size:508px 492px}.retina   [_nghost-%COMP%]   .btn_share[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .btn_share.on[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .btn_share[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .panorama[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .panorama.on[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .panorama[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/home@2x.png)}[_nghost-%COMP%]   .btn_share[_ngcontent-%COMP%]{position:relative;overflow:hidden;width:100%;height:43px;text-align:center;outline:0;border-bottom:1px solid rgba(0,0,0,.1)}[_nghost-%COMP%]   .btn_share[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-position:0 -258px;background-color:#fff}[_nghost-%COMP%]   .btn_share[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .btn_share[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{overflow:hidden;display:inline-block;width:42px;height:43px;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .btn_share[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{background-position:-300px -180px}[_nghost-%COMP%]   .btn_share.on[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{overflow:hidden;display:inline-block;width:42px;height:43px;font-size:0;color:transparent;vertical-align:top;background-position:-300px -135px}[_nghost-%COMP%]   .panorama[_ngcontent-%COMP%]{width:40px;height:40px;border-bottom:none;border-radius:4px}[_nghost-%COMP%]   .panorama[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-position:-252px -303px;background-color:transparent}[_nghost-%COMP%]   .panorama[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .panorama.on[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .panorama[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{overflow:hidden;display:inline-block;width:40px;height:40px;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .panorama.on[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .panorama[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{background-position:-210px -303px}.btn_box + [_nghost-%COMP%]   .btn_share[_ngcontent-%COMP%]{margin-top:0;border-radius:0 0 4px 4px}.btn_box + [_nghost-%COMP%]   .btn_share[_ngcontent-%COMP%]:before{position:absolute;left:0;top:0;right:0;border-top:1px solid hsla(0,0%,100%,.15);content:""}[_nghost-%COMP%]   .subway[_ngcontent-%COMP%]{border-top:1px solid #ededed}'],changeDetection:0}),t})()},"/SBe":function(t,e,n){"use strict";n.d(e,"a",function(){return _});var i=n("/RaO"),o=n("X2Jw"),r=n("qkFu"),a=n("Pbce"),s=n("tF80"),c=n("2Vo4"),l=n("XNiG"),u=n("EY2u"),p=n("lJxs"),h=n("pLZG"),d=n("JIr8"),g=n("nerh"),f=n("lDLV"),b=n("0mAJ"),m=n("fXoL");let _=(()=>{class t{constructor(t,e,n,i,o){this.report=t,this.screenshot=e,this.member=n,this.message=i,this.commonDialog=o,this._isShow=new c.a({isShow:!1,parent:null}),this._isShowReportList=new c.a({isShow:!1,parent:null}),this._isShowReport=new c.a({isShow:!1,parent:null}),this._requestScreenshotFromIframe=new l.a,this._responseScreenshotToIframe=new l.a}get isShow(){return this._isShow}get isShowReportList(){return this._isShowReportList}get isShowReport(){return this._isShowReport}get isShowReportScreenshot(){return this.screenshot.isShow}get isReportReady(){return this.report.isReady}get requestScreenshotFromIframe(){return this._requestScreenshotFromIframe}get responseScreenshotToIframe(){return this._responseScreenshotToIframe}showReportList(t=null,e,n){const i={isShow:!0,parent:e,type:t,summary:n};this.isShow.next(i),this.isShowReportList.next(i)}showReport(t,e,n){const i={isShow:!0,parent:e,type:t,body:n};this.isShow.next(i),this.isShowReport.next(i)}hide(t){const e={isShow:!1,parent:t};this.isShow.next(e),this.isShowReportList.next(e),this.isShowReport.next(e)}requestScreenshot(){this._requestScreenshotFromIframe.next()}responseScreenshot(){this._responseScreenshotToIframe.next()}closeAll(){this.hide(f.c.EntryLayout),this.hide(f.c.ShrinkableLayout),this.report.close()}openModifyPlace(t,e,n=o.b.Place){const r=i.md.replace("${id}",e);this.member.sharedGetLoginStatus.pipe(Object(p.a)(t=>"Y"===t.loginStatus),Object(h.a)(e=>{const i=t.target.getBoundingClientRect();return e||this.commonDialog.showLogin(n,i.left,i.bottom,56),e}),Object(d.a)(t=>(this.message.openThroughTranslation("VOC.ERROR_MESSAGE"),console.error(t),u.a))).subscribe(()=>{Object(a.x)(r,{width:570,height:700,scrollbars:"yes"})})}}return t.\u0275fac=function(e){return new(e||t)(m.ic(b.a),m.ic(g.a),m.ic(s.a),m.ic(r.b),m.ic(o.c))},t.\u0275prov=m.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"/rf6":function(t,e,n){"use strict";function i(t,e,n){void 0===n&&(n={});var i={type:"Feature"};return(0===n.id||n.id)&&(i.id=n.id),n.bbox&&(i.bbox=n.bbox),i.properties=e||{},i.geometry=t,i}function o(t,e,n){return void 0===n&&(n={}),i({type:"Point",coordinates:t},e,n)}function r(t,e,n){void 0===n&&(n={});for(var o=0,r=t;o<r.length;o++){var a=r[o];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return i({type:"Polygon",coordinates:t},e,n)}function a(t,e,n){if(void 0===n&&(n={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return i({type:"LineString",coordinates:t},e,n)}function s(t,e){void 0===e&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function c(t,e,n){return void 0===n&&(n={}),i({type:"MultiLineString",coordinates:t},e,n)}function l(t,e,n){return void 0===n&&(n={}),i({type:"MultiPoint",coordinates:t},e,n)}function u(t,e,n){return void 0===n&&(n={}),i({type:"MultiPolygon",coordinates:t},e,n)}function p(t,n){void 0===n&&(n="kilometers");var i=e.factors[n];if(!i)throw new Error(n+" units is invalid");return t*i}function h(t,n){void 0===n&&(n="kilometers");var i=e.factors[n];if(!i)throw new Error(n+" units is invalid");return t/i}function d(t){return t%(2*Math.PI)*180/Math.PI}function g(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)&&!/^\s*$/.test(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:e.earthRadius/1.0936},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1/1.0936},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=i,e.geometry=function(t,e,n){switch(void 0===n&&(n={}),t){case"Point":return o(e).geometry;case"LineString":return a(e).geometry;case"Polygon":return r(e).geometry;case"MultiPoint":return l(e).geometry;case"MultiLineString":return c(e).geometry;case"MultiPolygon":return u(e).geometry;default:throw new Error(t+" is invalid")}},e.point=o,e.points=function(t,e,n){return void 0===n&&(n={}),s(t.map(function(t){return o(t,e)}),n)},e.polygon=r,e.polygons=function(t,e,n){return void 0===n&&(n={}),s(t.map(function(t){return r(t,e)}),n)},e.lineString=a,e.lineStrings=function(t,e,n){return void 0===n&&(n={}),s(t.map(function(t){return a(t,e)}),n)},e.featureCollection=s,e.multiLineString=c,e.multiPoint=l,e.multiPolygon=u,e.geometryCollection=function(t,e,n){return void 0===n&&(n={}),i({type:"GeometryCollection",geometries:t},e,n)},e.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n},e.radiansToLength=p,e.lengthToRadians=h,e.lengthToDegrees=function(t,e){return d(h(t,e))},e.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=d,e.degreesToRadians=function(t){return t%360*Math.PI/180},e.convertLength=function(t,e,n){if(void 0===e&&(e="kilometers"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("length must be a positive number");return p(h(t,e),n)},e.convertArea=function(t,n,i){if(void 0===n&&(n="meters"),void 0===i&&(i="kilometers"),!(t>=0))throw new Error("area must be a positive number");var o=e.areaFactors[n];if(!o)throw new Error("invalid original units");var r=e.areaFactors[i];if(!r)throw new Error("invalid final units");return t/o*r},e.isNumber=g,e.isObject=function(t){return!!t&&t.constructor===Object},e.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!g(t))throw new Error("bbox must only contain numbers")})},e.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")},e.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},e.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},e.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},e.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},e.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},e.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},e.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},"/sq9":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"g",function(){return o}),n.d(e,"i",function(){return r}),n.d(e,"h",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"a",function(){return c}),n.d(e,"e",function(){return l}),n.d(e,"d",function(){return u}),n.d(e,"f",function(){return p});var i=function(t){return t.OPEN="open",t.CLOSE="close",t.OK="ok",t.DELETE="delete",t}({}),o=function(t){return t.OPEN="open",t.CLOSE="close",t.OK="ok",t.DELETE="delete",t}({}),r=function(t){return t.FOLDER="folder",t.PLACE="place",t.BUS="bus",t.SUBWAY="subway",t.ROUTE="route",t}({}),a=function(t){return t.OPEN="open",t.CLOSE="close",t.EDIT_FOLDER="edit-folder",t.DELETE_FOLDER="delete-folder",t.EDIT_BOOKMARK="edit-bookmark",t.EDIT_BOOKMARK_MEMO="edit-bookmark-memo",t.MOVE_BOOKMARK="move-bookmark",t.DELETE_BOOKMARK="delete-bookmark",t}({}),s=function(t){return t.ADD_MODE="add-bookmark-mode",t.EDIT_MODE="edit-bookmark-mode",t.MOVE_MODE="move-bookmark-in-folder-mode",t.MOVE_MULTI_MODE="move-multiple-bookmarks-in-folder-mode",t}({}),c=function(t){return t.OPEN="open",t.CLOSE="close",t.MOVE="move-bookmark",t}({}),l=function(t){return t.ADD_MODE="add-bookmark-folder-mode",t.EDIT_MODE="edit-bookmark-folder-mode",t}({}),u=function(t){return t.OPEN="open",t.CLOSE="close",t}({}),p=function(t){return t.OPEN="open",t.CLOSE="close",t.SELECT_ROUTE="select-route",t.SELECT_PLACE="select-place",t.SELECT_BUSSTOP="select-busstop",t}({})},"02YN":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("xgIS"),o=n("jtHE"),r=n("JX91"),a=n("lJxs"),s=n("fXoL");let c=(()=>{class t{constructor(){this.document=document,this.legacyVisibilityHandleFn=this.legacyVisibilityHandler.bind(this),this.initializeVisibilityParameters()}onVisibilityChange(){return Object(i.a)(document,"visibilitychange").pipe(Object(r.a)(document.visibilityState),Object(a.a)(()=>"visible"===document.visibilityState))}initializeVisibilityParameters(){void 0!==this.document.hidden?(this.hiddenProperty="hidden",this.pageVisibilityChangeEvent="visibilitychange"):void 0!==this.document.mozHidden?(this.hiddenProperty="mozHidden",this.pageVisibilityChangeEvent="mozvisibilitychange"):void 0!==this.document.msHidden?(this.hiddenProperty="msHidden",this.pageVisibilityChangeEvent="msvisibilitychange"):void 0!==this.document.webkitHidden&&(this.hiddenProperty="webkitHidden",this.pageVisibilityChangeEvent="webkitvisibilitychange")}setupVisibilityHandler(){this.pageVisibility=new o.a(1),void 0===this.document.addEventListener||void 0===this.document[this.hiddenProperty]?(window.onblur=this.legacyVisibilityHandleFn,window.onfocus=this.legacyVisibilityHandleFn):this.document.addEventListener(this.pageVisibilityChangeEvent,()=>{this.pageVisibility.next(!this.document[this.hiddenProperty])})}legacyVisibilityHandler(t){this.pageVisibility.next("focus"===t.type)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"0CzW":function(t,e,n){"use strict";n.d(e,"e",function(){return i}),n.d(e,"j",function(){return o}),n.d(e,"f",function(){return r}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return s}),n.d(e,"i",function(){return c}),n.d(e,"k",function(){return l}),n.d(e,"b",function(){return u}),n.d(e,"a",function(){return p}),n.d(e,"d",function(){return h}),n.d(e,"c",function(){return d});var i=function(t){return t[t.Up=1]="Up",t[t.Down=2]="Down",t}({}),o=function(t){return t[t.FineDust=1]="FineDust",t[t.FineParticulateDust=2]="FineParticulateDust",t[t.Uv=3]="Uv",t[t.Icon=4]="Icon",t[t.Ozone=5]="Ozone",t}({}),r=function(t){return t[t.WeatherBasicType1=1]="WeatherBasicType1",t[t.WeatherBasicType2=2]="WeatherBasicType2",t[t.WeatherBasicType3=3]="WeatherBasicType3",t[t.WeatherBasicType4=4]="WeatherBasicType4",t[t.WeatherBasicType5=5]="WeatherBasicType5",t[t.WeatherBasicType6=6]="WeatherBasicType6",t[t.WeatherBasicType7=7]="WeatherBasicType7",t[t.WeatherBasicType8=8]="WeatherBasicType8",t[t.WeatherBasicType9=9]="WeatherBasicType9",t[t.WeatherBasicType10=10]="WeatherBasicType10",t[t.WeatherBasicType11=11]="WeatherBasicType11",t[t.WeatherBasicType12=12]="WeatherBasicType12",t[t.WeatherBasicType13=13]="WeatherBasicType13",t[t.WeatherBasicType14=14]="WeatherBasicType14",t[t.WeatherBasicType15=15]="WeatherBasicType15",t[t.WeatherBasicType16=16]="WeatherBasicType16",t[t.WeatherBasicType17=17]="WeatherBasicType17",t[t.WeatherBasicType18=18]="WeatherBasicType18",t[t.WeatherBasicType19=19]="WeatherBasicType19",t[t.WeatherBasicType20=20]="WeatherBasicType20",t[t.WeatherBasicType21=21]="WeatherBasicType21",t[t.WeatherBasicType22=22]="WeatherBasicType22",t[t.WeatherBasicType23=23]="WeatherBasicType23",t[t.WeatherBasicType24=24]="WeatherBasicType24",t[t.WeatherBasicType25=25]="WeatherBasicType25",t[t.WeatherBasicType26=26]="WeatherBasicType26",t[t.WeatherBasicType27=27]="WeatherBasicType27",t[t.WeatherBasicType28=28]="WeatherBasicType28",t[t.WeatherBasicType29=29]="WeatherBasicType29",t[t.WeatherBasicType30=30]="WeatherBasicType30",t}({}),a=function(t){return t[t.High=1]="High",t[t.Low=2]="Low",t[t.Same=3]="Same",t}({}),s=function(t){return t[t.Good=1]="Good",t[t.Normal=2]="Normal",t[t.Bad=3]="Bad",t[t.VeryBad=4]="VeryBad",t}({}),c=function(t){return t[t.Good=1]="Good",t[t.Normal=2]="Normal",t[t.Bad=3]="Bad",t[t.VeryBad=4]="VeryBad",t}({}),l=function(t){return t[t.Low=1]="Low",t[t.Normal=2]="Normal",t[t.High=3]="High",t[t.VeryHigh=4]="VeryHigh",t[t.Danger=5]="Danger",t}({}),u=function(t){return t[t.ChargerType1=1]="ChargerType1",t[t.ChargerType2=2]="ChargerType2",t[t.ChargerType3=3]="ChargerType3",t[t.ChargerType4=4]="ChargerType4",t[t.ChargerType5=5]="ChargerType5",t[t.ChargerType6=6]="ChargerType6",t[t.ChargerType7=7]="ChargerType7",t}({}),p=function(t){return t[t.Fast=0]="Fast",t[t.Slow=1]="Slow",t}({}),h=function(t){return t.B027="\ud718\ubc1c\uc720",t.B034="\uace0\uae09\ud718\ubc1c\uc720",t.D047="\uacbd\uc720",t.K015="LPG",t}({}),d=function(t){return t.Goodchoice="\uc5ec\uae30\uc5b4\ub54c",t.Yanolja2="\uc57c\ub180\uc790",t.Kozaza="\ucf54\uc790\uc790",t.Yeogiya="\uc5ec\uae30\uc57c",t}({})},"0URC":function(t,e,n){"use strict";n.d(e,"b",function(){return x}),n.d(e,"a",function(){return k}),n.d(e,"d",function(){return R}),n.d(e,"e",function(){return g}),n.d(e,"c",function(){return r}),n.d(e,"f",function(){return F});var i=n("fXoL"),o=n("VRyK"),r=function(t){return t[t.ShowWidget=0]="ShowWidget",t[t.HideWidget=1]="HideWidget",t[t.UpdateToolTip=2]="UpdateToolTip",t[t.UpdateResult=3]="UpdateResult",t[t.CompleteResult=4]="CompleteResult",t[t.CancelResult=5]="CancelResult",t}({}),a=n("/rf6"),s=n("Xrjk"),c=n.n(s),l=n("j3ZU"),u=n.n(l),p=n("qhoL"),h=n.n(p),d=n("sYmb");let g=(()=>{class t{constructor(t){this.translate=t}toKm(t){return t>=1e3?(t/1e3).toFixed(1)+" km":t.toFixed(1)+" m"}toKmObj(t){return t>=1e3?{distance:(t/1e3).toFixed(1),unit:"km"}:{distance:t.toFixed(1),unit:"m"}}toSquareKmObj(t){return t>=1e6?{area:(t/1e6).toFixed(1),unit:"km"}:{area:t.toFixed(1),unit:"m"}}toMile(t){return this.translate.instant("UNIT.MILE",{value:(.000621371192*t).toFixed(1)})}toMeterByLineString(t){return 1e3*c()(t,{units:"kilometers"})}toMeterByTwoPoints(t,e){return 1e3*u()(t,e,{units:"kilometers"})}generateAnchorByDirection(t,e,n){const i=h()(t,e),o=Object(a.bearingToAzimuth)(i);let r=null,s=null;o>=0&&o<90||o>270&&o<=360?(r="top",s="bottom"):(r="bottom",s="top"),o>=0&&o<180?(r+="-right",s+="-left"):(r+="-left",s+="-right"),n||(t.properties.anchor=r),e.properties.anchor=s}emit(t,e,n=null){t.emit({type:e,data:n})}generateId(){return String((new Date).getTime())}makePoint(t,e,n){const i=Object(a.point)([t,e],{id:this.generateId()});return n&&(i.properties=Object.assign(Object.assign({},i.properties),n)),i}getWalkInfo(t){return this.getTransportationInfo(t,67)}getBicycleInfo(t){return this.getTransportationInfo(t,267)}getTransportationInfo(t,e){const n=Math.floor(t/e);return{time:n,hour:n>=60?Math.floor(n/60):0}}}return t.\u0275fac=function(e){return new(e||t)(i.ic(d.d))},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=n("tSqg"),b=n("z6kb"),m=n("pLZG"),_=n("vkgz"),y=n("1Ykd"),O=n("rS+x"),v=n("JplU"),C=n("b8Z8"),P=n("MoEl"),M=n("XrBI");let x=(()=>{class t{constructor(t,e,n,o,r,a,s,c){this.maps=t,this.zone=e,this.contextMenu=n,this.status=o,this.toolboxUtil=r,this.shortcut=a,this.nClickService=s,this.globalStatus=c,this._events=new i.q,this.subs=[],this.keySubs=[],this.moveSubs=[],this.isEventActivate=!1,this.isDrawing=!0,this.measureInfoList=[]}get events(){return this._events}getDataList(){return this.measureInfoList.reduce((t,e,n)=>{var i;if(!(null===(i=e.lineInfo)||void 0===i?void 0:i.length))return;const o=e.lineInfo.map(t=>{const e=t.distance,i=this.toolboxUtil.toKmObj(e);return Object.assign(Object.assign({coordinates:{lng:t.coordinates.x,lat:t.coordinates.y}},i),{index:n,meter:e})}),r=o[o.length-1],a=this.toolboxUtil.getWalkInfo(r.meter),s=this.toolboxUtil.getBicycleInfo(r.meter),c={coordinates:r.coordinates,distance:r.distance,unit:r.unit,walkTime:a.time,walkHour:a.hour,bicycleTime:s.time,bicycleHour:s.hour};return t.label.push(o),t.data.push(c),t},{label:[],data:[]})}activate(){this.status.isDistanceToolboxOn=!0,this.contextMenu.setOnDistanceMode(),this.status.suspendMapsClick(b.d.ToolBoxDistance),this.isEventActivate=!1,this.subs=[this.maps.events.onClick().pipe(Object(m.a)(()=>this.status.isLastSuspendedMapsClick(b.d.ToolBoxDistance)),Object(m.a)(t=>!!t.lngLat)).subscribe(t=>{this.addPoint(t),this.nClickService.nClick(t,C.a.ALL_DISTLAYER_DISTANCE),this.isEventActivate||(this.activateKey(),this.activateMove(),this.isEventActivate=!0)})],this.toolboxUtil.emit(this.events,r.ShowWidget)}deactivate(){this.checkDraft()?this.addMeasureInfo():this.clearDraft(),this.status.isDistanceToolboxOn=!1,this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[],this.deactivateKey(),this.deactivateMove(),this.isEventActivate=!1,this.status.resumeMapsClick(b.d.ToolBoxDistance),this.toolboxUtil.emit(this.events,r.CancelResult),this.contextMenu.setOffDistanceMode(),this.isDrawing&&(this.isDrawing=!1),this.isDelete()&&this.delete()}isDelete(){return!this.measureInfoList.length&&!this.draft}delete(){this.clearDistanceInfoList(),this.clearDraft(),this.toolboxUtil.emit(this.events,r.HideWidget)}removeInfo(t){const e=this.measureInfoList.splice(t,1);this.clear(e[0])}getDraft(){return this.draft||(this.draft={points:[]}),this.draft}addPoint(t){const e=this.getDraft(),n=this.maps.createMarker({position:t.latlng,icon:{path:naver.maps.SymbolPath.CIRCLE,anchor:naver.maps.Position.CENTER,radius:5,fillColor:"#fff",fillOpacity:1,strokeColor:"#ff005e",strokeWeight:3},clickable:!1}),i=e.points.length?e.points[e.points.length-1]:null;if(e.points.push(n),i){const n=i.getPosition();e.line?e.line.getPath().push(t.latlng):(e.lineInfo=[],e.line=this.maps.createPolyline({path:[n,t.latlng],strokeWeight:3,strokeColor:"#ff005e",clickable:!1}));const o={distance:e.line.getDistance(),coordinates:t.latlng};e.lineInfo.push(o),this.toolboxUtil.emit(this.events,r.UpdateResult,Object.assign(Object.assign({},o),{isLabel:!0}))}this.updateDraftTmpLineFrom(t.latlng),this.isDrawing=!0}updateDraftTmpLineFrom(t){this.draft.tmpLine?this.draft.tmpLine.getPath().setAt(0,new naver.maps.LatLng(t.y,t.x)):this.createDraftTmpLine(t,t)}updateDraftTmpLineTo(t){if(this.draft.tmpLine){const e=this.draft.tmpLine.getPath();return void e.setAt(e.getLength()-1,new naver.maps.LatLng(t.y,t.x))}const e=this.draft.points[this.draft.points.length-1].getPosition();this.createDraftTmpLine(e,t)}createDraftTmpLine(t,e){this.removeDraftTmpLine(),this.draft.tmpLine=this.maps.createPolyline({path:[t,e],strokeWeight:3,strokeColor:"#ff005e",strokeOpacity:.3,clickable:!1})}removeDraftTmpLine(){var t;(null===(t=this.draft)||void 0===t?void 0:t.tmpLine)&&(this.draft.tmpLine.setMap(),this.draft.tmpLine=null)}makeInfo(){const{points:t,line:e,lineInfo:n,tmpLine:i}=this.draft;return null==i||i.setMap(),this.draft=null,{points:t,line:e,lineInfo:n}}activateKey(){this.keySubs.push(Object(o.a)(this.shortcut.keydown.pipe(Object(m.a)(t=>this.status.isLastSuspendedMapsClick(b.d.ToolBoxDistance)&&t.type===O.r.Escape),Object(_.a)(t=>{t.data.e.preventDefault()})),this.maps.events.contextMenu.pipe(Object(m.a)(()=>this.globalStatus.isMeasureMode))).subscribe(()=>{this.deactivate()}))}deactivateKey(){this.keySubs.forEach(t=>t.unsubscribe()),this.keySubs.length=0,this.keySubs=[]}activateMove(){this.moveSubs.push(this.maps.events.mouseMove.pipe(Object(y.a)(20)).subscribe(t=>{this.updateDraftTmpLineTo(t.latlng),this.emitDraftInfo(t.latlng)}))}deactivateMove(){this.moveSubs.forEach(t=>t.unsubscribe()),this.moveSubs.length=0,this.moveSubs=[]}emitDraftInfo(t){var e;const n=(null===(e=this.draft.line)||void 0===e?void 0:e.getDistance())||0,i=this.draft.tmpLine.getDistance();this.toolboxUtil.emit(this.events,r.UpdateResult,{distance:n+i,coordinates:{lng:t.x,lat:t.y}})}clearDistanceInfoList(){var t;(null===(t=this.measureInfoList)||void 0===t?void 0:t.length)&&(this.measureInfoList.forEach(t=>{this.clear(t)}),this.measureInfoList=[])}clearDraft(){this.clear(this.draft),this.draft=void 0}clear(t){var e;t&&(null===(e=t.points)||void 0===e||e.forEach(t=>t.setMap()),t.line&&t.line.setMap(),t.tmpLine&&t.tmpLine.setMap())}checkDraft(){var t;return(null===(t=this.draft)||void 0===t?void 0:t.points.length)>1}addMeasureInfo(){const t=this.makeInfo();this.measureInfoList.push(t);const e=t.line.getDistance(),n=t.points[t.points.length-1].getPosition();this.toolboxUtil.emit(this.events,r.CompleteResult,{distance:e,coordinates:{lng:n.x,lat:n.y}}),this.status.measureTotal+=1}}return t.\u0275fac=function(e){return new(e||t)(i.ic(M.a),i.ic(i.F),i.ic(f.b),i.ic(b.e),i.ic(g),i.ic(P.a),i.ic(v.a),i.ic(b.e))},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var w=n("CJka");let k=(()=>{class t{constructor(t,e,n,o,r,a,s,c,l){this.maps=t,this.zone=e,this.contextMenu=n,this.status=o,this.toolboxUtil=r,this.shortcut=a,this.uaParser=s,this.nClickService=c,this.globalStatus=l,this._events=new i.q,this.subs=[],this.keySubs=[],this.moveSubs=[],this.fc=null,this.isEventActivate=!1,this.isDrawing=!0,this.measureInfoList=[]}get events(){return this._events}getDataList(){return this.measureInfoList.map(t=>{const e=t.polygon.getAreaSize(),n=this.toolboxUtil.toSquareKmObj(e),i=t.points[t.points.length-1].getPosition();return Object.assign({coordinates:{lng:i.x,lat:i.y}},n)})||[]}activate(){this.status.isAreaToolboxOn=!0,this.contextMenu.setOnAreaMode(),this.status.suspendMapsClick(b.d.ToolBoxArea),this.fc=this.maps.getFeatureCollection(),this.subs=[this.maps.events.onClick().pipe(Object(m.a)(()=>this.status.isLastSuspendedMapsClick(b.d.ToolBoxArea)),Object(m.a)(t=>!!t.lngLat)).subscribe(t=>{this.addPoint(t.latlng),this.insertPolygon(),this.nClickService.nClick(t,C.a.ALL_AREALAYER_AREA),this.isEventActivate||(this.activateMove(),this.activateKeyup(),this.isEventActivate=!0)})],this.toolboxUtil.emit(this.events,r.ShowWidget)}deactivate(){this.endDraft(),this.uaParser.isTablet&&this.maps.enableDragPan(),this.status.isAreaToolboxOn=!1,this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[],this.deactivateKeyUp(),this.deactivateMove(),this.isEventActivate=!1,this.status.resumeMapsClick(b.d.ToolBoxArea),this.toolboxUtil.emit(this.events,r.CancelResult),this.contextMenu.setOffAreaMode(),this.isDrawing&&(this.isDrawing=!1),this.isDelete()&&this.delete()}isDelete(){return!this.measureInfoList.length&&!this.draft}delete(){this.toolboxUtil.emit(this.events,r.HideWidget)}removeInfo(t){const e=this.measureInfoList.splice(t,1);this.clear(e[0])}activateKeyup(){this.keySubs.push(Object(o.a)(this.shortcut.keydown.pipe(Object(m.a)(t=>this.status.isLastSuspendedMapsClick(b.d.ToolBoxArea)&&t.type===O.r.Escape),Object(_.a)(t=>{t.data.e.preventDefault()})),this.maps.events.contextMenu.pipe(Object(m.a)(()=>this.globalStatus.isMeasureMode))).subscribe(()=>{this.deactivate()}))}endDraft(){var t;(null===(t=this.draft)||void 0===t?void 0:t.points.length)<3?this.clearDraft():(this.addMeasureInfo(),this.status.measureTotal+=1)}deactivateKeyUp(){this.keySubs.forEach(t=>t.unsubscribe()),this.keySubs.length=0,this.keySubs=[]}activateMove(){this.uaParser.isTablet&&this.maps.disableDragPan(),this.moveSubs.push(this.maps.events.mouseMove.pipe(Object(y.a)(20)).subscribe(t=>{this.updatePolygon(t.latlng)}))}deactivateMove(){this.moveSubs.forEach(t=>t.unsubscribe()),this.moveSubs.length=0,this.moveSubs=[]}getDraft(){return this.draft||(this.draft={points:[]}),this.draft}addPoint(t){const e=this.getDraft(),n=this.maps.createMarker({position:t,icon:{path:naver.maps.SymbolPath.CIRCLE,anchor:naver.maps.Position.CENTER,radius:5,fillOpacity:1,fillColor:"#fff",strokeColor:"#0058ff",strokeWeight:3},clickable:!1});e.points.push(n),this.isDrawing=!0}createPolygon(){if(this.draft.polygon)return;const t=this.draft.points;this.draft.polygon=this.maps.createPolygon({paths:[[t[0].getPosition(),t[0].getPosition()]],fillColor:"#0058ff",fillOpacity:.1,strokeColor:"#0058ff",strokeWeight:3,strokeOpacity:.5,clickable:!1})}insertPolygon(){this.createPolygon();const t=this.draft.points;if(t.length<2)return;const e=t[t.length-1],n=this.draft.polygon.getPaths().getAt(0);n.insertAt(n.getLength()-2,e.getPosition())}updatePolygon(t){if(!this.draft.polygon)return;const e=this.draft.polygon,n=e.getPaths().getAt(0);n.getLength()<=2?n.insertAt(n.getLength()-1,t):n.setAt(n.getLength()-2,t);const i=e.getAreaSize();0!==i&&this.toolboxUtil.emit(this.events,r.UpdateResult,{coordinates:t,sqmeter:i})}clearDraft(){this.clear(this.draft),this.draft=null}clear(t){t&&(t.polygon&&t.polygon.setMap(),t.points&&t.points.forEach(t=>t.setMap()))}addMeasureInfo(){if(!this.draft)return;const t=this.draft,e=t.polygon.getPath();e.removeAt(e.getLength()-2),this.measureInfoList.push(t),this.draft=null;const n=t.points[t.points.length-1].getPosition();this.toolboxUtil.emit(this.events,r.CompleteResult,{sqmeter:t.polygon.getAreaSize(),coordinates:{lng:n.x,lat:n.y}})}}return t.\u0275fac=function(e){return new(e||t)(i.ic(M.a),i.ic(i.F),i.ic(f.b),i.ic(b.e),i.ic(g),i.ic(P.a),i.ic(w.a),i.ic(v.a),i.ic(b.e))},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var S=n("2Vo4"),E=n("eIep"),I=n("1G5W");let R=(()=>{class t{constructor(t,e,n,o,r,a,s,c){this.maps=t,this.zone=e,this.contextMenu=n,this.status=o,this.toolboxUtil=r,this.globalStatus=a,this.shortcut=s,this.uaParser=c,this._events=new i.q,this.isDrawing=new S.a(!1),this.measureInfoList=[]}get events(){return this._events}getDataList(){var t;return(null===(t=this.measureInfoList)||void 0===t?void 0:t.map(t=>{const e=t.line.getDistance(),n=t.to.getPosition(),i={lng:n.x,lat:n.y},o=this.toolboxUtil.toKmObj(e),r=this.toolboxUtil.toMile(e);return Object.assign(Object.assign({coordinates:i},o),{miles:r})}))||[]}activate(){this.status.isRadiusToolboxOn=!0,this.contextMenu.setOnRadiusMode(),this.status.suspendMapsClick(b.d.ToolBoxRadius),this.uaParser.isTablet&&this.maps.disableDragPan(),this.sub=this.makeDrawingStream(),this.toolboxUtil.emit(this.events,r.ShowWidget)}deactivate(){var t;this.clearDraft(),this.status.isRadiusToolboxOn=!1,!1===(null===(t=this.sub)||void 0===t?void 0:t.closed)&&this.sub.unsubscribe(),this.toolboxUtil.emit(this.events,r.CancelResult),this.contextMenu.setOffRadiusMode(),this.status.resumeMapsClick(b.d.ToolBoxRadius),this.uaParser.isTablet&&this.maps.enableDragPan(),this.isDelete()&&this.delete()}isDelete(){return!this.measureInfoList.length&&!this.draft}delete(){this.clearInfoList(),this.clearDraft(),this.toolboxUtil.emit(this.events,r.HideWidget)}removeInfo(t){const e=this.measureInfoList.splice(t,1);this.clearInfo(e[0])}addMeasureInfo(t){this.getDistanceAfterUpdateToPoint(t),this.measureInfoList.push(this.draft),this.createFromPoint(this.draft.from.getPosition()),this.toolboxUtil.emit(this.events,r.CompleteResult,{coordinates:t}),this.status.measureTotal+=1}createPoint(t){return this.maps.createMarker({position:t,icon:{path:naver.maps.SymbolPath.CIRCLE,anchor:naver.maps.Position.CENTER,radius:5,fillColor:"#fff",fillOpacity:1,strokeColor:"#6200ff",strokeWeight:3},clickable:!1})}createFromPoint(t){const e=this.createPoint(t);this.draft={from:e}}updateToPoint(t){if(this.draft.to)return void this.draft.to.setPosition(t);const e=this.createPoint(t);this.draft.to=e}updateLine(t){if(this.draft.line)return void this.draft.line.getPath().setAt(1,t);const{from:e,to:n}=this.draft,i=this.maps.createPolyline({path:[e.getPosition(),n.getPosition()],strokeWeight:3,strokeColor:"#6200ff",strokeOpacity:.5});this.draft.line=i}getDraftLineDistance(){return this.draft.line.getDistance()}updateCircle(t){if(this.draft.circle)return void this.draft.circle.setRadius(t);const e=this.maps.createCircle({center:this.draft.from.getPosition(),radius:t,fillColor:"#6200ff",fillOpacity:.1,strokeWeight:3,strokeColor:"#6200ff",strokeOpacity:.5,clickable:!1});this.draft.circle=e}getDistanceAfterUpdateToPoint(t){this.updateToPoint(t),this.updateLine(t);const e=this.getDraftLineDistance();return this.updateCircle(e),e}calcCircleAndLine(t){const e=this.getDistanceAfterUpdateToPoint(t);e<.01||this.toolboxUtil.emit(this.events,r.UpdateResult,{coordinates:t,distance:e})}clearDraft(){this.draft&&(this.clearInfo(this.draft),this.draft=void 0)}clearInfo(t){if(!t)return;const{from:e,to:n,line:i,circle:o}=t;e&&e.setMap(),n&&n.setMap(),i&&i.setMap(),o&&o.setMap()}clearInfoList(){var t;(null===(t=this.measureInfoList)||void 0===t?void 0:t.length)&&(this.measureInfoList.forEach(t=>{this.clearInfo(t)}),this.measureInfoList=[])}makeDrawingStream(){const t=this.maps.events.onClick().pipe(Object(m.a)(()=>this.status.isLastSuspendedMapsClick(b.d.ToolBoxRadius)),Object(m.a)(t=>!!t.lngLat)).pipe(Object(E.a)(t=>(this.isDrawing.getValue()?this.addMeasureInfo(t.latlng):(this.isDrawing.next(!0),this.clearDraft(),this.createFromPoint(t.latlng)),this.maps.events.mouseMove.pipe(Object(I.a)(this.isDrawing.pipe(Object(m.a)(t=>!t))),Object(y.a)(20),Object(_.a)(t=>this.calcCircleAndLine(t.latlng)))))),e=Object(o.a)(this.shortcut.keydown.pipe(Object(m.a)(t=>this.status.isLastSuspendedMapsClick(b.d.ToolBoxRadius)&&t.type===O.r.Escape),Object(_.a)(t=>{t.data.e.preventDefault()})),this.maps.events.contextMenu.pipe(Object(m.a)(()=>this.globalStatus.isMeasureMode))).pipe(Object(m.a)(()=>{const t=this.isDrawing.getValue();return t&&this.isDrawing.next(!1),this.deactivate(),this.toolboxUtil.emit(this.events,r.CancelResult),t}));return Object(o.a)(t,e).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.ic(M.a),i.ic(i.F),i.ic(f.b),i.ic(b.e),i.ic(g),i.ic(b.e),i.ic(P.a),i.ic(w.a))},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var T=n("8Vp+"),A=n("qkFu"),L=n("rRUm"),j=n("o0su"),D=n("ApIJ");let F=(()=>{class t{constructor(t,e,n,i,o,r,a,s,c,l){this.cartoManager=t,this.toolboxArea=e,this.toolboxDistance=n,this.toolboxRadius=i,this.uaParser=o,this.cctv=r,this.maps=a,this.globalStatus=s,this.locationInfo=c,this.msg=l}activateArea(){this.toolboxRadius.deactivate(),this.toolboxDistance.deactivate(),this.toolboxArea.activate()}deactivateArea(){this.toolboxArea.deactivate()}activateDistance(){this.toolboxRadius.deactivate(),this.toolboxArea.deactivate(),this.toolboxDistance.activate()}deactivateDistance(){this.toolboxDistance.deactivate()}activateRadius(){this.toolboxArea.deactivate(),this.toolboxDistance.deactivate(),this.toolboxRadius.activate()}deactivateRadius(){this.toolboxRadius.deactivate()}deactivateAll(){this.toolboxArea.deactivate(),this.toolboxDistance.deactivate(),this.toolboxRadius.deactivate()}activateMeasureMode(t){this.offWeatherLayer(),this.offPanoramaLayer(),this.maps.setCursor(t),this.globalStatus.isMeasureMode=!0,this.locationInfo.deactivate(),this.cctv.deactive(),this.maps.disableDoubleClickZoom()}deactivateMeasureMode(){this.maps.clearCursor(),this.globalStatus.isMeasureMode=!1,this.locationInfo.activate(),this.cctv.active(),this.maps.enableDoubleClickZoom()}openMessage(){this.msg.openThroughTranslation("COMMON.MEASURE_TOTAL")}offWeatherLayer(){this.cartoManager.offLayer(D.g.Weather)}offPanoramaLayer(){this.cartoManager.offLayer(D.g.Panorama)}}return t.\u0275fac=function(e){return new(e||t)(i.ic(j.b),i.ic(k),i.ic(x),i.ic(R),i.ic(w.a),i.ic(L.a),i.ic(M.a),i.ic(b.e),i.ic(T.a),i.ic(A.b))},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"0mAJ":function(t,e,n){"use strict";n.d(e,"a",function(){return b});var i=n("qkFu"),o=n("tF80"),r=n("qKIp"),a=n("XNiG"),s=n("EY2u"),c=n("pLZG"),l=n("eIep"),u=n("IzEk"),p=n("lJxs"),h=n("JIr8"),d=n("nerh"),g=n("U0qn"),f=n("fXoL");let b=(()=>{class t{constructor(t,e,n,i){this.reportScreenshot=t,this.member=e,this.message=n,this.localStorage=i,this._body={},this._isReady=new a.a,this._changedBody=new a.a}get body(){return this._body}get isReady(){return this._isReady}get changedBody(){return this._changedBody}open(t,e){this.checkLogin().pipe(Object(c.a)(t=>t),Object(l.a)(()=>(this.init(),t.useImg?this.requestMapScreenshot(t.bodyType):(e&&this.updateBody(Object.assign({},e)),this.setReportReady(t.bodyType),s.a)))).subscribe(n=>{this.setImageData(n.imageData);const i=n.meta,o=n.meta.center;this.updateBody(Object.assign({target_poi_latitude:o.lat,target_poi_longitude:o.lng,address:i.address,road_address:i.roadAddress},e)),this.setReportReady(t.bodyType)})}close(){this.reportScreenshot.hide()}updateBody(t){this._body=Object.assign(Object.assign({},this._body),t),this._changedBody.next(this._body)}requestMapScreenshot(t){return this.reportScreenshot.show(t),this.reportScreenshot.screenshot.pipe(Object(u.a)(1))}init(){this.updateBody(this.getDefaultData())}setReportReady(t){this._isReady.next({type:t,update:this.updateBody.bind(this)})}checkLogin(){return this.member.sharedGetLoginStatus.pipe(Object(p.a)(t=>"Y"===t.loginStatus),Object(c.a)(t=>(t||(this.localStorage.set(g.a,window.location.pathname),this.member.goLoginPage()),t)),Object(h.a)(t=>(this.message.openThroughTranslation("REPORT.ERROR_MESSAGE"),console.error(t),s.a)))}setImageData(t){this._body.capture_img_list=t}getDefaultData(){return{device:window.navigator.userAgent,replay_url:window.location.href,service_version:"v5",use_iframe:"true",user_id:this.member.loginStatus.loginId}}}return t.\u0275fac=function(e){return new(e||t)(f.ic(d.a),f.ic(o.a),f.ic(i.b),f.ic(r.a))},t.\u0275prov=f.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"0z79":function(t,e,n){var i=n("AdPF"),o=n("CUme"),r=n("2xqC"),a=n("Yvos"),s=n("x7D4")("engine.io-client:polling-xhr");function c(){}function l(t){if(o.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,"undefined"!=typeof location){var e="https:"===location.protocol,n=location.port;n||(n=e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}}function u(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}if(t.exports=l,t.exports.Request=u,a(l,o),l.prototype.supportsBinary=!0,l.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new u(t)},l.prototype.doWrite=function(t,e){var n=this.request({method:"POST",data:t,isBinary:"string"!=typeof t&&void 0!==t}),i=this;n.on("success",e),n.on("error",function(t){i.onError("xhr post error",t)}),this.sendXhr=n},l.prototype.doPoll=function(){s("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},r(u.prototype),u.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new i(t),n=this;try{s("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&e.setRequestHeader(o,this.extraHeaders[o])}catch(r){}if("POST"===this.method)try{e.setRequestHeader("Content-type",this.isBinary?"application/octet-stream":"text/plain;charset=UTF-8")}catch(r){}try{e.setRequestHeader("Accept","*/*")}catch(r){}"withCredentials"in e&&(e.withCredentials=!0),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===t&&(e.responseType="arraybuffer")}catch(r){}4===e.readyState&&(200===e.status||1223===e.status?n.onLoad():setTimeout(function(){n.onError(e.status)},0))},s("xhr data %s",this.data),e.send(this.data)}catch(r){return void setTimeout(function(){n.onError(r)},0)}"undefined"!=typeof document&&(this.index=u.requestsCount++,u.requests[this.index]=this)},u.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},u.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},u.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},u.prototype.cleanup=function(t){if(null!=this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,t)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete u.requests[this.index],this.xhr=null}},u.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(n){}t="application/octet-stream"===e&&this.xhr.response||this.xhr.responseText}catch(n){this.onError(n)}null!=t&&this.onData(t)},u.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},u.prototype.abort=function(){this.cleanup()},u.requestsCount=0,u.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",h);else if("function"==typeof addEventListener){var p="onpagehide"in self?"pagehide":"unload";addEventListener(p,h,!1)}function h(){for(var t in u.requests)u.requests.hasOwnProperty(t)&&u.requests[t].abort()}},"14A5":function(t,e){var n=void 0!==n?n:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,i=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),o=i&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),r=n&&n.prototype.append&&n.prototype.getBlob;function a(t){return t.map(function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var n=new Uint8Array(t.byteLength);n.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=n.buffer}return e}return t})}function s(t,e){e=e||{};var i=new n;return a(t).forEach(function(t){i.append(t)}),e.type?i.getBlob(e.type):i.getBlob()}function c(t,e){return new Blob(a(t),e||{})}"undefined"!=typeof Blob&&(s.prototype=Blob.prototype,c.prototype=Blob.prototype),t.exports=i?o?Blob:c:r?s:void 0},"1Giq":function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},"1PZI":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("G6Tw"),o=n("/h9T"),r=n("9/EM"),a=n("jIYg");function s(t,e){Object(a.a)(2,arguments);var n=Object(o.a)(e);return Object(r.a)(t,-n)}function c(t){return Object(a.a)(1,arguments),Object(i.a)(t,s(Date.now(),1))}},"1VGY":function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n("LRne"),o=n("pLZG"),r=n("lJxs"),a=n("Q63R"),s=n("XrBI"),c=n("Jq6I"),l=n("fXoL");const u={offset:{"top-left":[0,0]},closeButton:!1};let p=(()=>{class t{constructor(t,e,n,i){this.apiService=t,this.ar=e,this.injector=n,this.mapsService=i}createComponent(t,e,n,a){const s=this.initPopupOption(n),l=t.resolveComponentFactory(e).create(this.injector);this.ar.attachView(l.hostView);const u=!a||a(l.instance);return Object(i.a)(u).pipe(Object(o.a)(t=>t),Object(r.a)(()=>{const t=this.mapsService.createMarker({position:s.center,icon:{content:l.location.nativeElement},zIndex:c.c.Search});return t.component=l,t}))}removeComponent(t){t&&(t.component&&(this.ar.detachView(t.component.hostView),t.component.destroy()),t.setMap())}initPopupOption(t){return Object.assign(Object.assign({},u),t)}}return t.\u0275fac=function(e){return new(e||t)(l.ic(a.a),l.ic(l.g),l.ic(l.v),l.ic(s.a))},t.\u0275prov=l.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"1Ykd":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q"),o=n("D0XW");function r(t,e=o.a){return n=>n.lift(new a(t,e))}class a{constructor(t,e){this.period=t,this.scheduler=e}call(t,e){return e.subscribe(new s(t,this.period,this.scheduler))}}class s extends i.a{constructor(t,e,n){super(t),this.period=e,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(c,e,{subscriber:this,period:e}))}_next(t){this.lastValue=t,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function c(t){let{subscriber:e,period:n}=t;e.notifyNext(),this.schedule(t,n)}},"2BQN":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return u}),n.d(e,"b",function(){return p}),n.d(e,"e",function(){return d});var i=n("l7P3"),o=n("k/lc");const r=Object(i.n)(o.d.OPEN,Object(i.s)()),a=Object(i.n)(o.d.CLOSE),s=Object(i.n)(o.d.CLEAR_DATA),c=Object(i.n)(o.d.SET_DATA,Object(i.s)()),l=Object(i.p)({enableIframe:!1,visible:!1,src:"about:blank",data:null},Object(i.r)(r,(t,{payload:e})=>Object.assign(Object.assign({},t),{visible:!0,src:e,data:null})),Object(i.r)(a,t=>Object.assign(Object.assign({},t),{visible:!1,src:"about:blank",data:null})),Object(i.r)(s,t=>Object.assign(Object.assign({},t),{data:null})),Object(i.r)(c,(t,{payload:e})=>Object.assign(Object.assign({},t),{data:e}))),u=(t,e)=>l(t,e),p="IFRAME",h=Object(i.o)(p),d=t=>t.pipe(Object(i.t)(h))},"2Dig":function(t,e){t.exports=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}},"2IxD":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t[t.SummaryCard=210]="SummaryCard",t[t.DirectionsLineVia=130]="DirectionsLineVia",t[t.Cctv=120]="Cctv",t[t.Accident=110]="Accident",t[t.BusRouteInfo=100]="BusRouteInfo",t[t.ToolboxInfo=90]="ToolboxInfo",t[t.ToolboxLabel=80]="ToolboxLabel",t[t.LocationInfo=70]="LocationInfo",t[t.WeatherDetails=65]="WeatherDetails",t[t.WeatherSummary=60]="WeatherSummary",t[t.DirectionsGuide=50]="DirectionsGuide",t[t.DirectionsSummary=40]="DirectionsSummary",t[t.DirectionsWayPoint=30]="DirectionsWayPoint",t[t.DirectionsIcon=20]="DirectionsIcon",t[t.DirectionsTransit=10]="DirectionsTransit",t}({})},"2QaN":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("ofXK"),o=n("sYmb"),r=n("ktvW"),a=n("btWG"),s=n("fXoL");let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Wb({type:t}),t.\u0275inj=s.Vb({imports:[[i.c,a.a,r.a,o.b]]}),t})()},"2laj":function(t,e,n){function i(t){if(t)return function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t)}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<i.length;o++)if((n=i[o])===e||n.fn===e){i.splice(o,1);break}return 0===i.length&&delete this._callbacks["$"+t],this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){i=0;for(var o=(n=n.slice(0)).length;i<o;++i)n[i].apply(this,e)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},"2pII":function(t,e,n){var i=n("akSB"),o=n("2xqC"),r=n("x7D4")("engine.io-client:socket"),a=n("7jRU"),s=n("Wm4p"),c=n("Uxeu"),l=n("TypT");function u(t,e){if(!(this instanceof u))return new u(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=c(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=c(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=u,u.priorWebsocketSuccess=!1,o(u.prototype),u.protocol=s.protocol,u.Socket=u,u.Transport=n("Gbct"),u.transports=n("akSB"),u.parser=n("Wm4p"),u.prototype.createTransport=function(t){r('creating transport "%s"',t);var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.query);e.EIO=s.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new i[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},u.prototype.open=function(){var t;if(this.rememberUpgrade&&u.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(n){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},u.prototype.setTransport=function(t){r("setting transport %s",t.name);var e=this;this.transport&&(r("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},u.prototype.probe=function(t){r('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,i=this;function o(){i.onlyBinaryUpgrades&&(n=n||!this.supportsBinary&&i.transport.supportsBinary),n||(r('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",function(o){if(!n)if("pong"===o.type&&"probe"===o.data){if(r('probe transport "%s" pong',t),i.upgrading=!0,i.emit("upgrading",e),!e)return;u.priorWebsocketSuccess="websocket"===e.name,r('pausing current transport "%s"',i.transport.name),i.transport.pause(function(){n||"closed"!==i.readyState&&(r("changing transport and sending upgrade packet"),h(),i.setTransport(e),e.send([{type:"upgrade"}]),i.emit("upgrade",e),e=null,i.upgrading=!1,i.flush())})}else{r('probe transport "%s" failed',t);var a=new Error("probe error");a.transport=e.name,i.emit("upgradeError",a)}}))}function a(){n||(n=!0,h(),e.close(),e=null)}function s(n){var o=new Error("probe error: "+n);o.transport=e.name,a(),r('probe transport "%s" failed because of error: %s',t,n),i.emit("upgradeError",o)}function c(){s("transport closed")}function l(){s("socket closed")}function p(t){e&&t.name!==e.name&&(r('"%s" works - aborting "%s"',t.name,e.name),a())}function h(){e.removeListener("open",o),e.removeListener("error",s),e.removeListener("close",c),i.removeListener("close",l),i.removeListener("upgrading",p)}u.priorWebsocketSuccess=!1,e.once("open",o),e.once("error",s),e.once("close",c),this.once("close",l),this.once("upgrading",p),e.open()},u.prototype.onOpen=function(){if(r("socket open"),this.readyState="open",u.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){r("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},u.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(r('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else r('packet received with socket readyState "%s"',this.readyState)},u.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},u.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},u.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){r("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},u.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},u.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},u.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(r("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},u.prototype.write=u.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},u.prototype.sendPacket=function(t,e,n,i){if("function"==typeof e&&(i=e,e=void 0),"function"==typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:t,data:e,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}},u.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():e()}):this.upgrading?i():e()}function e(){t.onClose("forced close"),r("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function i(){t.once("upgrade",n),t.once("upgradeError",n)}return this},u.prototype.onError=function(t){r("socket error %j",t),u.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},u.prototype.onClose=function(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(r('socket close with reason: "%s"',t),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)},u.prototype.filterUpgrades=function(t){for(var e=[],n=0,i=t.length;n<i;n++)~a(this.transports,t[n])&&e.push(t[n]);return e}},"2xqC":function(t,e,n){function i(t){if(t)return function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t)}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<i.length;o++)if((n=i[o])===e||n.fn===e){i.splice(o,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var i=0,o=(n=n.slice(0)).length;i<o;++i)n[i].apply(this,e);return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},"2yK0":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("2Vo4");class o{constructor(t){this.store=new i.a(null),t&&this.setState(t)}get state(){return this.store.getValue()}get stream(){return this.store.asObservable()}setState(t){this.store.next(t)}}},"3/2N":function(t,e,n){"use strict";t.exports=o,t.exports.default=o;var i=n("THIm");function o(t,e){if(!(this instanceof o))return new o(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function r(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function a(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,i,o){o||(o=f(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var r,a=e;a<n;a++)r=t.children[a],c(o,t.leaf?i(r):r);return o}function c(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function p(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function g(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function f(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function b(t,e,n,o,r){for(var a,s=[e,n];s.length;)(n=s.pop())-(e=s.pop())<=o||(a=e+Math.ceil((n-e)/o/2)*o,i(t,a,e,n,r),s.push(e,a,a,n))}o.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!g(t,e))return n;for(var o,r,a,s,c=[];e;){for(o=0,r=e.children.length;o<r;o++)a=e.children[o],g(t,s=e.leaf?i(a):a)&&(e.leaf?n.push(a):d(t,s)?this._all(a,n):c.push(a));e=c.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!g(t,e))return!1;for(var i,o,r,a,s=[];e;){for(i=0,o=e.children.length;i<o;i++)if(r=e.children[i],g(t,a=e.leaf?n(r):r)){if(e.leaf||d(t,a))return!0;s.push(r)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var o=this.data;this.data=i,i=o}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=f([]),this},remove:function(t,e){if(!t)return this;for(var n,i,o,a,s=this.data,c=this.toBBox(t),l=[],u=[];s||l.length;){if(s||(s=l.pop(),i=l[l.length-1],n=u.pop(),a=!0),s.leaf&&-1!==(o=r(t,s.children,e)))return s.children.splice(o,1),l.push(s),this._condense(l),this;a||s.leaf||!d(s,c)?i?(n++,s=i.children[n],a=!1):s=null:(l.push(s),u.push(n),n=0,i=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:l,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var o,r=n-e+1,s=this._maxEntries;if(r<=s)return a(o=f(t.slice(e,n+1)),this.toBBox),o;i||(i=Math.ceil(Math.log(r)/Math.log(s)),s=Math.ceil(r/Math.pow(s,i-1))),(o=f([])).leaf=!1,o.height=i;var c,l,u,p,h=Math.ceil(r/s),d=h*Math.ceil(Math.sqrt(s));for(b(t,e,n,d,this.compareMinX),c=e;c<=n;c+=d)for(b(t,c,u=Math.min(c+d-1,n),h,this.compareMinY),l=c;l<=u;l+=h)p=Math.min(l+h-1,u),o.children.push(this._build(t,l,p,i-1));return a(o,this.toBBox),o},_chooseSubtree:function(t,e,n,i){for(var o,r,a,s,c,l,u,h,d,g;i.push(e),!e.leaf&&i.length-1!==n;){for(u=h=1/0,o=0,r=e.children.length;o<r;o++)c=p(a=e.children[o]),d=t,g=a,(l=(Math.max(g.maxX,d.maxX)-Math.min(g.minX,d.minX))*(Math.max(g.maxY,d.maxY)-Math.min(g.minY,d.minY))-c)<h?(h=l,u=c<u?c:u,s=a):l===h&&c<u&&(u=c,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var i=n?t:(0,this.toBBox)(t),o=[],r=this._chooseSubtree(i,this.data,e,o);for(r.children.push(t),c(r,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],i=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,i);var r=this._chooseSplitIndex(n,o,i),s=f(n.children.splice(r,n.children.length-r));s.height=n.height,s.leaf=n.leaf,a(n,this.toBBox),a(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=f([t,e]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,o,r,a,c,l,u,h,d,g,f,b,m,_;for(l=u=1/0,i=e;i<=n-e;i++)d=o=s(t,0,i,this.toBBox),g=r=s(t,i,n,this.toBBox),f=Math.max(d.minX,g.minX),b=Math.max(d.minY,g.minY),m=Math.min(d.maxX,g.maxX),_=Math.min(d.maxY,g.maxY),a=Math.max(0,m-f)*Math.max(0,_-b),c=p(o)+p(r),a<l?(l=a,h=i,u=c<u?c:u):a===l&&c<u&&(u=c,h=i);return h},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:l,o=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,o)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var o,r,a=this.toBBox,l=s(t,0,e,a),u=s(t,n-e,n,a),p=h(l)+h(u);for(o=e;o<n-e;o++)r=t.children[o],c(l,t.leaf?a(r):r),p+=h(l);for(o=n-e-1;o>=e;o--)r=t.children[o],c(u,t.leaf?a(r):r),p+=h(u);return p},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)c(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():a(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},"3G9Y":function(t,e,n){"use strict";t.exports=r;var i=n("DIMq");(r.prototype=Object.create(i.prototype)).constructor=r;var o=n("6Tgl");function r(){i.call(this)}function a(t,e,n){t.length<40?o.utf8.write(t,e,n):e.utf8Write?e.utf8Write(t,n):e.write(t,n)}r._configure=function(){r.alloc=o._Buffer_allocUnsafe,r.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(t,e,n){e.set(t,n)}:function(t,e,n){if(t.copy)t.copy(e,n,0,t.length);else for(var i=0;i<t.length;)e[n++]=t[i++]}},r.prototype.bytes=function(t){o.isString(t)&&(t=o._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(r.writeBytesBuffer,e,t),this},r.prototype.string=function(t){var e=o.Buffer.byteLength(t);return this.uint32(e),e&&this._push(a,e,t),this},r._configure()},"3ug9":function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n("sYmb"),o=n("ofXK"),r=n("+1c1"),a=n("ktvW"),s=n("btWG"),c=n("l7P3"),l=n("m7hU"),u=n("fXoL");let p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.Wb({type:t}),t.\u0275inj=u.Vb({imports:[[o.c,i.b,a.a,s.a,r.a,c.j.forFeature(l.b,l.c)]]}),t})()},4:function(t,e){},"4+6U":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("/h9T"),o=n("jIYg"),r={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},a=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,s=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,c=/^([+-])(\d{2})(?::?(\d{2}))?$/;function l(t,e){Object(o.a)(1,arguments);var n=e||{},r=null==n.additionalDigits?2:Object(i.a)(n.additionalDigits);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof t&&"[object String]"!==Object.prototype.toString.call(t))return new Date(NaN);var a,s=u(t);if(s.date){var c=p(s.date,r);a=h(c.restDateString,c.year)}if(isNaN(a)||!a)return new Date(NaN);var l,d=a.getTime(),f=0;if(s.time&&(f=g(s.time),isNaN(f)||null===f))return new Date(NaN);if(!s.timezone){var m=new Date(d+f),_=new Date(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate(),m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds());return _.setFullYear(m.getUTCFullYear()),_}return l=b(s.timezone),isNaN(l)?new Date(NaN):new Date(d+f+l)}function u(t){var e,n={},i=t.split(r.dateTimeDelimiter);if(i.length>2)return n;if(/:/.test(i[0])?(n.date=null,e=i[0]):(n.date=i[0],e=i[1],r.timeZoneDelimiter.test(n.date)&&(n.date=t.split(r.timeZoneDelimiter)[0],e=t.substr(n.date.length,t.length))),e){var o=r.timezone.exec(e);o?(n.time=e.replace(o[1],""),n.timezone=o[1]):n.time=e}return n}function p(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),i=t.match(n);if(!i)return{year:null};var o=i[1]&&parseInt(i[1]),r=i[2]&&parseInt(i[2]);return{year:null==r?o:100*r,restDateString:t.slice((i[1]||i[2]).length)}}function h(t,e){if(null===e)return null;var n=t.match(a);if(!n)return null;var i=!!n[4],o=d(n[1]),r=d(n[2])-1,s=d(n[3]),c=d(n[4]),l=d(n[5])-1;if(i)return function(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}(0,c,l)?function(t,e,n){var i=new Date(0);i.setUTCFullYear(t,0,4);var o=7*(e-1)+n+1-(i.getUTCDay()||7);return i.setUTCDate(i.getUTCDate()+o),i}(e,c,l):new Date(NaN);var u=new Date(0);return function(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(m[e]||(_(t)?29:28))}(e,r,s)&&function(t,e){return e>=1&&e<=(_(t)?366:365)}(e,o)?(u.setUTCFullYear(e,r,Math.max(o,s)),u):new Date(NaN)}function d(t){return t?parseInt(t):1}function g(t){var e=t.match(s);if(!e)return null;var n=f(e[1]),i=f(e[2]),o=f(e[3]);return function(t,e,n){return 24===t?0===e&&0===n:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}(n,i,o)?36e5*n+6e4*i+1e3*o:NaN}function f(t){return t&&parseFloat(t.replace(",","."))||0}function b(t){if("Z"===t)return 0;var e=t.match(c);if(!e)return 0;var n="+"===e[1]?-1:1,i=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return function(t,e){return e>=0&&e<=59}(0,o)?n*(36e5*i+6e4*o):NaN}var m=[31,null,31,30,31,30,31,31,30,31,30,31];function _(t){return t%400==0||t%4==0&&t%100}},"5Cmx":function(t,e,n){"use strict";n.d(e,"l",function(){return u}),n.d(e,"i",function(){return p}),n.d(e,"p",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"o",function(){return g}),n.d(e,"b",function(){return f}),n.d(e,"m",function(){return b}),n.d(e,"q",function(){return m}),n.d(e,"n",function(){return _}),n.d(e,"a",function(){return y}),n.d(e,"j",function(){return v}),n.d(e,"k",function(){return C}),n.d(e,"s",function(){return E}),n.d(e,"r",function(){return I}),n.d(e,"v",function(){return R}),n.d(e,"u",function(){return T}),n.d(e,"w",function(){return A}),n.d(e,"t",function(){return L}),n.d(e,"e",function(){return j}),n.d(e,"d",function(){return D}),n.d(e,"g",function(){return F}),n.d(e,"h",function(){return N}),n.d(e,"f",function(){return B}),n.d(e,"x",function(){return U});var i=n("l7P3"),o=n("gjNt"),r=n("pLZG"),a=n("lJxs"),s=n("SxV6"),c=n("tS1D"),l=function(t){return t.Show="PANEL/SHOW",t.Hide="PANEL/HIDE",t.Unfold="PANEL/UNFOLD",t.Fold="PANEL/FOLD",t.Toggle="PANEL/TOGGLE",t.Expand="PANEL/EXPAND",t.Shrink="PANEL/SHRINK",t.UpdateWidth="PANEL/UPDATE_WIDTH",t.StartAnimation="PANEL/START_ANIMATION",t.EndAnimation="PANEL/END_ANIMATION",t}({});const u=Object(i.n)(l.Show),p=Object(i.n)(l.Hide),h=Object(i.n)(l.Unfold),d=Object(i.n)(l.Fold),g=Object(i.n)(l.Toggle),f=Object(i.n)(l.Expand),b=Object(i.n)(l.Shrink),m=Object(i.n)(l.UpdateWidth,Object(i.s)()),_=Object(i.n)(l.StartAnimation),y=Object(i.n)(l.EndAnimation),O=Object(i.p)({isHide:!1,isFold:!1,isShrink:!0,isRunning:!1,width:-1},Object(i.r)(u,t=>Object.assign(Object.assign({},t),{isHide:!1})),Object(i.r)(p,t=>Object.assign(Object.assign({},t),{isHide:!0})),Object(i.r)(h,t=>Object.assign(Object.assign({},t),{isFold:!1})),Object(i.r)(d,t=>Object.assign(Object.assign({},t),{isFold:!0})),Object(i.r)(g,t=>Object.assign(Object.assign({},t),{isFold:!t.isFold})),Object(i.r)(f,t=>Object.assign(Object.assign({},t),{isShrink:!1})),Object(i.r)(b,t=>Object.assign(Object.assign({},t),{isShrink:!0})),Object(i.r)(m,(t,{payload:e})=>Object.assign(Object.assign({},t),{width:e})),Object(i.r)(_,t=>Object.assign(Object.assign({},t),{isRunning:!0})),Object(i.r)(y,t=>Object.assign(Object.assign({},t),{isRunning:!1}))),v="PANEL",C=(t,e)=>O(t,e),P=Object(i.o)(v),M=Object(i.q)(P,t=>t.isHide),x=Object(i.q)(P,t=>t.isFold),w=Object(i.q)(P,t=>t.isShrink),k=Object(i.q)(P,t=>t.isRunning),S=Object(i.q)(P,t=>t.width),E=t=>t.pipe(Object(i.t)(M)),I=t=>t.pipe(Object(i.t)(x)),R=t=>t.pipe(Object(i.t)(w)),T=t=>t.pipe(Object(i.t)(k)),A=t=>t.pipe(Object(i.t)(S),Object(r.a)(t=>t>-1)),L=t=>(t=>t.pipe(Object(i.t)(P)))(t).pipe(Object(a.a)(({isRunning:t,isHide:e,isFold:n})=>!t&&!e&&!n)),j=t=>Object(o.a)(E(t)),D=t=>Object(o.a)(I(t)),F=t=>Object(o.a)(R(t)),N=t=>Object(o.a)(A(t)),B=t=>Object(o.a)(L(t)),U=t=>{if(D(t))return t.dispatch(h()),T(t).pipe(Object(r.a)(t=>!t),Object(s.a)(),Object(c.a)(.3)).toPromise()}},"5JXU":function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n("fXoL"),o=n("pLZG"),r=n("lJxs"),a=n("/uUt"),s=n("XNiG"),c=n("VRyK"),l=n("FQSa"),u=n("XrBI"),p=n("tMAK");let h=(()=>{class t{constructor(t,e,n){this.indoor=t,this.mapsService=e,this.zone=n,this.isOutsideMap=!1,this.forceBlurEvent=new s.a,this._events=new s.a,this.mapsService.onInstanceReady(()=>this.start())}get events(){return this._events.asObservable()}forceBlur(){this.forceBlurEvent.next()}start(){const t=this.mapsService.events.onMouseMove().pipe(Object(o.a)(this.ignoreOnMoving.bind(this)),Object(r.a)(this.choiceFirstFeature.bind(this))),e=Object(c.a)(this.mapsService.events.mouseOut,this.forceBlurEvent).pipe(Object(r.a)(()=>({type:l.e.Blur,feature:null,lngLat:null,point:null})));Object(c.a)(t,e).pipe(Object(a.a)(this.ignoreDuplication.bind(this))).subscribe(t=>{this.emitBlur(),this.isNull(t)||this.emitFocus(t)})}ignoreOnMoving(){return!this.mapsService.isMoving}choiceFirstFeature(t){if(0===t.features.length)return null;const e=t.features[0];return e?this.indoor.isOnIndoor(t.lngLat)&&"INDOOR_POI"!==e.layer.id?null:{type:void 0,feature:e,lngLat:t.lngLat,point:t.point}:null}ignoreDuplication(t,e){return t===e||!(!e||e&&!t)&&!(t&&!t.feature)&&!(e&&!e.feature)&&(this.isOutsideMap?void(this.isOutsideMap=!1):t.feature.properties.id===e.feature.properties.id)}isNull(t){return!t||!t.feature||!t.feature.source}emitFocus(t){if(!i.F.isInAngularZone())return this.zone.run(()=>this.emitFocus(t));this._events.next(Object.assign(Object.assign({},t),{type:l.e.Focus})),this.tmpEvent=Object.assign({},t)}emitBlur(){if(this.tmpEvent){if(!i.F.isInAngularZone())return this.zone.run(()=>this.emitBlur());this._events.next(Object.assign(Object.assign({},this.tmpEvent),{type:l.e.Blur})),this.tmpEvent=null}}}return t.\u0275fac=function(e){return new(e||t)(i.ic(p.b),i.ic(u.a),i.ic(i.F))},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"5LH7":function(t,e){var n=1e3,i=60*n,o=60*i,r=24*o;function a(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var s,c=typeof t;if("string"===c&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*r;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*i;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(t);if("number"===c&&!1===isNaN(t))return e.long?a(s=t,r,"day")||a(s,o,"hour")||a(s,i,"minute")||a(s,n,"second")||s+" ms":function(t){return t>=r?Math.round(t/r)+"d":t>=o?Math.round(t/o)+"h":t>=i?Math.round(t/i)+"m":t>=n?Math.round(t/n)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},"5ZZG":function(t,e,n){"use strict";n.d(e,"a",function(){return P});var i=n("fXoL"),o=n("tyNb"),r=n("jtHE"),a=n("haw2"),s=n("+sev"),c=n("z6kb"),l=n("joil"),u=n("iTV6"),p=n("pLZG"),h=n("SxV6"),d=n("JX91"),g=n("lJxs"),f=n("vkgz"),b=n("6eBy"),m=n("1RhC"),_=n("UFSi"),y=n("XrBI"),O=n("/RaO"),v=n("WvzF"),C=n("ofXK");let P=(()=>{class t{constructor(t,e,n,a,s,c,l,u,d){this.maps=t,this.location=e,this.router=n,this.status=a,this.lcsService=s,this.logService=c,this.aRoute=l,this.envService=u,this.zone=d,this.firedNavigationEnd=new i.q,this._isNavigating=!1,this._prevData=this.getRouterParams(),this._events=new r.a(1),this.subs=[],this.prevCoordinates="",this.prevPath=null,this.prevPanoramaPID=null,this.data={},this._firedNavigationStart=new i.q,this._isInit=!1,this.router.events.pipe(Object(p.a)(t=>t instanceof o.e),Object(h.a)()).subscribe(()=>{this.envService.isDevLike()&&(window.routes=this),this._isInit=!0,this.activate(),this.detectChangesAfterNavigationEnd(),this.detectChangesAfterNavigationStart(),this.detectLastNavigationEnd()})}static parseCoordinates(t){if(!t)return;let e=[],n=[];const i=t.split(",").map((t,i)=>5===i?(e=t.split(""),e):6===i?(n=t.split(""),n):parseFloat(t));if(6!==i.length&&7!==i.length)return;const{lng:o,lat:r}=Object(v.c)({lng:i[0],lat:i[1]});return{mapTypes:e,mapLayers:n,lng:o,lat:r,zoom:i[2],tilt:i[3],rotate:i[4]}}static parseCoordinatesToCoordinatesText(t){const{lng:e,lat:n}=Object(v.d)({lng:t.lng,lat:t.lat});let i=`${e.toFixed(7)},${n.toFixed(7)},${t.zoom},${t.tilt},${t.tilt},${t.mapTypes.join("")}`;return t.mapLayers.length>0&&(i+=`,${t.mapLayers.join("")}`),i}static getCoordinatesFromMaps(t,e=[t.getMapTypeByStorage()],n=[...O.Rb]){const i=t.getCenter();if(!i)return"";const{lng:o,lat:r}=Object(v.d)({lng:i.lng,lat:i.lat});return[o.toFixed(7),r.toFixed(7),parseFloat(t.getZoom().toFixed(2)),parseFloat(t.getPitch().toFixed(2)),parseFloat(t.getBearing().toFixed(2)),e.join(""),n.join("")].join(",")}static parseMapTypeValue(t){return Object.keys(s.h).find(e=>s.h[e]===t)}static parseMapLayerValue(t){return Object.keys(s.f).find(e=>s.f[e]===t)}get events(){return this._events}get prevData(){return this._prevData}get isNavigating(){return this._isNavigating}get firedNavigationStart(){const t=this.getRouterParams().module;return this._firedNavigationStart.pipe(Object(d.a)(t))}isInit(){return this._isInit}deactivate(){0!==this.subs.length&&(this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[])}locationBack(){this._prevData=this.getRouterParams(),this.location.back()}navigate(t,e={}){const n=Object.assign({},this.getRouterParams().queryParams);Object.values(s.b).filter(t=>t!==s.b.Coordinates).forEach(t=>{n.hasOwnProperty(t)&&(n[t]=void 0)}),e.queryParams=Object.assign(Object.assign({},n),e.queryParams);for(const i in e.queryParams)e.queryParams[i]||delete e.queryParams[i];const r=this.getRouterParams(),a=r.valueByOrder.join("/"),c=JSON.stringify(r.queryParams),u=t.join("/"),d=JSON.stringify(e.queryParams);return a===u&&c===d?Promise.resolve(s.d.Duplicate):(e.replaceUrl||(this.data=e.data?e.data:{}),(i.F.isInAngularZone()?this.router.navigate(t,e):this.zone.run(()=>this.router.navigate(t,e))).then(()=>{e.replaceUrl||(this._prevData=r),this.emit(s.a.ChangedByUser,this.getRouterParams())}),this.router.events.pipe(Object(p.a)(t=>t instanceof o.e||t instanceof o.d||t instanceof o.f),Object(h.a)(),Object(g.a)(n=>(n instanceof o.f&&(!n.error||Object.keys(n.error).length>0)&&this.logService.log(l.b.Common,"CommonRoutesService","navigate",{commands:t,extras:e,prevData:this.prevData,routerEvent:n},"Error when navigate"),n instanceof o.e?s.d.Success:s.d.Error))).toPromise())}setMapType(e){const n=this.getRouterParams();let i;return i=n.coordinates?n.coordinates:t.parseCoordinates(t.getCoordinatesFromMaps(this.maps)),i.mapTypes=[e],this.navigate(n.valueByOrder,{queryParamsHandling:"merge",queryParams:{c:t.parseCoordinatesToCoordinatesText(i)}})}setAwesomeMapLayer(e){const n=[...O.Rb].concat(e),i=this.getCoordinates(),o=i.mapLayers.filter(t=>n.includes(t)),r=e.filter(t=>!o.includes(t));return i.mapLayers=o.concat(r),this.relativeTo([],{replaceUrl:!0,queryParamsHandling:"merge",queryParams:{c:t.parseCoordinatesToCoordinatesText(i)}})}setPanoramaData(t,e){const n=this.getRouterParams(),i=Object.assign(Object.assign({},e),{queryParams:Object.assign(Object.assign({},n.queryParams),{[s.b.Panorama]:t.join(",")})});return this.navigate(n.valueByOrder,i)}getRouterParams(){let e={module:"",coordinates:null,coordinatesText:"",keyByOrder:[],valueByOrder:[],subData:[],isCoordinatesChanged:!1,panoramaData:null,entryData:null,busStationLaneData:null,aroundHereData:null,queryParams:this.aRoute.snapshot.queryParams,data:this.data};e=Object.assign(Object.assign({},e),this.extractActivatedRouterParams(this.aRoute.snapshot.root,e));const n=this.aRoute.snapshot.queryParams[s.b.Coordinates];if(n)if(e.coordinatesText=n,e.isCoordinatesChanged=e.coordinatesText!==this.prevCoordinates,e.coordinates=t.parseCoordinates(e.coordinatesText),!e.coordinates&&this.maps.ready)e.coordinates=t.parseCoordinates(t.getCoordinatesFromMaps(this.maps));else if(this.maps.ready&&e.coordinates&&!e.coordinates.lng||!e.coordinates.lat){const{lng:t,lat:n}=this.maps.getCenter();e.coordinates.lng=t,e.coordinates.lat=n}if(e.coordinates&&e.coordinates.mapTypes){const n=e.coordinates.mapTypes.filter(e=>!!t.parseMapTypeValue(e));e.coordinates.mapTypes=n}if(e.coordinates&&e.coordinates.mapLayers){const n=e.coordinates.mapLayers.filter(e=>!!t.parseMapLayerValue(e));e.coordinates.mapLayers=n}else e.coordinates&&(e.coordinates.mapLayers=[]);this.prevCoordinates=e.coordinatesText;const i=this.aRoute.snapshot.queryParams[s.b.Panorama];if(i){const t=t=>t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),n=i.split(",");e.panoramaData=2===n.length?{lng:n[0],lat:n[1]}:4===n.length?{PID:t(n[0]),heading:n[1],tilt:n[2],layout:n[3]}:5===n.length?{PID:t(n[0]),heading:n[1],tilt:n[2],fov:n[3],layout:n[4]}:null}const o=this.aRoute.snapshot.queryParams[s.b.Entry];if(o){const t=o.split(",");e.entryData=t.length>0?t:null}const r=this.aRoute.snapshot.queryParams[s.b.BusStationLane];if(r){const t=r.split(",");e.busStationLaneData=t.length>1?{busId:parseInt(t[0],10),stationId:parseInt(t[1],10)}:null}const a=this.aRoute.snapshot.queryParams[s.b.AroundHere];if(a){const t=a.split(",");e.aroundHereData=3===t.length?{entry:t[0],searchText:t[1],name:t[2]}:null}return e}relativeTo(t,e={}){const n=this.getRouterParams().valueByOrder,i=t.filter(t=>".."===t).length,o=[...n].splice(0,Math.max(0,n.length-i)),r=t.filter(t=>".."!==t),a=o.concat(r);return this.navigate(a,e)}activate(){if(this.subs.length>0)return;const t=this.getRouterParams();this.emit(s.a.Initialized,t),[this.location.subscribe(()=>{this.router.events.pipe(Object(f.a)(t=>{t instanceof o.f&&console.error("navigation error",t)}),Object(p.a)(t=>t instanceof o.e),Object(h.a)()).subscribe(()=>{this.emit(s.a.ChangedByHistory,this.getRouterParams())})})].forEach(t=>{this.subs.push(t)})}emit(t,e){this._events.next({type:t,data:e,prevData:this._prevData})}getCoordinates(){const e=t.parseCoordinates(t.getCoordinatesFromMaps(this.maps)),n=this.getRouterParams();return n&&n.coordinates&&n.coordinates.mapTypes&&(e.mapTypes=n.coordinates.mapTypes),e}extractActivatedRouterParams(t,e){let n=e;t.routeConfig&&t.routeConfig.path&&(0===t.routeConfig.path.indexOf(":")?t.routeConfig.path.split("/").forEach(e=>{const i=0===(null==e?void 0:e.indexOf(":")),o=e.replace(":","");n[o]=t.params[o]||o,n.keyByOrder.push(o),n.valueByOrder.push(t.params[o]||(i?"":o))}):n.keyByOrder.includes("module")?(n.keyByOrder.push(t.routeConfig.path),n.valueByOrder.push(t.routeConfig.path)):(n.module=t.routeConfig.path,n.keyByOrder.push("module"),n.valueByOrder.push(n.module)));for(const i of t.children)n=Object.assign(Object.assign({},n),this.extractActivatedRouterParams(i,n));return n}setNavigationStatus(t){t instanceof o.g?this._isNavigating=!0:(t instanceof o.e||t instanceof o.f||t instanceof o.d)&&(this._isNavigating=!1)}detectChangesAfterNavigationEnd(){this.subs.push(this.router.events.pipe(Object(f.a)(t=>this.setNavigationStatus(t)),Object(p.a)(t=>t instanceof o.e||t instanceof o.d||t instanceof o.f)).subscribe(t=>{i.F.isInAngularZone()?this.firedNavigationEnd.emit(t instanceof o.e):this.zone.run(()=>this.firedNavigationEnd.emit(t instanceof o.e)),t instanceof o.e&&(this.lcsDo(),_.a.of("navigate").info(t.url||""))}))}detectChangesAfterNavigationStart(){this.subs.push(this.router.events.pipe(Object(p.a)(t=>t instanceof o.g)).subscribe(t=>{const e=t.url.split("/")[1].split("?")[0];this._firedNavigationStart.emit(e)}))}detectLastNavigationEnd(){const t=this.router.events.pipe(Object(p.a)(t=>t instanceof o.e));this.router.events.pipe(Object(p.a)(t=>t instanceof o.b),Object(b.a)(()=>t),Object(h.a)(),Object(g.a)(t=>{var e;return null===(e=t.snapshot.routeConfig.component)||void 0===e?void 0:e.name}),Object(p.a)(t=>!!t)).subscribe(t=>{window.setTimeout(()=>{this.logService.log(l.b.Performance,"CommonRoutesService","detectLastNavigationEnd",{componentName:t},"Browser Load Time",l.a.Info)},0)})}lcsDo(){const t=this.getRouterParams(),e=t.valueByOrder.join("/");if(t.panoramaData&&null===this.prevPanoramaPID)return this.lcsService.lcs_do(),void(this.prevPanoramaPID=t.panoramaData.PID);this.prevPath!==e&&(/^(search\/|entry\/|smart-around\/place\/|favorite\/myPlace\/folder\/[0-9]+\/place\/[0-9]+)/.test(e)||(this.prevPath=e,this.prevPanoramaPID=null,this.lcsService.lcs_do()))}}return t.\u0275fac=function(e){return new(e||t)(i.ic(y.a),i.ic(C.j),i.ic(o.h),i.ic(c.e),i.ic(a.a),i.ic(u.a),i.ic(o.a),i.ic(m.a),i.ic(i.F))},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"5mcS":function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n("ofXK"),o=n("3Pt+"),r=n("yD6C"),a=n("sYmb"),s=n("rGhi"),c=n("CS8N"),l=n("ktvW"),u=n("btWG"),p=n("pCwN"),h=n("fXoL");let d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.Wb({type:t}),t.\u0275inj=h.Vb({imports:[[i.c,o.i,u.a,l.a,r.a,a.b,s.a,c.a,p.a]]}),t})()},"5uBC":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return a}),n.d(e,"d",function(){return s});var i=n("Kd67");function o(t,e,n){if(null!==t)for(var i,r,a,s,c,l,u,p,h=0,d=0,g=t.type,f="FeatureCollection"===g,b="Feature"===g,m=f?t.features.length:1,_=0;_<m;_++){c=(p=!!(u=f?t.features[_].geometry:b?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var y=0;y<c;y++){var O=0,v=0;if(null!==(s=p?u.geometries[y]:u)){l=s.coordinates;var C=s.type;switch(h=!n||"Polygon"!==C&&"MultiPolygon"!==C?0:1,C){case null:break;case"Point":if(!1===e(l,d,_,O,v))return!1;d++,O++;break;case"LineString":case"MultiPoint":for(i=0;i<l.length;i++){if(!1===e(l[i],d,_,O,v))return!1;d++,"MultiPoint"===C&&O++}"LineString"===C&&O++;break;case"Polygon":case"MultiLineString":for(i=0;i<l.length;i++){for(r=0;r<l[i].length-h;r++){if(!1===e(l[i][r],d,_,O,v))return!1;d++}"MultiLineString"===C&&O++,"Polygon"===C&&v++}"Polygon"===C&&O++;break;case"MultiPolygon":for(i=0;i<l.length;i++){for("MultiPolygon"===C&&(v=0),r=0;r<l[i].length;r++){for(a=0;a<l[i][r].length-h;a++){if(!1===e(l[i][r][a],d,_,O,v))return!1;d++}v++}O++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)if(!1===o(s.geometries[i],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function r(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function a(t,e){!function(t,e){var n,i,o,r,a,s,c,l,u,p,h=0,d="FeatureCollection"===t.type,g="Feature"===t.type,f=d?t.features.length:1;for(n=0;n<f;n++){for(l=d?t.features[n].properties:g?t.properties:{},u=d?t.features[n].bbox:g?t.bbox:void 0,p=d?t.features[n].id:g?t.id:void 0,a=(c=!!(s=d?t.features[n].geometry:g?t.geometry:t)&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(r=c?s.geometries[o]:s))switch(r.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(r,h,l,u,p))return!1;break;case"GeometryCollection":for(i=0;i<r.geometries.length;i++)if(!1===e(r.geometries[i],h,l,u,p))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,h,l,u,p))return!1;h++}}(t,function(t,n,o,r,a){var s,c=null===t?null:t.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==e(Object(i.d)(t,o,{bbox:r,id:a}),n,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<t.coordinates.length;l++){var u={type:s,coordinates:t.coordinates[l]};if(!1===e(Object(i.d)(u,o),n,l))return!1}})}function s(t,e,n){var r=n,s=!1;return function(t,e){a(t,function(t,n,r){var a=0;if(t.geometry){var s,c=t.geometry.type;if("Point"!==c&&"MultiPoint"!==c)return!1!==o(t,function(o,c,l,u,p){if(void 0!==s){var h=Object(i.i)([s,o],t.properties);if(!1===e(h,n,r,p,a))return!1;a++,s=o}else s=o})&&void 0}})}(t,function(t,i,o,a,c){r=!1===s&&void 0===n?t:e(r,t,i,o,a,c),s=!0}),r}},"5yaL":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r});var i=function(t){return t[t.none=0]="none",t[t.normal=1]="normal",t[t.directions=2]="directions",t[t.addWaypoint=3]="addWaypoint",t}({}),o=function(t){return t[t.off=0]="off",t[t.on=1]="on",t}({}),r=function(t){return t[t.setStart=0]="setStart",t[t.setGoal=1]="setGoal",t[t.addWaypoint=2]="addWaypoint",t[t.showPanorama=3]="showPanorama",t[t.measureDistance=4]="measureDistance",t[t.deleteDistance=5]="deleteDistance",t[t.measureArea=6]="measureArea",t[t.deleteArea=7]="deleteArea",t[t.measureRadius=8]="measureRadius",t[t.deleteRadius=9]="deleteRadius",t}({})},"635J":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("QJ+7"),o=n("lXTj"),r=n("RZZ2"),a=n("AKIq");function s(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function c(t,e){return t[0]===e[0]&&t[1]===e[1]}e.default=function(t,e){var n=a.getType(t),l=a.getType(e),u=a.getGeom(t),p=a.getGeom(e);switch(n){case"Point":switch(l){case"MultiPoint":return function(t,e){var n,i=!1;for(n=0;n<e.coordinates.length;n++)if(c(e.coordinates[n],t.coordinates)){i=!0;break}return i}(u,p);case"LineString":return o.default(u,p,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return r.default(u,p,{ignoreBoundary:!0});default:throw new Error("feature2 "+l+" geometry not supported")}case"MultiPoint":switch(l){case"MultiPoint":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var i=!1,o=0;o<e.coordinates.length;o++)c(t.coordinates[n],e.coordinates[o])&&(i=!0);if(!i)return!1}return!0}(u,p);case"LineString":return function(t,e){for(var n=!1,i=0;i<t.coordinates.length;i++){if(!o.default(t.coordinates[i],e))return!1;n||(n=o.default(t.coordinates[i],e,{ignoreEndVertices:!0}))}return n}(u,p);case"Polygon":case"MultiPolygon":return function(t,e){for(var n=!0,i=0;i<t.coordinates.length;i++){var o=r.default(t.coordinates[1],e);if(!o){n=!1;break}o=r.default(t.coordinates[1],e,{ignoreBoundary:!0})}return n&&o}(u,p);default:throw new Error("feature2 "+l+" geometry not supported")}case"LineString":switch(l){case"LineString":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!o.default(t.coordinates[n],e))return!1;return!0}(u,p);case"Polygon":case"MultiPolygon":return function(t,e){var n,o;if(!s(i.default(e),i.default(t)))return!1;for(var a=!1,c=0;c<t.coordinates.length-1;c++){if(!r.default(t.coordinates[c],e))return!1;if(a||(a=r.default(t.coordinates[c],e,{ignoreBoundary:!0})),!a){var l=[((n=t.coordinates[c])[0]+(o=t.coordinates[c+1])[0])/2,(n[1]+o[1])/2];a=r.default(l,e,{ignoreBoundary:!0})}}return a}(u,p);default:throw new Error("feature2 "+l+" geometry not supported")}case"Polygon":switch(l){case"Polygon":case"MultiPolygon":return function(t,e){var n=i.default(t);if(!s(i.default(e),n))return!1;for(var o=0;o<t.coordinates[0].length;o++)if(!r.default(t.coordinates[0][o],e))return!1;return!0}(u,p);default:throw new Error("feature2 "+l+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}},"67TN":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("HDdC"),o=n("LRne"),r=n("Em1E"),a=n("eIep"),s=n("XrBI"),c=n("0pZ/"),l=n("fXoL");let u=(()=>{class t{constructor(t,e,n){this.mapInitiator=t,this.mapsService=e,this.zone=n}canActivate(){return this.process||(this.process=new i.a(t=>{this.mapInitiator.initMap().pipe(Object(a.a)(t=>t?this.mapsService.afterReady():Object(o.a)(!1)),Object(c.a)(this.zone)).subscribe(e=>{t.next(e)})})),this.process}}return t.\u0275fac=function(e){return new(e||t)(l.ic(r.a),l.ic(s.a),l.ic(l.F))},t.\u0275prov=l.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"6Tgl":function(t,e,n){"use strict";var i=e;function o(t,e,n){for(var i=Object.keys(e),o=0;o<i.length;++o)void 0!==t[i[o]]&&n||(t[i[o]]=e[i[o]]);return t}function r(t){function e(t,n){if(!(this instanceof e))return new e(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&o(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}i.asPromise=n("MFts"),i.base64=n("bnU+"),i.EventEmitter=n("aJe0"),i.float=n("KwGI"),i.inquire=n("1Giq"),i.utf8=n("yNTq"),i.pool=n("BEY9"),i.LongBits=n("o4Qh"),i.global="undefined"!=typeof window&&window||"undefined"!=typeof global&&global||"undefined"!=typeof self&&self||this,i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isNode=Boolean(i.global.process&&i.global.process.versions&&i.global.process.versions.node),i.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},i.isString=function(t){return"string"==typeof t||t instanceof String},i.isObject=function(t){return t&&"object"==typeof t},i.isset=i.isSet=function(t,e){var n=t[e];return!(null==n||!t.hasOwnProperty(e))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},i.Buffer=function(){try{var t=i.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(e){return null}}(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function(t){return"number"==typeof t?i.Buffer?i._Buffer_allocUnsafe(t):new i.Array(t):i.Buffer?i._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},i.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,i.Long=i.global.dcodeIO&&i.global.dcodeIO.Long||i.global.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function(t){return t?i.LongBits.from(t).toHash():i.LongBits.zeroHash},i.longFromHash=function(t,e){var n=i.LongBits.fromHash(t);return i.Long?i.Long.fromBits(n.lo,n.hi,e):n.toNumber(Boolean(e))},i.merge=o,i.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},i.newError=r,i.ProtocolError=r("ProtocolError"),i.oneOfGetter=function(t){for(var e={},n=0;n<t.length;++n)e[t[n]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;n>-1;--n)if(1===e[t[n]]&&null!=this[t[n]])return t[n]}},i.oneOfSetter=function(t){return function(e){for(var n=0;n<t.length;++n)t[n]!==e&&delete this[t[n]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var t=i.Buffer;t?(i._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,n){return new t(e,n)},i._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}):i._Buffer_from=i._Buffer_allocUnsafe=null}},"6eBy":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("l7GE"),o=n("ZUHj");function r(t){return e=>e.lift(new a(t))}class a{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new s(t,this.durationSelector))}}class s extends i.a{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1,this.durationSubscription=null}_next(t){try{const e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(e){this.destination.error(e)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(t,e){let n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),n=Object(o.a)(this,e),n&&!n.closed&&this.add(this.durationSubscription=n)}notifyNext(t,e,n,i,o){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const t=this.value,e=this.durationSubscription;e&&(this.durationSubscription=null,e.unsubscribe(),this.remove(e)),this.value=null,this.hasValue=!1,super._next(t)}}}},"7Gr3":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t[t.Activate=0]="Activate",t[t.Deactivate=1]="Deactivate",t}({})},"7Hc7":function(t,e,n){"use strict";n.d(e,"a",function(){return h});let i=1;const o=(()=>Promise.resolve())(),r={};function a(t){return t in r&&(delete r[t],!0)}const s={setImmediate(t){const e=i++;return r[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=s.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(s.clearImmediate(e),t.scheduled=void 0)}}var u=n("IjjT");class p extends u.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,o=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<o&&(t=e.shift()));if(this.active=!1,n){for(;++i<o&&(t=e.shift());)t.unsubscribe();throw n}}}const h=new p(l)},"7f5W":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("BYWt"),o=n("XrBI"),r=n("CJka"),a=n("fXoL");let s=(()=>{class t{constructor(t,e,n){this.maps=t,this.uaParser=e,this.offAvatar=n,this.imageIdPrefix="avatar_"}activate(){this.uaParser.isTablet||this.maps.onReady(()=>{this.createAvatar()})}deactivate(){this.uaParser.isTablet||this.maps.onReady(()=>{this.removeMarker()})}setPosition(t){var e,n;t.lng&&t.lat&&((null===(e=this.position)||void 0===e?void 0:e.lng)!==t.lng||(null===(n=this.position)||void 0===n?void 0:n.lat)!==t.lat)&&(this.offAvatar.setAvatarPosition(t),this.position=t,this.updatePosition())}setHeading(t){const e=Math.floor((t<0?360+t:t)/22.5);this.updateIcon(e)}createAvatar(){if(this.marker)return;const t=this.maps.createImageIcon(`panorama:${this.imageIdPrefix}0`,[30,44]);this.marker=this.maps.createMarker({position:this.position,icon:t,clickable:!1,zIndex:4e4})}updatePosition(){this.marker&&this.marker.setPosition(this.position)}updateIcon(t){this.marker&&this.marker.setIcon(this.maps.createImageIcon(`panorama:${this.imageIdPrefix}${t}`,[30,44]))}removeMarker(){this.marker&&(this.marker.setMap(),this.marker=null)}}return t.\u0275fac=function(e){return new(e||t)(a.ic(o.a),a.ic(r.a),a.ic(i.a))},t.\u0275prov=a.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"7jRU":function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var i=0;i<t.length;++i)if(t[i]===e)return i;return-1}},"8Vp+":function(t,e,n){"use strict";n.d(e,"a",function(){return ut});var i=n("ZpGt"),o=n("fXoL"),r=n("itXk"),a=n("LRne"),s=n("l5mm"),c=n("EY2u"),l=n("VRyK"),u=n("xgIS"),p=n("+2YJ"),h=n("/RaO"),d=n("tMAK"),g=n("qkFu"),f=n("rS+x"),b=n("lJxs"),m=n("pLZG"),_=n("wO+i"),y=n("vkgz"),O=n("6eBy"),v=n("eIep"),C=n("SxV6"),P=n("MtjB"),M=n("JIr8"),x=n("XNiG"),w=n("Joaz"),k=n("1Ykd"),S=n("z6kb"),E=n("CJka"),I=n("rHdf"),R=n("XrBI"),T=n("Qdop"),A=n("WlrZ"),L=n("Pbce"),j=n("ofXK"),D=n("f+Sy"),F=n("sYmb");const N=["markerInfo"],B=["thumbnail"];function U(t,e){if(1&t&&(o.ec(0,"span",10),o.Uc(1),o.dc()),2&t){const t=o.oc(2);o.Jb(1),o.Vc(t.categories[t.categories.length-1])}}function V(t,e){if(1&t&&(o.cc(0),o.Uc(1),o.bc()),2&t){const t=e.$implicit;o.Jb(1),o.Wc(" ",t.displayAddress," ")}}function z(t,e){if(1&t&&(o.ec(0,"span",11),o.Sc(1,V,2,1,"ng-container",12),o.dc()),2&t){const t=o.oc(2);o.Jb(1),o.wc("ngForOf",t.poiInfo.road.detail)}}function W(t,e){if(1&t&&(o.ec(0,"span",11),o.Uc(1),o.pc(2,"translate"),o.ec(3,"span",13),o.Uc(4),o.dc(),o.dc()),2&t){const t=o.oc(2);o.Jb(1),o.Wc(" ",o.qc(2,2,"ENTRY.PLACE.REVIEW")," "),o.Jb(3),o.Vc(t.reviewCount<1e3?t.reviewCount:"999+")}}function H(t,e){if(1&t&&(o.ec(0,"span",11),o.ec(1,"span",14),o.Zb(2,"span",15),o.dc(),o.ec(3,"span",16),o.Uc(4),o.dc(),o.dc()),2&t){const t=o.oc(2);o.Jb(4),o.Vc(t.bookingReviewsAvg)}}function q(t,e){if(1&t){const t=o.fc();o.cc(0),o.ec(1,"div",1),o.ec(2,"div",2),o.ec(3,"img",3,4),o.lc("load",function(t){return t.currentTarget.style.display="block"})("imageFallbackCallback",function(){return o.Jc(t),o.oc().onImageError()}),o.dc(),o.dc(),o.ec(5,"div",5),o.ec(6,"strong",6),o.Uc(7),o.dc(),o.Sc(8,U,2,1,"span",7),o.ec(9,"div",8),o.Sc(10,z,2,1,"span",9),o.Sc(11,W,5,4,"span",9),o.Sc(12,H,5,1,"span",9),o.dc(),o.dc(),o.dc(),o.bc()}if(2&t){const t=o.oc();o.Jb(3),o.Pc("display",t.isThumbnailFail?"none":"block"),o.wc("src",t.thumbnailUrl,o.Lc)("imageFallbackType","callback"),o.Jb(4),o.Vc(t.name),o.Jb(1),o.wc("ngIf",(null==t.categories?null:t.categories.length)>0),o.Jb(2),o.wc("ngIf",(null==t.poiInfo||null==t.poiInfo.road||null==t.poiInfo.road.detail?null:t.poiInfo.road.detail.length)>0),o.Jb(1),o.wc("ngIf",t.reviewCount>0),o.Jb(1),o.wc("ngIf",t.bookingReviewsAvg)}}let Y=(()=>{class t{constructor(t,e,n,i,o,r,a,s,c){this.zone=t,this.status=e,this.panorama=n,this.sslImage=i,this.uaParser=o,this.imageResizer=r,this.el=a,this.utils=s,this.maps=c,this.isPanoramaThumbnailLoaded=!1,this.isThumbnailFail=!1,this._showingInfo=!1,this.subs=[],this.currentThumbnail=0}get hasParking(){return!(!this.moduThemes||!(this.moduThemes.price_is_free||this.moduThemes.price_init_time&&this.moduThemes.price_init_price||this.moduThemes.price_basic_time&&this.moduThemes.price_basic_price))}get translate(){return`translate(${this.left}px, ${this.top}px)`}get showingInfo(){return this._showingInfo?"":"hidden"}get display(){return this.maps.isMoving?"none":"block"}get placeThumbnailUrl(){return this.images&&this.images[this.currentThumbnail]?this.images[this.currentThumbnail].url:""}get hasNextThumbnail(){return!!this.images[this.currentThumbnail]&&!(this.currentThumbnail>this.images.length-1)&&this.currentThumbnail<h.R}get cardWidth(){return this.el&&this.el.nativeElement?this.el.nativeElement.clientWidth:h.m}get cardHeight(){return this.el&&this.el.nativeElement?this.el.nativeElement.clientHeight:h.l}ngOnDestroy(){this.clear(),this.clearMouseOverEvent(),this.subs.forEach(t=>{t.unsubscribe()}),this.subs=[]}onImageError(){let t;this.currentThumbnail+=1,this.hasNextThumbnail&&(t=this.images[this.currentThumbnail].url),t||this.isPanoramaThumbnailLoaded||(this.zone.run(()=>this.isPanoramaThumbnailLoaded=!0),t=this.getPanoramaImageUrl()),this.zone.run(t?()=>this.thumbnailUrl=this.resizeThumbnail(t):()=>this.isThumbnailFail=!0)}showInfo(t){return this.clearInfo(),this.name=t.name,this.placeId=t.placeId,this.categories=t.categories,this.moduThemes=t.moduThemes,this.images=t.images,this.streetPanorama=t.streetPanorama,this.skyPanorama=t.skyPanorama,this.indoorPanorama=t.indoorPanorama,this.poiInfo=t.poiInfo,this.reviewCount=t.reviewCount,this.bookingReviewsAvg=t.bookingReviewsAvg,this.thumbnailUrl=this.resizeThumbnail(this.getThumbnailUrl()),this.utils.nextTick(()=>{this.setDefaultTypePosition(t)},0),this.onDragMap(),this.clearMouseOverEvent(),this.mouseEventSubject=new x.a,this.mouseEventSubject.asObservable()}clearInfo(){this.moduThemes=null,this.name=null,this.categories=null,this.images=null,this.streetPanorama=null,this.skyPanorama=null,this.indoorPanorama=null,this.poiInfo=null,this.reviewCount=null,this.bookingReviewsAvg=null,this.currentThumbnail=0,this.isPanoramaThumbnailLoaded=!1,this.isThumbnailFail=!1,this.thumbnailUrl=null,this._showingInfo=!1,this.thumbnail&&this.thumbnail.nativeElement&&(this.thumbnail.nativeElement.style.display="none")}setDefaultTypePosition(t){this.changePosition(t.point),this._showingInfo=!0}needToPanoramaThumbnail(){return!!this.hasParking||!!this.poiInfo&&this.poiInfo.hasLand}onMouseOver(t){this.mouseEventSubject.next(t),this.mouseEventSubject.complete()}onDragMap(){this.subs.push(this.maps.events.drag.pipe(Object(k.a)(10)).subscribe(t=>{this.changePosition({x:t.point.x,y:t.point.y})}))}changePosition(t){const e=Object(L.i)(this.maps.getCenterPointExcludingPanel(),t.x,t.y),{x:n,y:i}=this.parseAwesomePosition(e,t.x,t.y);this.zone.run(()=>{this.left=n,this.top=i})}parseAwesomePosition(t,e,n){let i=e,o=n;return"top-left"===t?(i-=this.cardWidth+h.k,o-=this.cardHeight+h.k):"top-right"===t?(i+=h.k,o-=this.cardHeight+h.k):"bottom-left"===t?(i-=this.cardWidth+h.k,o+=h.k):"bottom-right"===t&&(i+=h.k,o+=h.k),{x:i,y:o}}clear(){this.clearInfo()}getPanoramaImageUrl(){let t,e;if(this.streetPanorama)t=this.streetPanorama,e=f.z.STREET;else if(this.skyPanorama)t=this.skyPanorama,e=f.z.AIR;else{if(!this.indoorPanorama)return"";t=this.indoorPanorama,e=f.z.INDOOR}return this.panorama.getPanoramaImageUrl({type:e,placeID:this.placeId?parseInt(this.placeId,10):null,PID:t.id,size:this.panorama.staticSizeM,position:[t.longitude,t.latitude],heading:t.pan,zoom:t.fov})||""}getThumbnailUrl(){return!this.placeThumbnailUrl||this.needToPanoramaThumbnail()?(this.isPanoramaThumbnailLoaded=!0,this.getPanoramaImageUrl()):this.placeThumbnailUrl}resizeThumbnail(t){return t?this.isPanoramaThumbnailLoaded?t:this.imageResizer.transform(t,{w:210,h:104}):""}clearMouseOverEvent(){this.mouseEventSubject&&!this.mouseEventSubject.closed&&this.mouseEventSubject.complete()}}return t.\u0275fac=function(e){return new(e||t)(o.Yb(o.F),o.Yb(S.e),o.Yb(w.f),o.Yb(T.a),o.Yb(E.a),o.Yb(A.a),o.Yb(o.o),o.Yb(I.a),o.Yb(R.a))},t.\u0275cmp=o.Sb({type:t,selectors:[["clustered-hovercard"]],viewQuery:function(t,e){if(1&t&&(o.ad(N,1),o.ad(B,1)),2&t){let t;o.Fc(t=o.mc())&&(e.markerInfo=t.first),o.Fc(t=o.mc())&&(e.thumbnail=t.first)}},hostVars:6,hostBindings:function(t,e){1&t&&o.lc("mouseover",function(t){return e.onMouseOver(t)}),2&t&&o.Pc("transform",e.translate)("visibility",e.showingInfo)("display",e.display)},decls:1,vars:1,consts:[[4,"ngIf"],[1,"clustered_hovercard"],[1,"thumb_box"],["width","160","height","90",3,"src","imageFallback","imageFallbackType","load","imageFallbackCallback"],["thumbnail",""],[1,"summary_box"],[1,"summary_title"],["class","summary_category",4,"ngIf"],[1,"info_box"],["class","info_text",4,"ngIf"],[1,"summary_category"],[1,"info_text"],[4,"ngFor","ngForOf"],[1,"count"],[1,"star_box"],[1,"icon_star"],[1,"point"]],template:function(t,e){1&t&&o.Sc(0,q,13,9,"ng-container",0),2&t&&o.wc("ngIf",e.name)},directives:[j.o,D.a,j.n],pipes:[F.c],styles:['[_nghost-%COMP%]   .star_box[_ngcontent-%COMP%], [_nghost-%COMP%]   .star_box[_ngcontent-%COMP%]   .icon_star[_ngcontent-%COMP%], [_nghost-%COMP%]   .thumb_box[_ngcontent-%COMP%]:before{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/home.png);background-size:508px 492px}.retina   [_nghost-%COMP%]   .star_box[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .star_box[_ngcontent-%COMP%]   .icon_star[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .thumb_box[_ngcontent-%COMP%]:before{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/home@2x.png)}[_nghost-%COMP%]{position:absolute;top:0;left:0;z-index:190}[_nghost-%COMP%]   .clustered_hovercard[_ngcontent-%COMP%]{overflow:hidden;width:160px;border:1px solid rgba(0,0,0,.1);border-radius:2px;box-shadow:0 2px 3px 0 rgba(0,0,0,.1)}[_nghost-%COMP%]   .thumb_box[_ngcontent-%COMP%]{height:90px;background-color:#f4f4f4}[_nghost-%COMP%]   .thumb_box[_ngcontent-%COMP%], [_nghost-%COMP%]   .thumb_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .thumb_box[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:24px;height:24px;font-size:0;color:transparent;vertical-align:top;background-position:-468px -197px;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;content:""}[_nghost-%COMP%]   .summary_box[_ngcontent-%COMP%]{padding:10px 14px 12px;background:#fff;font-size:0}[_nghost-%COMP%]   .summary_box[_ngcontent-%COMP%]   .summary_title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;max-width:107%;padding-right:5px;font-weight:600;font-size:14px;line-height:18px;color:#333;white-space:nowrap;text-overflow:ellipsis;vertical-align:top;box-sizing:border-box}[_nghost-%COMP%]   .summary_box[_ngcontent-%COMP%]   .summary_category[_ngcontent-%COMP%]{display:inline-block;margin-top:3px;font-size:11px;color:#666;line-height:15px;vertical-align:top}[_nghost-%COMP%]   .info_box[_ngcontent-%COMP%]{margin-top:4px;font-size:0}[_nghost-%COMP%]   .info_box[_ngcontent-%COMP%]   .info_text[_ngcontent-%COMP%]{font-size:11px;line-height:14px;font-weight:500;color:#333}[_nghost-%COMP%]   .info_box[_ngcontent-%COMP%]   .info_text[_ngcontent-%COMP%] + .info_text[_ngcontent-%COMP%]:before{display:inline-block;width:1px;height:9px;margin:0 6px;background-color:#e2e2e2;vertical-align:-1px;content:""}[_nghost-%COMP%]   .info_box[_ngcontent-%COMP%]   .info_text[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{color:#00c73c}[_nghost-%COMP%]   .star_box[_ngcontent-%COMP%]{vertical-align:top;background-position:-144px -423px;position:relative;margin-right:3px;vertical-align:-1px}[_nghost-%COMP%]   .star_box[_ngcontent-%COMP%], [_nghost-%COMP%]   .star_box[_ngcontent-%COMP%]   .icon_star[_ngcontent-%COMP%]{overflow:hidden;display:inline-block;width:54px;height:10px;font-size:0;color:transparent}[_nghost-%COMP%]   .star_box[_ngcontent-%COMP%]   .icon_star[_ngcontent-%COMP%]{vertical-align:top;background-position:-200px -423px;position:absolute;top:0;left:0}[_nghost-%COMP%]   .marker_info_area[_ngcontent-%COMP%]{display:inline-block;height:48px;padding:0 17px;border-radius:23px;box-shadow:0 0 0 1px rgba(0,0,0,.2),0 2px 3px 0 rgba(0,0,0,.1);background-color:#fff;font-size:0;white-space:nowrap;text-align:center}[_nghost-%COMP%]   .marker_info_area[_ngcontent-%COMP%]:after{height:100%;content:""}[_nghost-%COMP%]   .marker_info_area[_ngcontent-%COMP%]   .marker_info_box[_ngcontent-%COMP%], [_nghost-%COMP%]   .marker_info_area[_ngcontent-%COMP%]:after{display:inline-block;vertical-align:middle}[_nghost-%COMP%]   .marker_info_area[_ngcontent-%COMP%]   .marker_info_box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block;overflow:hidden;max-width:264px;margin:1px 0 2px;font-size:14px;font-weight:500;letter-spacing:-.5px;line-height:17px;text-overflow:ellipsis}[_nghost-%COMP%]   .marker_info_area[_ngcontent-%COMP%]   .marker_info_box[_ngcontent-%COMP%]   .info_text_box[_ngcontent-%COMP%]   .info_text[_ngcontent-%COMP%]{display:inline-block;font-size:12px;color:#0475f4;letter-spacing:-.4px;line-height:14px;vertical-align:top}[_nghost-%COMP%]   .marker_info_area[_ngcontent-%COMP%]   .marker_info_box[_ngcontent-%COMP%]   .info_text_box[_ngcontent-%COMP%]   .info_text.point[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   .marker_info_area[_ngcontent-%COMP%]   .marker_info_box[_ngcontent-%COMP%]   .info_text_box[_ngcontent-%COMP%]   .info_text[_ngcontent-%COMP%] + .info_text[_ngcontent-%COMP%]:before{display:inline-block;width:1px;height:8px;background-color:#e2e2e2;vertical-align:-1px;content:"";margin:-1px 3px 1px 6px}']}),t})();const J=["titleElement"],G=["subtitleElement"];let X=(()=>{class t{constructor(t,e){this.maps=t,this.renderer=e,this.title="",this.subtitle=""}showCctvInfo(t){this.title=t.cctv.cctvNm,this.subtitle=t.cctv.cctvStrtSecnNm,this.setTextMaxWidth(),this.setDefaultTypePosition(t)}setTextMaxWidth(){this.title.length+this.subtitle.length<=h.bc||(this.renderer.setStyle(this.titleElement.nativeElement,"max-width","104px"),this.renderer.setStyle(this.subtitleElement.nativeElement,"max-width","117px"))}setDefaultTypePosition(t){const{x:e,y:n}=this.maps.project({lng:t.lng,lat:t.lat});this.left=e,this.top=n}}return t.\u0275fac=function(e){return new(e||t)(o.Yb(R.a),o.Yb(o.L))},t.\u0275cmp=o.Sb({type:t,selectors:[["hover-tooltip"]],viewQuery:function(t,e){if(1&t&&(o.ad(J,3),o.ad(G,3)),2&t){let t;o.Fc(t=o.mc())&&(e.titleElement=t.first),o.Fc(t=o.mc())&&(e.subtitleElement=t.first)}},hostVars:4,hostBindings:function(t,e){2&t&&o.Pc("top",e.top,"px")("left",e.left,"px")},decls:8,vars:2,consts:[[1,"cctv_tooltip_area"],[1,"tooltip","type_over"],[1,"title"],["titleElement",""],[1,"subtitle"],["subtitleElement",""]],template:function(t,e){1&t&&(o.ec(0,"div",0),o.ec(1,"div",1),o.ec(2,"span",2,3),o.Uc(4),o.dc(),o.ec(5,"span",4,5),o.Uc(7),o.dc(),o.dc(),o.dc()),2&t&&(o.Jb(4),o.Vc(e.title),o.Jb(3),o.Vc(e.subtitle))},styles:['[_nghost-%COMP%]{position:absolute;z-index:100}[_nghost-%COMP%]   .cctv_tooltip_area[_ngcontent-%COMP%]{position:absolute;top:-16px;left:0;transform:translate(-50%,-100%);cursor:pointer}[_nghost-%COMP%]   .cctv_tooltip_area[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]{display:inline-block;padding:6px 5px 5px 8px;border-radius:2px;background-color:#fff;font-size:12px;line-height:15px;white-space:nowrap;box-shadow:0 0 0 1px rgba(0,0,0,.2),0 2px 3px 0 rgba(0,0,0,.1)}[_nghost-%COMP%]   .cctv_tooltip_area[_ngcontent-%COMP%]   .tooltip.type_over[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%], [_nghost-%COMP%]   .cctv_tooltip_area[_ngcontent-%COMP%]   .tooltip.type_over[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .cctv_tooltip_area[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-weight:600;color:#333;vertical-align:top}[_nghost-%COMP%]   .cctv_tooltip_area[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{display:inline-block;color:#767676;vertical-align:top}[_nghost-%COMP%]   .cctv_tooltip_area[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]:before{display:inline-block;width:1px;height:9px;margin:0 6px;background-color:rgba(0,0,0,.15);vertical-align:0;content:""}']}),t})();var K=n("tSqg"),Z=n("1VGY"),$=n("5JXU"),Q=n("POnT"),tt=n("rRUm"),et=n("UFSi"),nt=n("JplU"),it=n("Q63R"),ot=n("ApIJ"),rt=n("joil"),at=n("iTV6"),st=n("FQSa"),ct=n("8qY4"),lt=n("l7P3");let ut=(()=>{class t{constructor(t,e,n,i,r,a,s,c,l,u,p,h,d,g,f,b,m,_,y,O){this.ar=t,this.injector=e,this.api=n,this.cartoManager=i,this.contextMenu=r,this.hoverCardService=a,this.route=s,this.status=c,this.maps=l,this.indoor=u,this.msg=p,this.logService=h,this.store=d,this.translateService=g,this.mapsPickerService=f,this.cctvService=b,this.zone=m,this.layoutStore=_,this.panoramaService=y,this.nClickService=O,this._isShowLocationPopup=!1,this._events=new o.q,this.subs=[],this.isSearchedHoverCard=!1,this.isShowHoverCard=!0}get events(){return this._events}get isShowLocationPopup(){return this._isShowLocationPopup}set isShowLocationPopup(t){this._isShowLocationPopup=t}activate(t){this.setComponentFactoryResolver(t),this.attachMouseMove(),this.status.suspendLocationInfo(S.c.LocationInfo),this.status.suspendMapsClick(S.d.LocationInfo),this.activateClickMap(),this.subscribeLocationInfoEvents()}deactivate(){this.status.resumeLocationInfo(S.c.LocationInfo),this.deactivateClickMap(),this.detachMouseMove(),this.unsubscribeEvents(),this.status.resumeMapsClick(S.d.LocationInfo)}getLocationInfoByCoordinates(t,e){return Object(r.a)([this.getAddressData(t,e),this.getPanoramaData(t,e)]).pipe(Object(b.a)(([n,i])=>{const o=i.features[0]&&i.features[0].properties,r=o&&o.type||null,a=o&&this.panoramaService.getPanoramaImageUrl({PID:o.id,heading:o.heading,size:[88,94],autoExtend:!0})||"";return Object.assign({lng:t,lat:e,point:null,skyPanoramaImage:r===f.z.AIR?a:"",streetPanoramaImage:r===f.z.STREET?a:"",skyPanorama:r===f.z.AIR?o:null,streetPanorama:r===f.z.STREET?o:null},n)}))}openSummaryCardForFavorite(t){this.openSummaryCard(t)}unsubscribeEvents(){this.subs.forEach(t=>t.unsubscribe()),this.subs=[]}subscribeLocationInfoEvents(){this.subs.push(this.events.pipe(Object(m.a)(()=>!this.maps.isMoving),Object(m.a)(t=>t.type===p.a.ClickBgDetected||t.type===p.a.ClickBgNone),Object(_.a)("data"),Object(m.a)(t=>!!t||(this.layoutStore.clickedBgLocationInfoWidgetPopup(),et.a.of("locationInfo").info("close with empty data"),!1)),Object(m.a)(()=>!this.status.isDoubleClicking)).subscribe(t=>this.layoutStore.openLocationInfoWidgetPopup({data:t})))}activateClickMap(){this.deactivateClickMap(),this.mouseDBClickSub=this.maps.events.dblClick.subscribe(()=>{this.status.isDoubleClicking=!0}),this.mouseClickSub=this.maps.events.click.pipe(Object(m.a)(()=>!this.status.isShowingWetherDetail),Object(m.a)(()=>!this.status.isDragging),Object(m.a)(()=>!this.contextMenu.active),Object(m.a)(()=>!this.status.isPanoramaViewerMode),Object(m.a)(()=>this.status.isLastSuspendedMapsClick(S.d.Indoor)||this.status.isLastSuspendedMapsClick(S.d.LocationInfo)||this.status.isLastSuspendedMapsClick(S.d.LandParcel))).subscribe(t=>{this.status.isDoubleClicking=!1;const e=t.features;if(!e)return;const n=this.indoor.isOnIndoor(t.lngLat),i=e&&e[0];if(i){const e=i.layer.id;if(!e)return;if(!this.isAbleWhenLandParcelOn(i))return;let o=[f.w.BookmarkMarker,f.w.FrequentPlaceMarker,"INDOOR_POI"];n||(o=[...o,"POI","POI_LAND","TRANSIT"]),this.indoor.isIndoorShown&&!n?this.indoor.hideBuilding():this.indoor.isIndoorShown||this.status.isLastSuspendedMapsClick(S.d.LandParcel)||this.indoor.activateIndoor(i,t.lngLat),o.indexOf(e)>-1&&this.openSummaryCard(i),this.emit(p.a.ClickDetected)}else if(this.status.isLastSuspendedLocationInfo(S.c.LocationInfo)){if(this.indoor.isIndoorShown&&!n&&this.indoor.hideBuilding(),t.feature&&t.feature.layer&&!t.feature.layer.metadata)return void this.emit(p.a.ClickDetected);if(this.contextMenu.isContextActive())return;this.zone.run(()=>{this.isShowLocationPopup&&this.emit(p.a.ClickBgNone)})}this.emit(p.a.ClickFeature,i)})}deactivateClickMap(){this.mouseClickSub&&this.mouseClickSub.unsubscribe(),this.mouseDBClickSub&&this.mouseDBClickSub.unsubscribe()}navigateWithClearParams(t,e){this.route.navigate(t,e)}requestLocationInfoByCoordinates(t){this._prevInfoRequest&&this._prevInfoRequest.unsubscribe(),this._prevInfoRequest=this.getLocationInfoByCoordinates(t.lng,t.lat).pipe(Object(m.a)(t=>!!t)).subscribe(t=>{this.emit(p.a.ClickBgDetected,t)})}attachMouseMove(){this.detachMouseMove(),this.mouseMoveSub=this.mapsPickerService.events.pipe(Object(m.a)(()=>!this.cartoManager.isActivatedLayers.some(t=>[ot.g.Panorama,ot.g.Weather].includes(t))),Object(m.a)(()=>!this.contextMenu.active),Object(m.a)(this.allowSourcesToChangeCursor.bind(this)),Object(m.a)(this.allowEtcConditions.bind(this)),Object(y.a)(this.setCursor.bind(this)),Object(m.a)(this.allowOnlySpecialSources.bind(this)),Object(O.a)(this.checkDebounce.bind(this)),Object(v.a)(this.showOrHideComponent.bind(this))).subscribe()}detectDestroyHoverComponent(){if(this.lastId=null,this.isSearchedHoverCard)return o.F.isInAngularZone()?void this.removeSearchHoverCardComponent():void this.zone.run(()=>this.removeSearchHoverCardComponent());this.removeTooltipComponent()}removeClusteredHoverCardComponent(){this.hoverComponent&&(o.F.isInAngularZone()?this.hoverComponent.destroy():this.zone.run(()=>this.hoverComponent.destroy()))}removeTooltipComponent(){this.hoverTooltipComponent&&(o.F.isInAngularZone()?this.hoverTooltipComponent.destroy():this.zone.run(()=>this.hoverTooltipComponent.destroy()))}removeSearchHoverCardComponent(){this.searchedHoverCardPopupObject&&this.hoverCardService.removeComponent(this.searchedHoverCardPopupObject)}detachMouseMove(){this.siteSummaryStream&&this.siteSummaryStream.unsubscribe(),this.mouseMoveSub&&this.mouseMoveSub.unsubscribe()}emit(t,e=null){this.zone.run(()=>{this._events.emit({type:t,data:e})})}isAbleWhenLandParcelOn(t){if(!this.status.isLastSuspendedMapsClick(S.d.LandParcel))return!0;if(!t||!t.layer)return!0;const e=t.layer.source;return!!this.isAroundHerePoi(t)||!!this.isBusStationPoi(t)||!!this.isSubwayStationPoi(t)||-1===e.indexOf("poi_")}isAroundHerePoi(t){return!(!t||!t.layer)&&"poi_AroundHere"===t.layer.source}isBusStationPoi(t){return!(!t||!t.layer)&&t.properties&&t.properties.type===st.f.BusStation}isSubwayStationPoi(t){return!(!t||!t.layer)&&t.properties&&(t.properties.type===st.f.SubwayStation||t.properties.type===st.f.SubwayStationTransfer)}afterMouseLeave(){return this.siteSummaryStream&&!this.siteSummaryStream.closed&&this.siteSummaryStream.unsubscribe(),this.detectDestroyHoverComponent(),Object(a.a)(null)}allowSourcesToChangeCursor(t){return["POI","TRANSIT","CCTV","INDOOR_POI"].includes(t.feature.source)}allowEtcConditions(){return this.maps.ready||!this.status.isPanoramaViewerMode||!this.status.isDragging||this.status.isLastSuspendedMapsClick(S.d.LocationInfo)||this.status.isLastSuspendedMapsClick(S.d.LandParcel)}setCursor(t){switch(t.type){case st.e.Focus:if(!this.isAbleWhenLandParcelOn(t.feature))return;return void this.maps.setCursor(st.b.Pointer);case st.e.Blur:return void this.maps.clearCursor()}}allowOnlySpecialSources(t){return["POI","TRANSIT","CCTV","INDOOR_POI",f.w.BookmarkMarker,f.w.FrequentPlaceMarker].includes(t.feature.source)}checkDebounce(t){return t&&t.type!==st.e.Blur?Object(s.a)(50).pipe(Object(C.a)()):Object(a.a)(!0)}showOrHideComponent(t){switch(t.type){case st.e.Focus:return this.removeClusteredHoverCardComponent(),this.getDetailInfo(t).pipe(Object(m.a)(this.allowIfHaveToShowComponent.bind(this)),Object(y.a)(this.createComponent.bind(this)));case st.e.Blur:return this.afterMouseLeave()}}getDetailInfo(t){const e=t.feature;if(!e||!e.properties||!e.properties.type)return Object(a.a)(null);const n=e.properties.type;return n===st.f.Place?c.a:n===st.f.Cctv?this.zone.run(()=>this.getCctvDetail(t,e)):Object(a.a)(null)}getCctvDetail(t,e){const n=e.properties.id,i=parseInt(n.split(":")[0],10),o=parseInt(n.split(":")[1],10);return Object(r.a)([Object(a.a)(t),this.api.getCctvList(o,i).pipe(Object(P.a)(Object(L.g)(h.ab,h.Z)),Object(M.a)(t=>(this.logService.log(rt.b.Entry,"LocationInfoService","attachMouseMove",{err:t},"getCctvList api error",rt.a.DataError),c.a)),Object(b.a)(t=>({cctv:t.message.result.cctvList.find(t=>o===t.channel)})))])}getThumbnailDetail(t,e){return this.api.getSiteDetail(e.properties.id).pipe(Object(M.a)(t=>(this.logService.log(rt.b.Entry,"LocationInfoService","attachMouseMove",{err:t},"getThumbnailDetail api error",rt.a.DataError),c.a)),Object(b.a)(e=>{const n=e.summary,i={placeId:t.feature&&t.feature.properties?t.feature.properties.id:null,poiInfo:e.summary.poiInfo,reviewCount:e.review&&e.review.total,bookingReviewsAvg:e.bookingReviews&&e.bookingReviews.avgScore,name:n.name,categories:n.categories,images:n.images,moduThemes:e.themes.modu};return n.streetPanorama&&(i.streetPanorama=n.streetPanorama),n.skyPanorama&&(i.skyPanorama=n.skyPanorama),n.indoorPanorama&&(i.indoorPanorama=n.indoorPanorama),[t,i]}))}allowIfHaveToShowComponent(t){return!!t}createComponent([t,e]){e.cctv&&this.createTooltipComponent([t,e])}createTooltipComponent([t,e]){this.removeTooltipComponent();const n=t.feature;if(!n&&!n.properties&&!n.properties.id)return;if(n.properties.id.indexOf(this.cctvService.cctvId)>-1)return;let i=0,o=0;const r=n.geometry;r&&r.coordinates&&(i=r.coordinates[0],o=r.coordinates[1]);const a=this.componentFactoryResolver.resolveComponentFactory(X);this.hoverTooltipComponent=a.create(this.injector),this.ar.attachView(this.hoverTooltipComponent.hostView),this.maps.mapElement.appendChild(this.hoverTooltipComponent.location.nativeElement),this.hoverTooltipComponent.instance.showCctvInfo(Object.assign({lng:i,lat:o,point:t.point},e))}createClusteredHoverCardComponent([t,e]){if(!this.isShowHoverCard)return;const n=this.componentFactoryResolver.resolveComponentFactory(Y);this.hoverComponent=n.create(this.injector),this.ar.attachView(this.hoverComponent.hostView),this.maps.mapElement.appendChild(this.hoverComponent.location.nativeElement),this.hoverComponent.instance.showInfo(Object.assign({lng:t.lngLat.lng,lat:t.lngLat.lat,point:t.point},e)).subscribe(()=>{this.removeClusteredHoverCardComponent()})}catchTimeToClose(){return Object(l.a)(this.maps.events.mouseDown,this.mapsPickerService.events.pipe(Object(m.a)(t=>t.type===st.e.Blur)),Object(u.a)(document,"mousemove").pipe(Object(m.a)(t=>!Object(L.l)(t).includes(this.maps.getElement())))).pipe(Object(C.a)())}setComponentFactoryResolver(t){t&&(this.componentFactoryResolver=t)}getAddressData(t,e){return this.api.getGeocode(t,e,[f.m.ADDR,f.m.ROAD_ADDR]).pipe(Object(v.a)(t=>{if(t.status.code!==f.l.SUCCESS)return Object(a.a)([]);const e=t.results;return 0===e.length?Object(a.a)([]):Object(a.a)(e)}),Object(b.a)(([t,e])=>({addr:t,roadAddr:e})))}getPanoramaData(t,e){return this.api.getNearPanorama(t,e,f.z.STREET,{lookAt:{lng:t,lat:e}})}openSummaryCard(t){let e;if(t.source==f.w.BookmarkMarker)e=this.makeBookmarkedFeature(t);else{const{type:n,source:i,properties:o,layer:r,geometry:a}=t;e={type:n,source:i,properties:o,layer:r,geometry:a}}this.store.dispatch(Object(ct.e)({payload:e}))}makeBookmarkedFeature(t){const{type:e,source:n,properties:i,layer:o,geometry:r}=t,a={type:e,source:n,layer:o,geometry:r,properties:Object.assign({},i)};switch(i.type){case st.f.BusStation:case st.f.BusStop:a.properties.type="busStation";break;case st.f.Subway:case st.f.SubwayStation:case st.f.SubwayStationTransfer:case st.f.Station:a.properties.type="subwayStation"}return a}}return t.\u0275fac=function(e){return new(e||t)(o.ic(o.g),o.ic(o.v),o.ic(it.a),o.ic(Q.a),o.ic(K.b),o.ic(Z.a),o.ic(ot.e),o.ic(S.e),o.ic(R.a),o.ic(d.b),o.ic(g.b),o.ic(at.a),o.ic(lt.h),o.ic(F.d),o.ic($.a),o.ic(tt.a),o.ic(o.F),o.ic(i.a),o.ic(w.f),o.ic(nt.a))},t.\u0275prov=o.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"8dJe":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("Pbce"),o=n("rS+x"),r=n("fXoL"),a=n("sYmb");let s=(()=>{class t{constructor(t,e){this.translate=t,this.zone=e}nextTick(t,e){return void 0===e?(Object(i.v)(t),0):window.setTimeout(()=>{this.zone.run(()=>{t()})},e)}getBestTolerance(t){return t<=8?.01:t<=11?.001:t<=12?1e-4:t<=13?1e-5:t<=14?1e-6:t<=15?1e-7:t<=16?1e-8:1e-9}getAddressByGeoCodeInfo(t){if(!t.region)return"";const{name:e,region:n,land:i}=t,r=[];if(n.area1&&n.area1.name&&r.push(n.area1.name),n.area2&&n.area2.name&&r.push(n.area2.name),n.area3&&n.area3.name&&r.push(n.area3.name),n.area4&&n.area4.name&&r.push(n.area4.name),!i||!i.number1)return r.join(" ");const a=i.number2?`${i.number1}-${i.number2}`:i.number1;return o.k.MOUNTAIN===i.type?r.push(this.translate.instant("ADDRESS.WITH_SAN",{value:a})):"roadaddr"===e&&i.name?(r[r.length-1]=i.name,r.push(a)):r.push(a),r.join(" ")}}return t.\u0275fac=function(e){return new(e||t)(r.ic(a.d),r.ic(r.F))},t.\u0275prov=r.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"8qY4":function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"e",function(){return s}),n.d(e,"d",function(){return c}),n.d(e,"b",function(){return l}),n.d(e,"g",function(){return h}),n.d(e,"f",function(){return d}),n.d(e,"j",function(){return _}),n.d(e,"i",function(){return y}),n.d(e,"h",function(){return O}),n.d(e,"c",function(){return v});var i=n("l7P3"),o=n("gjNt"),r=function(t){return t.Gasoline="B027",t.High="B034",t.Diesel="D047",t.Lpg="K015",t}({}),a=function(t){return t.Open="SUMMARY_CARD/OPEN",t.GetData="SUMMARY_CARD/GET_DATA",t.Close="SUMMARY_CARD/CLOSE",t}({});const s=Object(i.n)(a.Open,Object(i.s)()),c=Object(i.n)(a.GetData,Object(i.s)()),l=Object(i.n)(a.Close),u={isOpened:!1,feature:null,data:null},p=Object(i.p)(u,Object(i.r)(s,(t,{payload:e})=>Object.assign(Object.assign({},t),{isOpened:!0,feature:e})),Object(i.r)(c,(t,{payload:e})=>Object.assign(Object.assign({},t),{data:e})),Object(i.r)(l,()=>u)),h=(t,e)=>p(t,e),d="SUMMARY_CARD",g=Object(i.o)(d),f=Object(i.q)(g,t=>t.isOpened),b=Object(i.q)(g,t=>t.feature),m=Object(i.q)(g,t=>t.data),_=t=>t.pipe(Object(i.t)(f)),y=t=>t.pipe(Object(i.t)(b)),O=t=>t.pipe(Object(i.t)(m)),v=t=>Object(o.a)(y(t))},"9/EM":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("/h9T"),o=n("/Tr7"),r=n("jIYg");function a(t,e){Object(r.a)(2,arguments);var n=Object(o.a)(t),a=Object(i.a)(e);return isNaN(a)?new Date(NaN):a?(n.setDate(n.getDate()+a),n):n}},"9VJ2":function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l.a}),n.d(e,"c",function(){return u.a});var i=n("fXoL"),o=n("Joaz"),r=n("rS+x"),a=n("FQSa"),s=n("CJka");let c=(()=>{class t{constructor(t,e){this.panoramaService=t,this.uaParser=e,this.events={show:new i.q}}setRoutePath(t){this.routePathStore=t,this.panoramaService.setRoute(this.routePathStore)}showPanorama(t){this.routePathStore&&this.panoramaService.setRoute(this.routePathStore),t&&t.lookAt||t&&t.PID?(t.layout=a.d.Split,this.panoramaService.tryPanoramaViewer(t,!0)):this.panoramaService.tryPanoramaViewer({lat:t.position[1],lng:t.position[0],layout:this.uaParser.isIe11?a.d.Float:a.d.Split},!0),this.events.show.emit()}makePanoramaOptions(t,e,n=300,i=150){if(!t)return null;const o={size:{width:n,height:i},autoExtend:!0,tilt:t.tilt||null,heading:t.pan||null};return t.eye&&t.lookAt?(o.position=t.eye,o.lookAt=t.lookAt):t.id&&(o.PID=t.id),e&&e===r.d.Walk&&!!o.lookAt&&(o.positionHint="match"),o}}return t.\u0275fac=function(e){return new(e||t)(i.ic(o.f),i.ic(s.a))},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=n("x/+U"),u=(n("F3fk"),n("yyWl"),n("Bafg"))},"9YLj":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("CJka"),o=n("z6kb"),r=n("fXoL");let a=(()=>{class t{constructor(t,e,n){this.el=t,this.ua=e,this.status=n,this.tooltip="",this.tooltipPlacement="right",this.tooltipShowDelay=0,this.tooltipHideDelay=300,this.tooltipZIndex="",this.tooltipOffset=8}ngOnDestroy(){this.tooltipElement&&this.hide()}onMouseEnter(){this.ua.device.type||(this.getPosition(),this.tooltipElement||(this.create(),this.setPosition(),this.show()))}onMouseLeave(){this.ua.device.type||this.hide()}getPosition(){this.elPosition=this.el.nativeElement.getBoundingClientRect()}create(){this.tooltipElement=document.createElement("div"),this.tooltipElement.className+="nm-tooltip nm-tooltip-"+this.tooltipPlacement,this.tooltipInnerElement=document.createElement("span"),this.tooltipInnerElement.className="nm-tooltip-inner",this.tooltipInnerElement.textContent=this.tooltip,this.tooltipElement.appendChild(this.tooltipInnerElement),this.tooltipZIndex&&(this.tooltipElement.style.zIndex=this.tooltipZIndex),document.body.appendChild(this.tooltipElement)}show(){this.showTimeoutId&&clearTimeout(this.showTimeoutId),this.showTimeoutId=window.setTimeout(()=>{this.tooltipElement&&(this.status.suspendTooltip(this.tooltip),this.tooltipElement.classList.add("nm-tooltip-show"))},this.status.isShowingTooltip?0:this.tooltipShowDelay)}hide(){clearTimeout(this.showTimeoutId),this.hideTimeoutId&&clearTimeout(this.hideTimeoutId),this.tooltipElement&&(this.tooltipElement.classList.remove("nm-tooltip-show"),this.hideTimeoutId=window.setTimeout(()=>{this.tooltipElement.parentNode.removeChild(this.tooltipElement),this.tooltipElement=null,this.status.resumeTooltip(this.tooltip)},this.tooltipHideDelay))}setPosition(){const t=this.el.nativeElement.offsetHeight,e=this.el.nativeElement.offsetWidth,n=this.tooltipElement.offsetWidth,i=window.pageYOffset;"top"===this.tooltipPlacement&&(this.tooltipElement.style.top=this.elPosition.top+i-(this.tooltipElement.clientHeight+this.tooltipOffset)+"px"),"bottom"===this.tooltipPlacement&&(this.tooltipElement.style.top=this.elPosition.top+i+t+this.tooltipOffset+"px"),"top"!==this.tooltipPlacement&&"bottom"!==this.tooltipPlacement||(this.tooltipElement.style.left=this.elPosition.left+e/2-n/2+"px"),"left"===this.tooltipPlacement&&(this.tooltipElement.style.left=this.elPosition.left-n-this.tooltipOffset+"px"),"right"===this.tooltipPlacement&&(this.tooltipElement.style.left=this.elPosition.left+e+this.tooltipOffset+"px"),"left"!==this.tooltipPlacement&&"right"!==this.tooltipPlacement||(this.tooltipElement.style.top=this.elPosition.top+i+t/2-this.tooltipElement.clientHeight/2+"px")}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.o),r.Yb(i.a),r.Yb(o.e))},t.\u0275dir=r.Tb({type:t,selectors:[["","tooltip",""]],hostBindings:function(t,e){1&t&&r.lc("focusin",function(){return e.onMouseEnter()})("mouseenter",function(){return e.onMouseEnter()})("mousemove",function(){return e.onMouseEnter()})("focusout",function(){return e.onMouseLeave()})("mouseleave",function(){return e.onMouseLeave()})("mousedown",function(){return e.onMouseLeave()})},inputs:{tooltip:"tooltip",tooltipPlacement:"tooltipPlacement",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipZIndex:"tooltipZIndex"}}),t})()},"9lcI":function(t,e,n){"use strict";var i=n("VO5J");n.d(e,"a",function(){return i.d});var o=n("J1fe");n.d(e,"c",function(){return o.a}),n.d(e,"d",function(){return o.d}),n.d(e,"e",function(){return o.e}),n.d(e,"f",function(){return o.f}),n.d(e,"g",function(){return o.g}),n.d(e,"h",function(){return o.h});var r=n("AUoQ");n.d(e,"b",function(){return r.a});var a=n("0CzW");n.d(e,"i",function(){return a.c}),n.d(e,"j",function(){return a.d}),n.d(e,"k",function(){return a.e}),n.d(e,"l",function(){return a.j})},"A/RR":function(t,e,n){!function(t){"use strict";function e(t,e){return t>e?1:t<e?-1:0}var n=function(t,n){void 0===t&&(t=e),void 0===n&&(n=!1),this._compare=t,this._root=null,this._size=0,this._noDuplicates=!!n},i={size:{configurable:!0}};function o(t,e,n,i,r){var a=r-i;if(a>0){var s=i+Math.floor(a/2),c={key:e[s],data:n[s],parent:t};return c.left=o(c,e,n,i,s),c.right=o(c,e,n,s+1,r),c}return null}function r(t,e,n,i,o){if(!(n>=i)){for(var a=t[n+i>>1],s=n-1,c=i+1;;){do{s++}while(o(t[s],a)<0);do{c--}while(o(t[c],a)>0);if(s>=c)break;var l=t[s];t[s]=t[c],t[c]=l,l=e[s],e[s]=e[c],e[c]=l}r(t,e,n,c,o),r(t,e,c+1,i,o)}}function a(t,e,n){null===e?(t.inOut=!1,t.otherInOut=!0):(t.isSubject===e.isSubject?(t.inOut=!e.inOut,t.otherInOut=e.otherInOut):(t.inOut=!e.otherInOut,t.otherInOut=e.isVertical()?!e.inOut:e.inOut),e&&(t.prevInResult=!s(e,n)||e.isVertical()?e.prevInResult:e)),t.inResult=s(t,n)}function s(t,e){switch(t.type){case 0:switch(e){case 0:return!t.otherInOut;case 1:return t.otherInOut;case 2:return t.isSubject&&t.otherInOut||!t.isSubject&&!t.otherInOut;case 3:return!0}break;case 2:return 0===e||1===e;case 3:return 2===e;case 1:return!1}return!1}n.prototype.rotateLeft=function(t){var e=t.right;e&&(t.right=e.left,e.left&&(e.left.parent=t),e.parent=t.parent),t.parent?t===t.parent.left?t.parent.left=e:t.parent.right=e:this._root=e,e&&(e.left=t),t.parent=e},n.prototype.rotateRight=function(t){var e=t.left;e&&(t.left=e.right,e.right&&(e.right.parent=t),e.parent=t.parent),t.parent?t===t.parent.left?t.parent.left=e:t.parent.right=e:this._root=e,e&&(e.right=t),t.parent=e},n.prototype._splay=function(t){for(;t.parent;){var e=t.parent;e.parent?e.left===t&&e.parent.left===e?(this.rotateRight(e.parent),this.rotateRight(e)):e.right===t&&e.parent.right===e?(this.rotateLeft(e.parent),this.rotateLeft(e)):e.left===t&&e.parent.right===e?(this.rotateRight(e),this.rotateLeft(e)):(this.rotateLeft(e),this.rotateRight(e)):e.left===t?this.rotateRight(e):this.rotateLeft(e)}},n.prototype.splay=function(t){for(var e,n,i,o,r;t.parent;)(n=(e=t.parent).parent)&&n.parent?((i=n.parent).left===n?i.left=t:i.right=t,t.parent=i):(t.parent=null,this._root=t),o=t.left,r=t.right,t===e.left?(n&&(n.left===e?(e.right?(n.left=e.right,n.left.parent=n):n.left=null,e.right=n,n.parent=e):(o?(n.right=o,o.parent=n):n.right=null,t.left=n,n.parent=t)),r?(e.left=r,r.parent=e):e.left=null,t.right=e,e.parent=t):(n&&(n.right===e?(e.left?(n.right=e.left,n.right.parent=n):n.right=null,e.left=n,n.parent=e):(r?(n.left=r,r.parent=n):n.left=null,t.right=n,n.parent=t)),o?(e.right=o,o.parent=e):e.right=null,t.left=e,e.parent=t)},n.prototype.replace=function(t,e){t.parent?t===t.parent.left?t.parent.left=e:t.parent.right=e:this._root=e,e&&(e.parent=t.parent)},n.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t},n.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t},n.prototype.insert=function(t,e){var n=this._root,i=null,o=this._compare;if(this._noDuplicates)for(;n;){if(i=n,0===o(n.key,t))return;n=o(n.key,t)<0?n.right:n.left}else for(;n;)i=n,n=o(n.key,t)<0?n.right:n.left;return n={key:t,data:e,left:null,right:null,parent:i},i?o(i.key,n.key)<0?i.right=n:i.left=n:this._root=n,this.splay(n),this._size++,n},n.prototype.find=function(t){for(var e=this._root,n=this._compare;e;){var i=n(e.key,t);if(i<0)e=e.right;else{if(!(i>0))return e;e=e.left}}return null},n.prototype.contains=function(t){for(var e=this._root,n=this._compare;e;){var i=n(t,e.key);if(0===i)return!0;e=i<0?e.left:e.right}return!1},n.prototype.remove=function(t){var e=this.find(t);if(!e)return!1;if(this.splay(e),e.left)if(e.right){var n=this.minNode(e.right);n.parent!==e&&(this.replace(n,n.right),n.right=e.right,n.right.parent=n),this.replace(e,n),n.left=e.left,n.left.parent=n}else this.replace(e,e.left);else this.replace(e,e.right);return this._size--,!0},n.prototype.removeNode=function(t){if(!t)return!1;if(this.splay(t),t.left)if(t.right){var e=this.minNode(t.right);e.parent!==t&&(this.replace(e,e.right),e.right=t.right,e.right.parent=e),this.replace(t,e),e.left=t.left,e.left.parent=e}else this.replace(t,t.left);else this.replace(t,t.right);return this._size--,!0},n.prototype.erase=function(t){var e=this.find(t);if(e){this.splay(e);var n=e.left,i=e.right,o=null;n&&(n.parent=null,o=this.maxNode(n),this.splay(o),this._root=o),i&&(n?o.right=i:this._root=i,i.parent=o),this._size--}},n.prototype.pop=function(){var t=this._root,e=null;if(t){for(;t.left;)t=t.left;e={key:t.key,data:t.data},this.remove(t.key)}return e},n.prototype.next=function(t){var e=t;if(e)if(e.right)for(e=e.right;e&&e.left;)e=e.left;else for(e=t.parent;e&&e.right===t;)t=e,e=e.parent;return e},n.prototype.prev=function(t){var e=t;if(e)if(e.left)for(e=e.left;e&&e.right;)e=e.right;else for(e=t.parent;e&&e.left===t;)t=e,e=e.parent;return e},n.prototype.forEach=function(t){for(var e=this._root,n=[],i=!1,o=0;!i;)e?(n.push(e),e=e.left):n.length>0?(t(e=n.pop(),o++),e=e.right):i=!0;return this},n.prototype.range=function(t,e,n,i){for(var o=[],r=this._compare,a=this._root;0!==o.length||a;)if(a)o.push(a),a=a.left;else{if(r((a=o.pop()).key,e)>0)break;if(r(a.key,t)>=0&&n.call(i,a))return this;a=a.right}return this},n.prototype.keys=function(){for(var t=this._root,e=[],n=[],i=!1;!i;)t?(e.push(t),t=t.left):e.length>0?(t=e.pop(),n.push(t.key),t=t.right):i=!0;return n},n.prototype.values=function(){for(var t=this._root,e=[],n=[],i=!1;!i;)t?(e.push(t),t=t.left):e.length>0?(t=e.pop(),n.push(t.data),t=t.right):i=!0;return n},n.prototype.at=function(t){for(var e=this._root,n=[],i=!1,o=0;!i;)if(e)n.push(e),e=e.left;else if(n.length>0){if(e=n.pop(),o===t)return e;o++,e=e.right}else i=!0;return null},n.prototype.load=function(t,e,n){if(void 0===t&&(t=[]),void 0===e&&(e=[]),void 0===n&&(n=!1),0!==this._size)throw new Error("bulk-load: tree is not empty");var i=t.length;return n&&r(t,e,0,i-1,this._compare),this._root=o(null,t,e,0,i),this._size=i,this},n.prototype.min=function(){var t=this.minNode(this._root);return t?t.key:null},n.prototype.max=function(){var t=this.maxNode(this._root);return t?t.key:null},n.prototype.isEmpty=function(){return null===this._root},i.size.get=function(){return this._size},n.createTree=function(t,e,i,o,r){return new n(i,r).load(t,e,o)},Object.defineProperties(n.prototype,i);var c=function(t,e,n,i,o){this.left=e,this.point=t,this.otherEvent=n,this.isSubject=i,this.type=o||0,this.inOut=!1,this.otherInOut=!1,this.prevInResult=null,this.inResult=!1,this.resultInOut=!1,this.isExteriorRing=!0};function l(t,e){return t[0]===e[0]&&t[1]===e[1]}function u(t,e,n){return(t[0]-n[0])*(e[1]-n[1])-(e[0]-n[0])*(t[1]-n[1])}function p(t,e){var n=t.point,i=e.point;return n[0]>i[0]?1:n[0]<i[0]?-1:n[1]!==i[1]?n[1]>i[1]?1:-1:function(t,e,n,i){return t.left!==e.left?t.left?1:-1:0!==u(n,t.otherEvent.point,e.otherEvent.point)?t.isBelow(e.otherEvent.point)?-1:1:!t.isSubject&&e.isSubject?1:-1}(t,e,n)}function h(t,e,n){var i=new c(e,!1,t,t.isSubject),o=new c(e,!0,t.otherEvent,t.isSubject);return l(t.point,t.otherEvent.point)&&console.warn("what is that, a collapsed segment?",t),i.contourId=o.contourId=t.contourId,p(o,t.otherEvent)>0&&(t.otherEvent.left=!0,o.left=!1),t.otherEvent.otherEvent=o,t.otherEvent=i,n.push(o),n.push(i),n}function d(t,e){return t[0]*e[1]-t[1]*e[0]}function g(t,e){return t[0]*e[0]+t[1]*e[1]}function f(t,e,n){var i=function(t,e,n,i,o){var r=[e[0]-t[0],e[1]-t[1]],a=[i[0]-n[0],i[1]-n[1]];function s(t,e,n){return[t[0]+e*n[0],t[1]+e*n[1]]}var c=[n[0]-t[0],n[1]-t[1]],l=d(r,a),u=l*l,p=g(r,r);if(u>0){var h=d(c,a)/l;if(h<0||h>1)return null;var f=d(c,r)/l;return f<0||f>1?null:0===h||1===h?[s(t,h,r)]:0===f||1===f?[s(n,f,a)]:[s(t,h,r)]}if((u=(l=d(c,r))*l)>0)return null;var b=g(r,c)/p,m=b+g(r,a)/p,_=Math.min(b,m),y=Math.max(b,m);return _<=1&&y>=0?1===_?[s(t,_>0?_:0,r)]:0===y?[s(t,y<1?y:1,r)]:[s(t,_>0?_:0,r),s(t,y<1?y:1,r)]:null}(t.point,t.otherEvent.point,e.point,e.otherEvent.point),o=i?i.length:0;if(0===o)return 0;if(1===o&&(l(t.point,e.point)||l(t.otherEvent.point,e.otherEvent.point)))return 0;if(2===o&&t.isSubject===e.isSubject)return 0;if(1===o)return l(t.point,i[0])||l(t.otherEvent.point,i[0])||h(t,i[0],n),l(e.point,i[0])||l(e.otherEvent.point,i[0])||h(e,i[0],n),1;var r=[],a=!1,s=!1;return l(t.point,e.point)?a=!0:1===p(t,e)?r.push(e,t):r.push(t,e),l(t.otherEvent.point,e.otherEvent.point)?s=!0:1===p(t.otherEvent,e.otherEvent)?r.push(e.otherEvent,t.otherEvent):r.push(t.otherEvent,e.otherEvent),a&&s||a?(e.type=1,t.type=e.inOut===t.inOut?2:3,a&&!s&&h(r[1].otherEvent,r[0].point,n),2):s?(h(r[0],r[1].point,n),3):r[0]!==r[3].otherEvent?(h(r[0],r[1].point,n),h(r[1],r[2].point,n),3):(h(r[0],r[1].point,n),h(r[3].otherEvent,r[2].point,n),3)}function b(t,e){if(t===e)return 0;if(0!==u(t.point,t.otherEvent.point,e.point)||0!==u(t.point,t.otherEvent.point,e.otherEvent.point))return l(t.point,e.point)?t.isBelow(e.otherEvent.point)?-1:1:t.point[0]===e.point[0]?t.point[1]<e.point[1]?-1:1:1===p(t,e)?e.isAbove(t.point)?-1:1:t.isBelow(e.point)?-1:1;if(t.isSubject!==e.isSubject)return t.isSubject?-1:1;var n=t.point,i=e.point;return n[0]===i[0]&&n[1]===i[1]?(n=t.otherEvent.point)[0]===(i=e.otherEvent.point)[0]&&n[1]===i[1]?0:t.contourId>e.contourId?1:-1:1===p(t,e)?1:-1}function m(t,e,n,i){var o=t+1,r=e.length;if(o>r-1)return t-1;for(var a=e[t].point,s=e[o].point;o<r&&s[0]===a[0]&&s[1]===a[1];){if(!n[o])return o;s=e[++o].point}for(o=t-1;n[o]&&o>=i;)o--;return o}c.prototype.isBelow=function(t){var e=this.point,n=this.otherEvent.point;return this.left?(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])>0:(n[0]-t[0])*(e[1]-t[1])-(e[0]-t[0])*(n[1]-t[1])>0},c.prototype.isAbove=function(t){return!this.isBelow(t)},c.prototype.isVertical=function(){return this.point[0]===this.otherEvent.point[0]},c.prototype.clone=function(){var t=new c(this.point,this.left,this.otherEvent,this.isSubject,this.type);return t.inResult=this.inResult,t.prevInResult=this.prevInResult,t.isExteriorRing=this.isExteriorRing,t.inOut=this.inOut,t.otherInOut=this.otherInOut,t};var _=O,y=O;function O(t,e){if(!(this instanceof O))return new O(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||v,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function v(t,e){return t<e?-1:t>e?1:0}O.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,i=e[t];t>0;){var o=t-1>>1,r=e[o];if(n(i,r)>=0)break;e[t]=r,t=o}e[t]=i},_down:function(t){for(var e=this.data,n=this.compare,i=this.length>>1,o=e[t];t<i;){var r=1+(t<<1),a=r+1,s=e[r];if(a<this.length&&n(e[a],s)<0&&(r=a,s=e[a]),n(s,o)>=0)break;e[t]=s,t=r}e[t]=o}},_.default=y;var C=Math.max,P=Math.min,M=0;function x(t,e,n,i,o,r){var a,s,l,u,h,d;for(a=0,s=t.length-1;a<s;a++)if(u=t[a+1],h=new c(l=t[a],!1,void 0,e),d=new c(u,!1,h,e),h.otherEvent=d,l[0]!==u[0]||l[1]!==u[1]){h.contourId=d.contourId=n,r||(h.isExteriorRing=!1,d.isExteriorRing=!1),p(h,d)>0?d.left=!0:h.left=!0;var g=l[0],f=l[1];o[0]=P(o[0],g),o[1]=P(o[1],f),o[2]=C(o[2],g),o[3]=C(o[3],f),i.push(h),i.push(d)}}var w=[];function k(t,e,i){"number"==typeof t[0][0][0]&&(t=[t]),"number"==typeof e[0][0][0]&&(e=[e]);var o=function(t,e,n){var i=null;return t.length*e.length==0&&(0===n?i=w:2===n?i=t:1!==n&&3!==n||(i=0===t.length?e:t)),i}(t,e,i);if(o)return o===w?null:o;var r=[1/0,1/0,-1/0,-1/0],s=[1/0,1/0,-1/0,-1/0],c=function(t,e,n,i,o){var r,a,s,c,l,u,h=new _(null,p);for(s=0,c=t.length;s<c;s++)for(l=0,u=(r=t[s]).length;l<u;l++)(a=0===l)&&M++,x(r[l],!0,M,h,n,a);for(s=0,c=e.length;s<c;s++)for(l=0,u=(r=e[s]).length;l<u;l++)a=0===l,2===o&&(a=!1),a&&M++,x(r[l],!1,M,h,i,a);return h}(t,e,r,s,i);return(o=function(t,e,n,i,o){var r=null;return(n[0]>i[2]||i[0]>n[2]||n[1]>i[3]||i[1]>n[3])&&(0===o?r=w:2===o?r=t:1!==o&&3!==o||(r=t.concat(e))),r}(t,e,r,s,i))?o===w?null:o:function(t,e){var n,i,o,r=function(t){var e,n,i,o,r=[];for(n=0,i=t.length;n<i;n++)((e=t[n]).left&&e.inResult||!e.left&&e.otherEvent.inResult)&&r.push(e);for(var a=!1;!a;)for(a=!0,n=0,i=r.length;n<i;n++)n+1<i&&1===p(r[n],r[n+1])&&(o=r[n],r[n]=r[n+1],r[n+1]=o,a=!1);for(n=0,i=r.length;n<i;n++)(e=r[n]).pos=n;for(n=0,i=r.length;n<i;n++)(e=r[n]).left||(o=e.pos,e.pos=e.otherEvent.pos,e.otherEvent.pos=o);return r}(t),a={},s=[];for(n=0,i=r.length;n<i;n++)if(!a[n]){var c=[[]];r[n].isExteriorRing?2===e&&!r[n].isSubject&&s.length>1?s[s.length-1].push(c[0]):s.push(c):2!==e||r[n].isSubject||0!==s.length?0===s.length?s.push([[c]]):s[s.length-1].push(c[0]):s.push(c);var l=s.length-1,u=n;for(c[0].push(r[n].point);u>=n;)o=r[u],a[u]=!0,o.left?(o.resultInOut=!1,o.contourId=l):(o.otherEvent.resultInOut=!0,o.otherEvent.contourId=l),a[u=o.pos]=!0,c[0].push(r[u].point),u=m(u,r,a,n);a[u=-1===u?n:u]=a[(o=r[u]).pos]=!0,o.otherEvent.resultInOut=!0,o.otherEvent.contourId=l}return s}(function(t,e,i,o,r,s){for(var c,l,u,p=new n(b),h=[],d=Math.min(o[2],r[2]);0!==t.length;){var g=t.pop();if(h.push(g),0===s&&g.point[0]>d||2===s&&g.point[0]>o[2])break;if(g.left){l=c=p.insert(g),c=c!==(u=p.minNode())?p.prev(c):null,l=p.next(l);var m=c?c.key:null;if(a(g,m,s),l&&2===f(g,l.key,t)&&(a(g,m,s),a(g,l.key,s)),c&&2===f(c.key,g,t)){var _=c;a(m,(_=_!==u?p.prev(_):null)?_.key:null,s),a(g,m,s)}}else l=c=p.find(g=g.otherEvent),c&&l&&(c=c!==u?p.prev(c):null,l=p.next(l),p.remove(g),l&&c&&f(c.key,l.key,t))}return h}(c,0,0,r,s,i),i)}t.union=function(t,e){return k(t,e,1)},t.diff=function(t,e){return k(t,e,2)},t.xor=function(t,e){return k(t,e,3)},t.intersection=function(t,e){return k(t,e,0)},t.operations={UNION:1,DIFFERENCE:2,INTERSECTION:0,XOR:3},Object.defineProperty(t,"__esModule",{value:!0})}(e)},AAPk:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("/sq9"),o=n("2yK0"),r=n("fXoL");let a=(()=>{class t{constructor(){this.common=new o.a({isAllListUpdated:!1}),this.popupDisplayName=new o.a({action:null,name:"",displayName:"",visible:!1,bookmark:null}),this.popupMemo=new o.a({action:null,memo:"",visible:!1,bookmark:null}),this.popupMenu=new o.a({action:i.h.CLOSE,type:null,visible:!1}),this.popupBookmark=new o.a({action:i.a.CLOSE,visible:!1,bookmark:null}),this.popupFolder=new o.a({action:i.d.CLOSE,visible:!1,folder:null}),this.popupList=new o.a({action:i.f.CLOSE,visible:!1}),this.popupPreload=new o.a({visible:!1})}openPreloadFavoritePopup(){this.popupPreload.state.visible||this.popupPreload.setState({visible:!0})}setCommonAllListUpdated(){this.common.setState({isAllListUpdated:!0})}openDisplayNamePopup(t){t.action=i.c.OPEN,t.visible=!0,t.left=t.left,t.top=t.top,this.popupDisplayName.setState(t)}deleteDisplayNamePopup(){const t=this.popupDisplayName.state;t.action=i.c.DELETE,t.displayName="",this.popupDisplayName.setState(t)}confirmDisplayNamePopup(t){const e=this.popupDisplayName.state;e.action=i.c.OK,e.displayName=t.trim(),this.popupDisplayName.setState(e)}closeDisplayNamePopup(){const t=this.popupDisplayName.state;t.action=i.c.CLOSE,t.visible=!1,this.popupDisplayName.setState(t)}openMemoPopup(t){t.action=i.g.OPEN,t.visible=!0,t.left=t.left,t.top=t.top,this.popupMemo.setState(t)}deleteMemoPopup(){const t=this.popupMemo.state;t.action=i.g.DELETE,t.memo="",this.popupMemo.setState(t)}confirmMemoPopup(t){const e=this.popupMemo.state;e.action=i.g.OK,e.memo=t.trim(),this.popupMemo.setState(e)}closeMemoPopup(){const t=this.popupMemo.state;t.action=i.g.CLOSE,t.visible=!1,this.popupMemo.setState(t)}openBookmarkPopup(t){t.action=i.a.OPEN,t.visible=!0,t.left=t.left,t.top=t.top,this.popupBookmark.setState(t)}closeBookmarkPopup(){const t=this.popupBookmark.state;t.action=i.a.CLOSE,t.visible=!1,this.popupBookmark.setState(t)}moveBookmarkPopup(){const t=this.popupBookmark.state;t.action=i.a.MOVE,this.popupBookmark.setState(t)}openFolderPopup(t){t.action=i.d.OPEN,t.visible=!0,t.left=t.left,t.top=t.top,this.popupFolder.setState(t)}closeFolderPopup(){const t=this.popupFolder.state;t.action=i.d.CLOSE,t.visible=!1,this.popupFolder.setState(t)}openListPopup(t){t.action=i.f.OPEN,t.visible=!0,this.popupList.setState(t)}closeListPopup(){this.popupList.setState({action:i.f.CLOSE,visible:!1,directionsType:null,displayViaButton:null,bookmark:null})}selectListPopup(t){this.popupList.setState(t)}toggleMenuPopup(t){this.popupMenu.state.visible?this.closeMenuPopup():this.popupMenu.setState({action:i.h.OPEN,visible:!0,type:t.type,folder:t.folder,bookmark:t.bookmark,left:t.left,top:t.top})}closeMenuPopup(){this.popupMenu.setState({action:i.h.CLOSE,visible:!1,type:null,folder:null,left:-1e3,top:-1e3,bookmark:null})}selectMenuPopupFolderEdit(t){t.type=i.i.FOLDER,t.action=i.h.EDIT_FOLDER,t.visible=!0,this.selectMenuPopup(t)}selectMenuPopupFolderDelete(t){t.type=i.i.FOLDER,t.action=i.h.DELETE_FOLDER,this.selectMenuPopup(t)}selectMenuPopupBookmarkEditDisplayName(t){t.action=i.h.EDIT_BOOKMARK,t.visible=!0,this.selectMenuPopup(t)}selectMenuPopupBookmarkEditMemo(t){t.action=i.h.EDIT_BOOKMARK_MEMO,t.visible=!0,this.selectMenuPopup(t)}selectMenuPopupBookmarkMove(t){t.action=i.h.MOVE_BOOKMARK,t.visible=!0,this.selectMenuPopup(t)}selectMenuPopupBookmarkDelete(t){t.action=i.h.DELETE_BOOKMARK,t.visible=!0,this.selectMenuPopup(t)}selectMenuPopup(t){this.popupMenu.setState(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},AKIq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("/rf6");e.getCoord=function(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")},e.getCoords=function(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")},e.containsNumber=function t(e){if(e.length>1&&i.isNumber(e[0])&&i.isNumber(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return t(e[0]);throw new Error("coordinates must only contain numbers")},e.geojsonType=function(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)},e.featureOf=function(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)},e.collectionOf=function(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var i=0,o=t.features;i<o.length;i++){var r=o[i];if(!r||"Feature"!==r.type||!r.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!r.geometry||r.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+r.geometry.type)}},e.getGeom=function(t){return"Feature"===t.type?t.geometry:t},e.getType=function(t,e){return"FeatureCollection"===t.type?"FeatureCollection":"GeometryCollection"===t.type?"GeometryCollection":"Feature"===t.type&&null!==t.geometry?t.geometry.type:t.type}},AUoQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t[t.Show=0]="Show",t[t.Hide=1]="Hide",t[t.Ready=2]="Ready",t[t.Error=3]="Error",t[t.Close=4]="Close",t}({})},AbGV:function(t,e,n){"use strict";e.Service=n("gH6v")},AdPF:function(t,e,n){var i=n("yeub");t.exports=function(t){var e=t.xdomain,n=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||i))return new XMLHttpRequest}catch(r){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(r){}if(!e)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(r){}}},Ae0E:function(t,e,n){"use strict";n.r(e),n.d(e,"info",function(){return r}),n.d(e,"url",function(){return o});var i=n("y7Uy");n.d(e,"json",function(){return i});const o="marker@2x",r={width:786,height:698,pixelRatio:2}},ApIJ:function(t,e,n){"use strict";var i=n("+sev");n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return i.b}),n.d(e,"c",function(){return i.c}),n.d(e,"d",function(){return i.d}),n.d(e,"f",function(){return i.e}),n.d(e,"g",function(){return i.f}),n.d(e,"h",function(){return i.h});var o=n("5ZZG");n.d(e,"e",function(){return o.a})},Aplp:function(t,e,n){"use strict";var i,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),r={},a=0,s=0;function c(t){var e="";do{e=o[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function l(){var t=c(+new Date);return t!==i?(a=0,i=t):t+"."+c(a++)}for(;s<64;s++)r[o[s]]=s;l.encode=c,l.decode=function(t){var e=0;for(s=0;s<t.length;s++)e=64*e+r[t.charAt(s)];return e},t.exports=l},Asbw:function(t,e,n){"use strict";n.d(e,"a",function(){return i.a});var i=n("gBTm")},BE5q:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("2Vo4"),o=n("FQSa"),r=n("CJka"),a=n("/RaO"),s=n("fXoL");let c=(()=>{class t{constructor(t){this.uaParser=t,this.isAnimate=!1,this._layoutMorphing=new i.a(!1),this._layoutBehavior=new i.a(o.d.Normal),this._isAnimate=!1}set layoutWidth(t){this._layoutWidth=t}get layoutWidth(){return this._layoutWidth}set layoutHeight(t){this._layoutHeight=t}get layoutHeight(){return this._layoutHeight}get layout(){return this.layoutBehavior.getValue()}get layoutMorphing(){return this._layoutMorphing}get layoutBehavior(){return this._layoutBehavior}setLayout(t){this.layoutBehavior.getValue()===t||this.layoutMorphing.getValue()||(this.setDefaultLayoutWidth(t),this.layoutBehavior.next(t),this.layoutMorphing.next(!0))}setDefaultLayoutWidth(t){switch(t){case o.d.Float:case o.d.Split:this.layoutWidth=a.oc;break;case o.d.Normal:default:this.layoutWidth=null}}}return t.\u0275fac=function(e){return new(e||t)(s.ic(r.a))},t.\u0275prov=s.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},BEY9:function(t,e,n){"use strict";t.exports=function(t,e,n){var i=n||8192,o=i>>>1,r=null,a=i;return function(n){if(n<1||n>o)return t(n);a+n>i&&(r=t(i),a=0);var s=e.call(r,a,a+=n);return 7&a&&(a=1+(7|a)),s}}},BYWt:function(t,e,n){"use strict";n.d(e,"a",function(){return _});var i=n("VRyK"),o=n("PzNd"),r=n("/rf6"),a=n("AKIq"),s=n("sk2A"),c=n.n(s),l=n("qhoL"),u=n.n(l),p=n("zP0r"),h=n("gcYM"),d=n("CJka"),g=n("BE5q"),f=n("XrBI");class b{constructor(t){this._ne=t.ne,this._sw=t.sw}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return{lng:this.getWest(),lat:this.getNorth()}}getSouthEast(){return{lng:this.getEast(),lat:this.getSouth()}}getBounds(){return{ne:Object.assign({},this._ne),sw:Object.assign({},this._sw)}}}var m=n("fXoL");let _=(()=>{class t{constructor(t,e,n){this.maps=t,this.mapsLayout=e,this.uaParser=n,this.avatarPosition={lng:0,lat:0},this.subs=[]}init(t){this.service=t}activate(){this.uaParser.isTablet||this.service&&[Object(i.a)(this.maps.events.moveEnd,this.maps.events.zoomEnd,this.service.events.panoramaChanged,this.mapsLayout.layoutBehavior.pipe(Object(p.a)(1))).pipe(Object(h.a)(20)).subscribe(()=>{this.checkBoundary()})].forEach(t=>this.subs.push(t))}deactivate(){this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[]}setAvatarPosition(t){this.avatarPosition=t,this.checkBoundary()}getAvatarPosition(){return this.avatarPosition}checkBoundary(){if(!this.maps.ready)return;const t=this.avatarPosition;if(this.maps.isInboundMap(t))this.emit(o.c.ShownOnMap);else{const e=this.maps.getBounds(),n=new b(e),i=this.maps.getCenter(),s=[i.lng,i.lat],l=n.getNorthWest(),p=n.getNorthEast(),h=n.getSouthWest(),d=n.getSouthEast(),g=Object(r.lineString)([s,[t.lng,t.lat]]),f=Object(r.lineString)([[l.lng,l.lat],[p.lng,p.lat]]),m=Object(r.lineString)([[p.lng,p.lat],[d.lng,d.lat]]),_=Object(r.lineString)([[h.lng,h.lat],[d.lng,d.lat]]),y=Object(r.lineString)([[l.lng,l.lat],[h.lng,h.lat]]),O=c()(g,f),v=c()(g,m),C=c()(g,_),P=c()(g,y);let M=[],x="north";if(O.features.length>0)x="north",M=Object(a.getCoord)(O.features[0]);else if(v.features.length>0)x="east",M=Object(a.getCoord)(v.features[0]);else if(C.features.length>0)x="south",M=Object(a.getCoord)(C.features[0]);else{if(!(P.features.length>0))return;x="west",M=Object(a.getCoord)(P.features[0])}const w=Object(r.bearingToAzimuth)(u()(Object(r.point)(s),Object(r.point)([t.lng,t.lat])));this.emit(o.c.Disappeared,{intersectDirection:x,intersectPoint:this.maps.project({lng:M[0],lat:M[1]}),angle:Object(r.round)(w,2),avatarPosition:t,avatarPoint:this.maps.project(t)})}}emit(t,e=null){this.service.events.panoramaOffscreenAvatarChanged.emit({type:t,data:e})}}return t.\u0275fac=function(e){return new(e||t)(m.ic(f.a),m.ic(g.a),m.ic(d.a))},t.\u0275prov=m.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Bafg:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("rS+x"),o=n("Q6WB"),r=n("kfOz"),a=n("FQSa"),s=n("fXoL");let c=(()=>{class t{mapsPoiToDirectionsPoi(t){return{lng:t.coordinates&&t.coordinates.lng||0,lat:t.coordinates&&t.coordinates.lat||0,name:t.name,id:t.id,type:t.type}}directionsPoiToMapsPoi(t){return{name:t.name,type:t.type,id:t.id,coordinates:{lng:t.lng,lat:t.lat}}}bookmarkToDirectionsPoi(t){const e=(t.sid||t.stationId||"").toString();let n=i.C.SimplePoi;switch(t.type){case r.e.Address:n=i.C.AddressPoi;break;case r.e.Place:n=i.C.PlacePoi;break;case r.e.BusStop:n=i.C.BusStop;break;case r.e.Subway:n=i.C.SubwayStation}return{lng:t.px,lat:t.py,name:t.name,id:e,type:n}}SearchHistoryToMapsPoi(t){return t?{id:t.id,type:t.type,name:t.name||t.address||[t.longitude,t.latitude].join(","),address:t.address,coordinates:{lng:parseFloat(""+t.longitude),lat:parseFloat(""+t.latitude)}}:null}geoJsonFeatureToMapsPoi(t,e){const n={coordinates:{lng:t.lng,lat:t.lat}};if(!e||!e.properties)return n;if(e.properties.name_full&&(n.name=e.properties.name_full),e.properties.type){const t=this.getLngLatByFeature(e),o=this.getIdByFeature(e),r=this.getMidByFeature(e),s=this.getStationNameByFeature(e)||n.name;switch(e.properties.type){case a.f.BusStopLane:case a.f.BusStation:case a.f.BusStop:n.coordinates=t||n.coordinates,n.id=o,n.mid=r,n.name=s,n.type=i.C.BusStop;break;case a.f.Station:case a.f.SubwayStation:case a.f.SubwayStationTransfer:n.coordinates=t||n.coordinates,n.id=o,n.mid=r,n.name=s,n.type=i.C.SubwayStation;break;case a.f.Place:n.coordinates=t||n.coordinates,n.id=o,n.mid=r,n.type=i.C.PlacePoi;break;default:n.id=null,n.mid=null,n.name=null,n.type=null}}return n}fromMapsPoiToString(t){return t?t.name?t.name:t.address?t.address:`${t.coordinates.lng},${t.coordinates.lat}`:""}getCarSubOption(t){if(!t||!t.subOptions)return null;const e=t.subOptions.toString(2).split("").map(t=>parseInt(t,10)).reverse();return e[1]?o.b.Free:e[2]?o.b.AvoidCarOnly:null}getLngLatByFeature(t){return t&&t.geometry&&t.geometry.coordinates&&2===t.geometry.coordinates.length?{lng:parseFloat(t.geometry.coordinates[0]),lat:parseFloat(t.geometry.coordinates[1])}:null}getIdByFeature(t){return t&&t.properties&&t.properties.id?parseInt(t.properties.id,10):null}getMidByFeature(t){return t&&t.properties&&t.properties.mid?parseInt(t.properties.mid,10):null}getStationNameByFeature(t){return t&&t.properties&&t.properties.station_name?t.properties.station_name:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Bf4L:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("/RaO"),o=n("CJka"),r=n("fXoL");let a=(()=>{class t{constructor(t){this.uaParser=t}transform(t,e="png"){const n=this.uaParser.retina?"@2x":"",[o,r]=t.split(":");return 0===t.indexOf("https://")?`${t}${n}.${e}`:0===t.indexOf("nres://category")?`${t.replace("nres://category",i.t)}${n}.${e}`:0===t.indexOf("http://dev.res.map.naver.com/category")?`${t.replace("http://dev.res.map.naver.com/category","/v5/api/res/category")}${n}.${e}`:o&&r?`/v5/assets/img/${o}/${r}${n}.${e}`:(console.warn("Incorrect image information."),"")}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o.a))},t.\u0275pipe=r.Xb({name:"imageAutoRatio",type:t,pure:!0}),t.\u0275prov=r.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"Bko/":function(t,e,n){"use strict";t.exports={}},C2QD:function(t,e){function n(t){this.ms=(t=t||{}).min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},C758:function(t,e,n){"use strict";n.d(e,"a",function(){return A});var i=n("fXoL"),o=n("LRne"),r=n("rS+x"),a=n("7Gr3"),s=n("/RaO"),c=n("/rf6"),l=n("bLT3"),u=n.n(l),p=n("UWCo"),h=n.n(p),d=n("pLZG"),g=n("wO+i"),f=n("coGc"),b=n("lJxs"),m=n("JIr8"),_=n("qkFu"),y=n("+sev"),O=n("JplU"),v=n("JGFM"),C=n("z6kb"),P=n("MoEl"),M=n("ApIJ"),x=n("Q63R"),w=n("joil"),k=n("iTV6"),S=n("XrBI"),E=n("FQSa"),I=n("RZZ2"),R=n.n(I),T=n("sYmb");let A=(()=>{class t{constructor(t,e,n,o,r,a,c,l,u){this.maps=t,this.status=e,this.shortCut=n,this.route=o,this.api=r,this.msg=a,this.translate=c,this.nClickService=l,this.logService=u,this._isIndoorShown=!1,this._currentBuildingId="",this._currentBuildingFloor="",this._currentMinZoom=s.yb,this._currentFloorList=[],this._change=new i.q,this.subs=[],this.route.events.pipe(Object(d.a)(()=>this.isIndoorShown),Object(g.a)("data"),Object(d.a)(t=>"subway"===t.module)).subscribe(()=>{this.hideBuilding()})}get change(){return this._change}get isIndoorShown(){return this._isIndoorShown}get currentBuildingId(){return this._currentBuildingId}get currentBuildingFloor(){return this._currentBuildingFloor}get currentMinZoom(){return this._currentMinZoom}get currentFloorList(){return this._currentFloorList}activateIndoor(t,e){if(t&&t.properties.type===E.f.IndoorMaster){if(!t.properties.id||!t.properties.szorder||!t.properties.floors)return this.msg.openThroughTranslation("INDOOR.ERROR.DATA"),void this.logService.log(w.b.Indoor,"LocationInfoService","activateIndoor",t.properties,this.translate.instant("INDOOR.ERROR.DATA"));try{const n=t.properties.id.substr(0,17);this.getIndoorInfo(n).subscribe(n=>{this.showBuilding(t.properties.id,t.properties.szorder,JSON.parse(t.properties.floors),void 0!==n.rlevel?n.rlevel:s.yb,t.bbox,e)})}catch(n){return this.msg.openThroughTranslation("INDOOR.ERROR.PARSE"),void this.logService.log(w.b.Indoor,"LocationInfoService","activateIndoor",t.properties,this.translate.instant("INDOOR.ERROR.PARSE"))}}}showBuilding(t,e,n,i,o,r){this._currentBuildingId===t&&this._currentBuildingFloor===e||this.isConnectedBuilding(t)||"satellite"===this.maps.currentMapType||(this._currentBuildingId=t,this._currentBuildingFloor=e,this._currentMinZoom=i,this._currentFloorList=n,this._currentMinZoom<s.yb&&(this._currentMinZoom=s.yb),r&&(this.maps.getZoom()<this._currentMinZoom||!this.maps.isInboundScreen(r))&&this.maps.moveTo({center:r,zoom:this._currentMinZoom}),this.isIndoorShown||(this.status.suspendMapsClick(C.d.Indoor),this.waitEscForExit(),this.waitForMapsZoomOut(),this.waitForLandParcel(),o&&this.waitForBboxOut(o),this.suspendEsc(),this._isIndoorShown=!0,this.nClickService.nClick(this.maps.mapElement,v.a.INDOOR_INDOORMAP_ACTIVATE)),this.maps.showIndoor(t,e),this.emit(a.a.Activate,{currentFloor:e,floorList:n}))}isOnIndoor({lng:t,lat:e}){return!!this.isIndoorShown&&R()(Object(c.point)([t,e]),this.indoorPolygon)}showBuildingWithoutFloorList(t,e,n,i,o){const r=t.substr(0,17);this._currentBuildingId===r&&this._currentBuildingFloor===e||"satellite"!==this.maps.currentMapType&&this.getIndoorInfo(r).subscribe(t=>{this.isIndoorShown||this.waitForPolygonOut(this.indoorPolygon);const a=void 0!==t.rlevel?t.rlevel:s.yb,c=n?a:a+1;this.showBuilding(r,e||t.rzorder,t.floors,a),(this.maps.getZoom()<c||!this.maps.isInboundScreen({lng:i,lat:o}))&&this.maps.moveTo({zoom:c,center:{lng:i,lat:o}})})}hideBuilding(){this.isIndoorShown&&(this.indoorPolygon=null,this._isIndoorShown=!1,this._currentBuildingId="",this._currentBuildingFloor="",this._currentMinZoom=s.yb,this._currentFloorList=[],this.status.resumeMapsClick(C.d.Indoor),this.maps.hideIndoor(),this.resumeEsc(),this.emit(a.a.Deactivate),this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[],this.nClickService.nClick(this.maps.mapElement,v.a.INDOOR_INDOORMAP_DEACTIVATE))}changeFloor(t){this.getIndoorInfoWithFloor(this._currentBuildingId,t).subscribe(()=>{this._currentBuildingFloor=t,this.maps.changeIndoorFloor(this._currentBuildingId,t)})}getIndoorFeature({lng:t,lat:e}){const n=this.maps.queryRenderedFeatures({x:t,y:e},{layers:[E.c.IndoorMaster]}).shift();return n&&n.properties&&n.properties.id?n:null}isOnIndoorFeature(t){return!!this.isIndoorShown&&!!this.getIndoorFeature(t)&&!!this.getBuildingIdOnIndoorFeature(t)}getBuildingIdOnIndoorFeature(t){const e=this.getIndoorFeature(t);if(!e)return null;const n=e.properties.id;if(n===this.currentBuildingId)return this.currentBuildingId;let i=null;return this.currentFloorList.some(t=>t.z===this.currentBuildingFloor&&t.c&&t.c.some(t=>t.b===n&&(i=t.b,!0))),i}waitForMapsZoomOut(){this.subs.push(this.maps.events.orgZoomEnd.pipe(Object(d.a)(()=>this.maps.getZoom()<this._currentMinZoom)).subscribe(()=>{this.hideBuilding()}))}waitEscForExit(){this.subs.push(this.shortCut.keydown.pipe(Object(d.a)(t=>t.type===r.r.Escape)).subscribe(t=>{t.data.e.preventDefault(),this.hideBuilding()}))}waitForBboxOut(t){const e=h()(t);this.waitForPolygonOut(e)}waitForPolygonOut(t){this.subs.push(this.maps.events.orgMoveEnd.pipe(Object(d.a)(()=>!this.status.isPanoramaViewerMode)).subscribe(()=>{const{sw:e,ne:n}=this.maps.getVisibleBounds(),i=h()([e.lng,e.lat,n.lng,n.lat]);u()(t,i)||this.hideBuilding()}))}waitForLandParcel(){this.subs.push(this.route.events.pipe(Object(g.a)("data"),Object(g.a)("coordinates"),Object(d.a)(t=>!!t),Object(g.a)("mapLayers"),Object(d.a)(t=>t.indexOf(y.f.LandParcel)>=0)).subscribe(()=>{this.hideBuilding()}))}isConnectedBuilding(t){const e=this.currentFloorList;if(!this.currentBuildingFloor)return!1;if(!e)return!1;const n=e.filter(t=>t.z===this.currentBuildingFloor&&Array.isArray(t.c)&&t.c.length>0)[0];return!!n&&n.c.some(e=>e.b===t)}suspendEsc(){this.status.suspendEsc(C.a.Indoor)}resumeEsc(){this.status.resumeEsc(C.a.Indoor)}emit(t,e){this.change.emit({type:t,data:e})}isSameIndoor({id:t,szorder:e}={}){return this.currentBuildingId===t&&this.currentBuildingFloor===e}getIndoorInfo(t){return this.api.getIndoorInfo(t).pipe(Object(f.a)(t=>{const{build:e,rzorder:n}=t;return this.getIndoorInfoWithFloor(e,n)}))}getIndoorInfoWithFloor(t,e){return this.api.getIndoorFloorInfo(t,e).pipe(Object(b.a)(n=>{const i=n.features.filter(t=>"indoor_bg_gnd_a"===t.properties.layer).reduce((t,e)=>(t.push(...e.geometry.coordinates),t),[]);return this.indoorPolygon=Object(c.multiPolygon)(i,{id:t,zorder:e}),this.indoorPolygon}),Object(m.a)(()=>(this.indoorPolygon=null,Object(o.a)(this.indoorPolygon))))}}return t.\u0275fac=function(e){return new(e||t)(i.ic(S.a),i.ic(C.e),i.ic(P.a),i.ic(M.e),i.ic(x.a),i.ic(_.b),i.ic(T.d),i.ic(O.a),i.ic(k.a))},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},CIKq:function(t,e,n){var i,o,r=n("Gbct"),a=n("Wm4p"),s=n("TypT"),c=n("Yvos"),l=n("Aplp"),u=n("x7D4")("engine.io-client:websocket");if("undefined"!=typeof WebSocket)i=WebSocket;else if("undefined"!=typeof self)i=self.WebSocket||self.MozWebSocket;else try{o=n(4)}catch(d){}var p=i||o;function h(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=i&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(p=o),r.call(this,t)}t.exports=h,c(h,r),h.prototype.name="websocket",h.prototype.supportsBinary=!0,h.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new p(t,e):new p(t):new p(t,e,n)}catch(i){return this.emit("error",i)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},h.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},h.prototype.write=function(t){var e=this;this.writable=!1;for(var n=t.length,i=0,o=n;i<o;i++)!function(t){a.encodePacket(t,e.supportsBinary,function(i){if(!e.usingBrowserWebSocket){var o={};t.options&&(o.compress=t.options.compress),e.perMessageDeflate&&("string"==typeof i?Buffer.byteLength(i):i.length)<e.perMessageDeflate.threshold&&(o.compress=!1)}try{e.usingBrowserWebSocket?e.ws.send(i):e.ws.send(i,o)}catch(d){u("websocket closed before onclose event")}--n||(e.emit("flush"),setTimeout(function(){e.writable=!0,e.emit("drain")},0))})}(t[i])},h.prototype.onClose=function(){r.prototype.onClose.call(this)},h.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},h.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=l()),this.supportsBinary||(t.b64=1),(t=s.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},h.prototype.check=function(){return!(!p||"__initialize"in p&&this.name===h.prototype.name)}},CS8N:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("sYmb"),o=n("ofXK"),r=n("ktvW"),a=n("fXoL");let s=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Wb({type:t}),t.\u0275inj=a.Vb({imports:[[o.c,r.a,i.b]]}),t})()},CUJY:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("ofXK"),o=n("sYmb"),r=n("+1c1"),a=n("ktvW"),s=n("pCwN"),c=n("fXoL");let l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Wb({type:t}),t.\u0275inj=c.Vb({imports:[[i.c,a.a,r.a,o.b,s.a]]}),t})()},CUme:function(t,e,n){var i=n("Gbct"),o=n("TypT"),r=n("Wm4p"),a=n("Yvos"),s=n("Aplp"),c=n("x7D4")("engine.io-client:polling");t.exports=u;var l=null!=new(n("AdPF"))({xdomain:!1}).responseType;function u(t){l&&!(t&&t.forceBase64)||(this.supportsBinary=!1),i.call(this,t)}a(u,i),u.prototype.name="polling",u.prototype.doOpen=function(){this.poll()},u.prototype.pause=function(t){var e=this;function n(){c("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(c("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){c("pre-pause polling complete"),--i||n()})),this.writable||(c("we are currently writing - waiting to pause"),i++,this.once("drain",function(){c("pre-pause writing complete"),--i||n()}))}else n()},u.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},u.prototype.onData=function(t){var e=this;c("polling got data %s",t),r.decodePayload(t,this.socket.binaryType,function(t,n,i){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},u.prototype.doClose=function(){var t=this;function e(){c("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},u.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};r.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},u.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=s()),this.supportsBinary||t.sid||(t.b64=1),t=o.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},Cl5A:function(t,e,n){var i=n("CUme"),o=n("Yvos");t.exports=u;var r,a=/\n/g,s=/\\n/g;function c(){}function l(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}}function u(t){if(i.call(this,t),this.query=this.query||{},!r){var e=l();r=e.___eio=e.___eio||[]}this.index=r.length;var n=this;r.push(function(t){n.onData(t)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){n.script&&(n.script.onerror=c)},!1)}o(u,i),u.prototype.supportsBinary=!1,u.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},u.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},u.prototype.doWrite=function(t,e){var n=this;if(!this.form){var i,o=document.createElement("form"),r=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=c,o.method="POST",o.setAttribute("accept-charset","utf-8"),r.name="d",o.appendChild(r),document.body.appendChild(o),this.form=o,this.area=r}function l(){u(),e()}function u(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{i=document.createElement('<iframe src="javascript:0" name="'+n.iframeId+'">')}catch(t){(i=document.createElement("iframe")).name=n.iframeId,i.src="javascript:0"}i.id=n.iframeId,n.form.appendChild(i),n.iframe=i}this.form.action=this.uri(),u(),t=t.replace(s,"\\\n"),this.area.value=t.replace(a,"\\n");try{this.form.submit()}catch(p){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&l()}:this.iframe.onload=l}},Cnys:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fXoL");let o=(()=>{class t{transform(t,e){return null==t?void 0:t.find(t=>{let n=!0;for(const i in e)if(t[i]!==e[i]){n=!1;break}return n})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Xb({name:"findBookmarkByIds",type:t,pure:!0}),t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},CqXF:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("7o/Q");function o(t){return e=>e.lift(new r(t))}class r{constructor(t){this.value=t}call(t,e){return e.subscribe(new a(t,this.value))}}class a extends i.a{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}},CxMe:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("JplU"),o=n("iTV6"),r=n("fXoL");let a=(()=>{class t{constructor(t,e,n){this.el=t,this.logService=e,this.nClickService=n,this.nClickEvents=["click"],this.onEvents=[]}ngOnInit(){this.nClickEvents.length&&(this.onEvents=this.nClickEvents,this.onEventListener=this.eventListener.bind(this),this.onEvents.forEach(t=>{this.el.nativeElement.addEventListener(t,this.onEventListener,!0)}))}ngOnDestroy(){this.onEvents.forEach(t=>{this.el.nativeElement.removeEventListener(t,this.onEventListener)})}eventListener(){this.nClick&&this.nClickService.nClick(this.el.nativeElement,this.nClick,this.nClickOption)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.o),r.Yb(o.a),r.Yb(i.a))},t.\u0275dir=r.Tb({type:t,selectors:[["","nClick",""]],inputs:{nClick:"nClick",nClickOption:"nClickOption",nClickEvents:"nClickEvents"}}),t})()},DIMq:function(t,e,n){"use strict";t.exports=p;var i,o=n("6Tgl"),r=o.LongBits,a=o.base64,s=o.utf8;function c(t,e,n){this.fn=t,this.len=e,this.next=void 0,this.val=n}function l(){}function u(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function p(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}var h=function(){return o.Buffer?function(){return(p.create=function(){return new i})()}:function(){return new p}};function d(t,e,n){e[n]=255&t}function g(t,e){this.len=t,this.next=void 0,this.val=e}function f(t,e,n){for(;t.hi;)e[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[n++]=127&t.lo|128,t.lo=t.lo>>>7;e[n++]=t.lo}function b(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}p.create=h(),p.alloc=function(t){return new o.Array(t)},o.Array!==Array&&(p.alloc=o.pool(p.alloc,o.Array.prototype.subarray)),p.prototype._push=function(t,e,n){return this.tail=this.tail.next=new c(t,e,n),this.len+=e,this},(g.prototype=Object.create(c.prototype)).fn=function(t,e,n){for(;t>127;)e[n++]=127&t|128,t>>>=7;e[n]=t},p.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new g((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},p.prototype.int32=function(t){return t<0?this._push(f,10,r.fromNumber(t)):this.uint32(t)},p.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},p.prototype.int64=p.prototype.uint64=function(t){var e=r.from(t);return this._push(f,e.length(),e)},p.prototype.sint64=function(t){var e=r.from(t).zzEncode();return this._push(f,e.length(),e)},p.prototype.bool=function(t){return this._push(d,1,t?1:0)},p.prototype.sfixed32=p.prototype.fixed32=function(t){return this._push(b,4,t>>>0)},p.prototype.sfixed64=p.prototype.fixed64=function(t){var e=r.from(t);return this._push(b,4,e.lo)._push(b,4,e.hi)},p.prototype.float=function(t){return this._push(o.float.writeFloatLE,4,t)},p.prototype.double=function(t){return this._push(o.float.writeDoubleLE,8,t)};var m=o.Array.prototype.set?function(t,e,n){e.set(t,n)}:function(t,e,n){for(var i=0;i<t.length;++i)e[n+i]=t[i]};p.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(d,1,0);if(o.isString(t)){var n=p.alloc(e=a.length(t));a.decode(t,n,0),t=n}return this.uint32(e)._push(m,e,t)},p.prototype.string=function(t){var e=s.length(t);return e?this.uint32(e)._push(s.write,e,t):this._push(d,1,0)},p.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(l,0,0),this.len=0,this},p.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},p.prototype.ldelim=function(){var t=this.head,e=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=e,this.len+=n),this},p.prototype.finish=function(){for(var t=this.head.next,e=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,e,n),n+=t.len,t=t.next;return e},p._configure=function(t){i=t,p.create=h(),i._configure()}},ENmB:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var i=function(t){return t.Clone="clone",t.Move="move",t}({}),o=function(t){return t.Show="show",t.Hide="hide",t}({})},ERKp:function(t,e,n){"use strict";var i=n("Pa3S");n.o(i,"TrafficEventSet")&&n.d(e,"TrafficEventSet",function(){return i.TrafficEventSet})},Em1E:function(t,e,n){"use strict";n.d(e,"a",function(){return M});var i=n("1RhC"),o=n("LMyR"),r=n("/RaO"),a=n("jtHE"),s=n("LRne"),c=n("HDdC"),l=n("vkgz"),u=n("eIep"),p=n("SxV6"),h=n("lJxs"),d=n("JIr8"),g=n("Q63R"),f=n("+sev"),b=n("CJka"),m=n("tF80"),_=n("WvzF"),y=n("qKIp"),O=n("iTV6"),v=n("joil"),C=n("fXoL"),P=n("tyNb");let M=(()=>{class t{constructor(t,e,n,i,o,r,s,c){this.apiService=t,this.envService=e,this.logService=n,this.memberService=i,this.uaParser=o,this.router=r,this.storage=s,this.zone=c,this.$init=new a.a(1),this.isRunning=!1}initMap(){return this.isRunning?this.afterInit():(this.isRunning=!0,this.getCoordinatesInfo().pipe(Object(l.a)(t=>this.sendNeloIfEqualDefaultCenter(t)),Object(u.a)(t=>this.loadMap(t)),Object(l.a)(t=>{this.removePreviewElement(),this.$init.next({maps:t,element:this.mapElement})}),Object(p.a)()))}afterInit(){return this.$init}getCoordinatesInfo(){const t=this.parseParam();return this.getCoordinates(t).pipe(Object(u.a)(t=>t&&t.lng&&t.lat?Object(s.a)(t):this.getCoordinatesByIp().pipe(Object(h.a)(e=>Object.assign(Object.assign({},t),e)))),Object(h.a)(e=>{var n;const i=e&&e.lng&&e.lat?[e.lng,e.lat]:[r.Sb.LNG,r.Sb.LAT],o=e&&e.zoom?e.zoom:r.Sb.ZOOM,a=e&&e.tilt?e.tilt:r.Sb.TILT,s=e&&e.rotate?e.rotate:r.Sb.ROTATE,c=f.i.get(e&&Array.isArray(e.mapTypes)?e.mapTypes[0]:this.getMapTypeByStorage()),l=(null===(n=null==e?void 0:e.mapLayers)||void 0===n?void 0:n.length)>0?[...r.Rb,...e.mapLayers]:[...r.Rb],u=Array.from(new Set(l)).map(t=>f.g.get(t)),p=this.envService.isDevLike()||"true"===t.worldMap?null:r.Sb.MAX_BOUNDS;return{center:i,zoom:o,tilt:a,rotate:s,mapType:c,mapLayers:u,minZoom:r.Sb.MIN_ZOOM,maxZoom:r.Sb.MAX_ZOOM,maxBounds:p}}))}getMapOptions(t){this.mapElement=document.querySelector("#baseMap");const{center:e,zoom:n,tilt:i,rotate:o,mapType:a,minZoom:s,maxZoom:c,maxBounds:l}=t,u=this.getEnvMap(),p={gl:r.Ob,env:u,background:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5NDZmMTM0My05NGZkLTRlMzktOThjZS0wZmUyMTNkN2RhZTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MkU3Qzg4RkE1MUZEMTFFOUE5RjlEMkFBNjlFM0RGNkYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkU3Qzg4Rjk1MUZEMTFFOUE5RjlEMkFBNjlFM0RGNkYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgTWFjaW50b3NoIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTQ2ZjEzNDMtOTRmZC00ZTM5LTk4Y2UtMGZlMjEzZDdkYWU4IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk0NmYxMzQzLTk0ZmQtNGUzOS05OGNlLTBmZTIxM2Q3ZGFlOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pmsmp7UAAAAzSURBVHjaYvz25R0D0eDXr99MDKSAL18+k6aBh4d31IZRG6hmAzDFvnv3jkgSaANAgAEA3PlIwE1zCY4AAAAASUVORK5CYII=",center:e,zoom:n,tilt:i,rotation:o,mapTypeId:a,minZoom:s,maxZoom:c,tileTransition:!0,tileDuration:this.uaParser.isIe11?600:300,scaleControl:!1,disableKineticPan:this.uaParser.isIe11,mapDataControl:!1,keyboardShortcuts:!0,mapAttributionControl:!0,mapAttributionControlOptions:{position:naver.maps.Position.RIGHT_BOTTOM}};return l&&(p.maxBounds=l),p}loadMap(t){const e=this.getMapOptions(t),n=new naver.maps.Map(this.mapElement,e);return new c.a(t=>{n.addListenerOnce("tilesloaded",()=>{t.next(n),t.complete()})})}getEnvMap(){return this.envService.isDev()?o.a.Dev:this.envService.isLod()?o.a.Lod:this.envService.isTest()?o.a.Stg:o.a.Real}getCoordinates(t){const{lng:e,lat:n,zoom:i,type:o,title:r,mid:a,cctvId:s,summaryCard:c}=t;if(s)return this.parseCoordinatesByCctvId(s).pipe(Object(d.a)(()=>this.parseCoordinates(t.c)));if(!(e&&n&&r||a||c))return this.parseCoordinates(t.c);const l=location.pathname.split("/").filter(t=>t);return!Array.isArray(l)||l.length>1?this.parseCoordinates(t.c):a?this.parseCoordinatesByMid(a).pipe(Object(d.a)(()=>this.parseCoordinates(t.c))):c?this.parseCoordinatesBySummaryCard(c).pipe(Object(d.a)(()=>this.parseCoordinates(t.c))):this.parseCoordinatesByCustomPin(e,n,i,o,r)}parseParam(){return location.search.substring(1).split("&").reduce((t,e)=>{const[n,i]=e.split("=");return t[`${n}`]=i,t},{})}parseCoordinates(t){if(!t)return Object(s.a)({});let e=[],n=[];const i=t.split(",").map((t,i)=>5===i?(e=t.split(""),e):6===i?(n=t.split(""),n):parseFloat(t));if(6!==i.length&&7!==i.length)return Object(s.a)({});const{lng:o,lat:r}=Object(_.c)({lng:i[0],lat:i[1]});return Object(s.a)({mapTypes:e,mapLayers:n,lng:o,lat:r,zoom:i[2],tilt:i[3],rotate:i[4]})}parseCoordinatesByCctvId(t){return this.apiService.getCctvList(t).pipe(Object(h.a)(e=>{if(!(e&&e.message&&e.message.result&&Array.isArray(e.message.result.cctvList)))throw new Error;const n=e.message.result.cctvList.find(e=>e.channel===parseInt(t,10));if(!n)throw new Error;const i={mapTypes:[f.h.Basic],mapLayers:[f.f.Cctv],lng:n.x,lat:n.y,zoom:r.Sb.ZOOM,tilt:r.Sb.TILT,rotate:r.Sb.ROTATE};return this.router.navigate(["/"],{queryParams:{c:this.parseCoordinatesToCoordinatesText(i),cctvId:t},replaceUrl:!0}),i}))}parseCoordinatesByMid(t){return this.apiService.getMashUp(t).pipe(Object(h.a)(({x:t,y:e,title:n})=>{if(!t||!e)throw new Error;const i={mapTypes:[f.h.Basic],mapLayers:[],lng:t,lat:e,zoom:r.Sb.ZOOM,tilt:r.Sb.TILT,rotate:r.Sb.ROTATE};return this.router.navigate(["/"],{queryParams:{c:this.parseCoordinatesToCoordinatesText(i),lng:t,lat:e,title:decodeURIComponent(n)},replaceUrl:!0}),i}))}parseCoordinatesByCustomPin(t,e,n,i=f.h.Basic,o){t=isNaN(t)?r.Sb.LNG:parseFloat(t),e=isNaN(e)?r.Sb.LAT:parseFloat(e),n=isNaN(n)?r.Sb.ZOOM:parseInt(n,10);const a={mapTypes:[i],mapLayers:r.Rb,lng:t,lat:e,zoom:n,tilt:r.Sb.TILT,rotate:r.Sb.ROTATE};return this.router.navigate(["/"],{queryParams:{c:this.parseCoordinatesToCoordinatesText(a),lng:t,lat:e,type:i,title:decodeURIComponent(o)},replaceUrl:!0}),Object(s.a)(a)}parseCoordinatesToCoordinatesText(t){const{lng:e,lat:n}=Object(_.d)({lng:t.lng,lat:t.lat});let i=`${e.toFixed(7)},${n.toFixed(7)},${t.zoom},${t.tilt},${t.tilt},${t.mapTypes.join("")}`;return t.mapLayers.length>0&&(i+=`,${t.mapLayers.join("")}`),i}removePreviewElement(){const t=document.getElementById(r.Dc);t&&document.body.removeChild(t)}getMapTypeByStorage(){return this.storage.get(r.Vb)||f.h.Basic}getCoordinatesByIp(){return this.apiService.getCoordinates().pipe(Object(h.a)(t=>this.calcCenterWithoutPanel(t)))}parseCoordinatesBySummaryCard(t){const[e,n]=decodeURIComponent(t).split("|"),i=Object(_.c)({lng:parseFloat(e),lat:parseFloat(n)}),{lng:o,lat:a}=this.calcCenterWithoutPanel(i),c={mapTypes:[this.getMapTypeByStorage()],mapLayers:r.Rb,lng:o||r.Sb.LNG,lat:a||r.Sb.LAT,zoom:r.Sb.ZOOM,tilt:r.Sb.TILT,rotate:r.Sb.ROTATE};return this.router.navigate(["/"],{queryParams:{c:this.parseCoordinatesToCoordinatesText(c),summaryCard:t},replaceUrl:!0}),Object(s.a)(c)}calcCenterWithoutPanel({lng:t,lat:e}){const n=naver.maps.EPSG3857,i=n.fromCoordToPoint(new naver.maps.LatLng(e,t));i.sub(.5*r.Wb/(256*Math.pow(2,r.Sb.ZOOM)),0);const o=n.fromPointToCoord(i);return{lng:o.lng(),lat:o.lat()}}sendNeloIfEqualDefaultCenter(t){const{center:e}=t;e&&r.Sb.LNG===e.lng&&r.Sb.LAT===e.lat&&this.logService.log(v.b.None,"MapsInitiatorService","-",t,"\ud604\uc7ac \uc704\uce58\uac00 \uae30\ubcf8\uac12\uc73c\ub85c \uc124\uc815\ub428",v.a.Warning)}}return t.\u0275fac=function(e){return new(e||t)(C.ic(g.a),C.ic(i.a),C.ic(O.a),C.ic(m.a),C.ic(b.a),C.ic(P.h),C.ic(y.a),C.ic(C.F))},t.\u0275prov=C.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},F3fk:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n("rS+x"),o=n("joil"),r=n("iTV6"),a=n("Pbce"),s=n("MHgl"),c=n("J9Ma"),l=n("fXoL"),u=n("l7P3");let p=(()=>{class t{constructor(t,e,n){this.historyService=t,this.store=e,this.logService=n}logging(){const{start:t,goal:e,via:n,mode:r}=Object(s.l)(this.store),c=this.getPathFindingHistoryTypeByDirectionsMode(r);if(!t||!e||!c)return;const l={type:c,waypoint:r!==i.d.Transit&&(n||[]).filter(t=>!!t).map(t=>({id:t.id,type:t.type,shortAddress:[],name:Object(a.B)(t.name),longitude:t.lng,latitude:t.lat}))||[],startName:Object(a.B)(t.name),startShortAddress:[],startLatitude:t.lat,startLongitude:t.lng,startId:t.id,startType:t.type,goalName:Object(a.B)(e.name),goalShortAddress:[],goalLatitude:e.lat,goalLongitude:e.lng,goalId:e.id,goalType:e.type};this.historyService.addPathFindingHistory(l).then(t=>{t||this.logService.log(o.b.Directions,"DirectionsLogService","logging",l,"Directions set path finding history validation error")})}getPathFindingHistoryTypeByDirectionsMode(t){switch(t){case i.d.Transit:return i.A.RouteTransit;case i.d.Car:return i.A.RouteCar;case i.d.Walk:return i.A.RouteWalk;case i.d.Bike:return i.A.RouteBike}return null}}return t.\u0275fac=function(e){return new(e||t)(l.ic(c.a),l.ic(u.h),l.ic(r.a))},t.\u0275prov=l.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},F9IH:function(t,e,n){"use strict";var i=n("OnNh");n.d(e,"a",function(){return i.a})},FMTW:function(t){t.exports=JSON.parse('{"panorama:avatar_0":{"width":120,"height":120,"pixelRatio":"2","x":0,"y":0},"panorama:avatar_1":{"width":120,"height":120,"pixelRatio":"2","x":0,"y":120},"panorama:avatar_2":{"width":120,"height":120,"pixelRatio":"2","x":0,"y":240},"panorama:avatar_3":{"width":120,"height":120,"pixelRatio":"2","x":0,"y":360},"panorama:avatar_4":{"width":120,"height":120,"pixelRatio":"2","x":0,"y":480},"panorama:avatar_5":{"width":120,"height":120,"pixelRatio":"2","x":0,"y":600},"panorama:avatar_6":{"width":120,"height":120,"pixelRatio":"2","x":0,"y":720},"panorama:avatar_7":{"width":120,"height":120,"pixelRatio":"2","x":0,"y":840},"panorama:avatar_8":{"width":120,"height":120,"pixelRatio":"2","x":0,"y":960},"panorama:avatar_9":{"width":120,"height":120,"pixelRatio":"2","x":0,"y":1080},"panorama:avatar_10":{"width":120,"height":120,"pixelRatio":"2","x":0,"y":1200},"panorama:avatar_11":{"width":120,"height":120,"pixelRatio":"2","x":0,"y":1320},"panorama:avatar_12":{"width":120,"height":120,"pixelRatio":"2","x":0,"y":1440},"panorama:avatar_13":{"width":120,"height":120,"pixelRatio":"2","x":0,"y":1560},"panorama:avatar_14":{"width":120,"height":120,"pixelRatio":"2","x":0,"y":1680},"panorama:avatar_15":{"width":120,"height":120,"pixelRatio":"2","x":0,"y":1800}}')},FQSa:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"d",function(){return o}),n.d(e,"f",function(){return r}),n.d(e,"c",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"e",function(){return c});var i=function(t){return t[t.Ready=0]="Ready",t[t.InstanceReady=1]="InstanceReady",t[t.Reload=2]="Reload",t[t.NotReady=3]="NotReady",t[t.StopCalled=4]="StopCalled",t}({}),o=function(t){return t.Normal="Normal",t.Float="Float",t.Split="Split",t}({}),r=function(t){return t.Place="place",t.Cctv="cctv",t.BusStop="busStop",t.BusStopLane="busStopLane",t.BusStation="busStation",t.Subway="subway",t.SubwayStation="subwayStation",t.SubwayStationTransfer="subwayStationTransfer",t.Station="station",t.IndoorMaster="indoorMaster",t.Address="address",t.Coordinate="coordinate",t}({}),a=function(t){return t.Panorama="PANORAMA",t.IndoorMaster="indoorMaster",t.IndoorGround="INDOOR_GROUND",t.IndoorPoi="INDOOR_POI",t.Cctv="CCTV",t}({}),s=function(t){return t.Default="default",t.Pointer="pointer",t.Progress="progress",t.None="none",t.Grap="grap",t.Grabbing="grabbing",t.MeasureDistanceWebkit="-webkit-image-set(url(/v5/assets/img/home/control-toolbox-distance_icon-cursor-distance.png) 1x,url(/v5/assets/img/home/control-toolbox-distance_icon-cursor-distance@2x.png) 2x),url(/v5/assets/cursor/rule.cur), default",t.MeasureDistance="url(/v5/assets/cursor/rule.cur), default",t.MeasureAreaWebkit="-webkit-image-set(url(/v5/assets/img/home/control-toolbox-distance_icon-cursor-area.png) 1x,url(/v5/assets/img/home/control-toolbox-distance_icon-cursor-area@2x.png) 2x),url(/v5/assets/cursor/rule.cur), default",t.MeasureArea="url(/v5/assets/cursor/rule.cur), default",t.MeasureRadiusWebkit="-webkit-image-set(url(/v5/assets/img/home/control-toolbox-distance_icon-cursor-radius.png) 1x,url(/v5/assets/img/home/control-toolbox-distance_icon-cursor-radius@2x.png) 2x),url(/v5/assets/cursor/rule.cur), default",t.MeasureRadius="url(/v5/assets/cursor/rule.cur), default",t}({}),c=function(t){return t.Focus="focus",t.Blur="blur",t}({})},G6Tw:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("M34a"),o=n("jIYg");function r(t,e){Object(o.a)(2,arguments);var n=Object(i.a)(t),r=Object(i.a)(e);return n.getTime()===r.getTime()}},Gbct:function(t,e,n){var i=n("Wm4p"),o=n("2xqC");function r(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.isReactNative=t.isReactNative,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t.exports=r,o(r.prototype),r.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},r.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(t){var e=i.decodePacket(t,this.socket.binaryType);this.onPacket(e)},r.prototype.onPacket=function(t){this.emit("packet",t)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},HOHK:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.Remove="Remove",t.Add="Add",t.Close="Close",t}({})},HRiQ:function(t,e,n){"use strict";n.d(e,"a",function(){return W});var i=n("2Vo4"),o=n("itXk"),r=n("LRne"),a=n("z6cu"),s=n("PzNd"),c=n("+JlU"),l=n("YZjB"),u=n("7f5W"),p=n("BYWt"),h=n("rS+x"),d=n("qkFu"),g=n("pLZG"),f=n("SxV6"),b=n("vkgz"),m=n("eIep"),_=n("lJxs"),y=n("wO+i"),O=n("Kj3r"),v=n("zP0r"),C=n("AytR"),P=n("UFSi"),M=n("POnT"),x=n("1RhC"),w=n("tMAK"),k=n("/RaO"),S=n("b8Z8"),E=n("JplU"),I=n("ZWtM"),R=n("P5Qy"),T=n("Q63R"),A=n("z6kb"),L=n("MoEl"),j=n("zqdW"),D=n("CJka"),F=n("ApIJ"),N=n("FQSa"),B=n("BE5q"),U=n("XrBI"),V=n("vtVp"),z=n("fXoL");let W=(()=>{class t{constructor(t,e,n,o,r,a,s,c,l,u,p,h,d,g,f,b,m,_,y){this.api=t,this.cartoManager=e,this.status=n,this.maps=o,this.shortcut=r,this.event=a,this.loader=s,this.miniMap=c,this.mapsLayout=l,this.msg=u,this.avatar=p,this.offAvatar=h,this.uaParser=d,this.route=g,this.envService=f,this.indoor=b,this.nClickService=m,this.zone=_,this.photoViewer=y,this.isReadyPanoramaElement=new i.a(!1),this.lastMapsLayoutState=N.d.Float,this.useHistory=!1,this.entrySubs=[],this.viewerSubs=[],this.npanoramaUrl=C.a.npanoramaUrl,this.thumbnailUrl="/v5/api/v2/panorama/thumbnail",this.watchMapType(),this.watchRouteHistory(),this.event.init(this),this.miniMap.init(this),this.offAvatar.init(this)}get events(){return this.event.events}set panoramaElement(t){this._panoramaElement=t,this.isReadyPanoramaElement.next(!!this._panoramaElement)}get panoramaElement(){return this._panoramaElement}get panoramaMap(){return this._panoramaMap}get isAirType(){return this.panoramaLocation.type===h.z.AIR}get panoramaLocation(){const t={PID:"unknown",latlng:new naver.panorama.LatLng(0,0),title:"unknown title",description:"unknown description",photodate:"yyyy-MM-dd"};return this.events.panoramaViewerReady.getValue()&&this._panoramaMap.getLocation()||t}get panoramaTimes(){return this.events.panoramaViewerReady.getValue()?this._panoramaMap.getPanoramaTimes():[]}get staticSizeS(){return[86,86]}get staticSizeM(){return[350,175]}get staticSizeL(){return[800,400]}getDefaultPanoramaImageUrl(){return`/assets/img/directions/img-panorama-default${this.uaParser.retina?"@2x":""}.png`}getPanoramaImageUrl(t){const e=t.type||h.z.STREET,n=this.getPanoramaImageSize(t);return t?t.place?this.getPanoramaImageUrlFromPlaceID(this.thumbnailUrl,t,n,e):t.PID?this.getPanoramaImageUrlFromId(this.thumbnailUrl,t,n,e):t.position?this.getPanoramaImageUrlFromPosition(this.thumbnailUrl,t,n,e):"":""}getNearPanorama(t,e,n){const i=this.panoramaMap?this.panoramaMap.getLocation():null;return this.api.getNearPanorama(t,e,!n&&i?i.type:n)}getNearPanoramaForIndoor(t,e,n,i){return this.api.getNearPanorama(t,e,h.z.INDOOR,{zone:n,zorder:i})}onPanoramaViewerReady(t){this.events.panoramaViewerReady.getValue()?t():this.events.panoramaViewerReady.pipe(Object(g.a)(t=>t),Object(f.a)()).subscribe(t)}tryPanoramaViewer(t,e=!0,n){this.photoViewer.hide(),P.a.of("panorama").debug("tryPanoramaViewer",t,e,n),Object(o.a)([this.loadPanoramaScript(),this.afterReadyPanoramaElement()]).pipe(Object(b.a)(()=>this.setFloatLayoutIfIsNormal(t)),Object(m.a)(()=>this.makePanoramaOptions(t))).subscribe(n=>{this.showPanoramaViewer(n,e),t.rawType&&-1!==t.rawType.indexOf("marineview")?this.nClickService.nClick(this.maps.mapElement,S.a.ALL_PANOLAYER_UNDERWATERVIEW):this.nClickService.nClick(this.maps.mapElement,S.a.ALL_PANOLAYER_BIRDVIEW),this.events.mode.getValue()===s.b.Viewer?this.nClickService.nClick(this.maps.mapElement,this.isAirType?R.a.BIRDVIEW_MINIMAP_CLICK:I.a.STREETVIEW_MINIMAP_CLICK):this.nClickService.nClick(this.maps.mapElement,S.a.ALL_PANOLAYER_STREETVIEW)},t=>{this.msg.open(t.message)})}showPanoramaViewer(t,e=!0){t.PID&&this.lastPID===t.PID||(P.a.of("panorama").debug("showPanoramaViewer",t,e,this.events.panoramaViewerReady.getValue()),this.useHistory=e,0===this.entrySubs.length&&this.activatePanoramaEntryMode(),this.initPanoramaViewer(t),this.events.mode.next(s.b.EntryToViewer),this.events.panoramaViewerReady.pipe(Object(g.a)(t=>t),Object(m.a)(()=>this.events.panoramaChanged),Object(f.a)()).subscribe(()=>{const e=t.type&&t.type===h.z.AIR;this.miniMap.morphIntoViewer(!this.uaParser.isIe11&&this.maps.isVector(),e,()=>{this.lastMapsLayoutState=t.layout||N.d.Float,this.mapsLayout.setLayout(this.lastMapsLayoutState),this.events.mode.next(s.b.Viewer),this.zone.run(()=>this.navigate(!0));const e=this.panoramaMap.getLocation();e.type===h.z.INDOOR&&e.zone&&e.zorder&&!this.indoor.isIndoorShown&&this.indoor.showBuildingWithoutFloorList(e.zone,e.zorder,!1,e.latlng.lng,e.latlng.lat)})}))}exitPanoramaViewer(t){this.events.panoramaViewerReady.getValue()&&(this.lastPID="",this.events.mode.next(s.b.ViewerToEntry),this.events.panoramaViewerImageLoad.next(!1),this.status.resumeEsc(A.a.Panorama),this.mapsLayout.layout!==N.d.Normal&&(this.mapsLayout.setLayout(N.d.Normal),this.isShowPanoramaLayer()||this.maps.offThemeLayer(F.g.Panorama),this.miniMap.morphIntoEntry(this.panoramaLocation.type,!this.uaParser.isIe11&&this.maps.isVector(),()=>{this.destroyPanoramaViewer(),t?t().then(()=>{this.events.mode.next(s.b.Entry)}):this.events.mode.next(s.b.Entry)})))}exitPanoramaViewerWithUrl(){this.exitPanoramaViewer(()=>this.useHistory?this.route.setPanoramaData([],{replaceUrl:!0}):(window.history.back(),this.route.firedNavigationEnd.pipe(Object(f.a)(),Object(_.a)(()=>F.d.Success)).toPromise()))}setRoute(t){this.onPanoramaViewerReady(()=>{this.panoramaMap.setRoute(t)})}zoomIn(){this.panoramaMap.zoomIn()}zoomOut(){this.panoramaMap.zoomOut()}movePanorama(t){t.place?this.panoramaMap.setPlace(t.place):t.PID?(this.panoramaMap.setPID(t.PID),this.panoramaMap.setHeading(t.heading,!0),this.panoramaMap.setTilt(t.tilt,!0)):this.panoramaMap.setPosition(t.position)}movePanoramaByPID(t){if(!t)return;const e={PID:t,heading:this.panoramaMap.getHeading(),tilt:this.panoramaMap.getTilt()};this.movePanorama(e)}moveNearestPanoramaSpot(){this.panoramaMap.moveNearestPanoramaSpot()}getAnotherViewType(){const t=this.panoramaMap.getNearestPanoramaSpot();return t&&t.panoramaType?t.panoramaType:null}getPID(t){return"number"!=typeof t.features[0].properties.id?t.features[0].properties.id:null}getHotspotPanorama(t,e,n){return this.api.getHotspotPanorama(t,e,n)}preloadPanoramaScript(){window.setTimeout(()=>this.loadPanoramaScript().subscribe(),50)}watchMapType(){this.maps.afterInstanceReady().pipe(Object(m.a)(()=>this.route.events),Object(y.a)("data"),Object(g.a)(t=>!(!t.coordinates||!t.coordinates.mapLayers)),Object(g.a)(()=>!this.status.isPanoramaViewerMode)).subscribe(t=>{t.coordinates.mapLayers.indexOf(F.g.Panorama)>-1?this.activatePanoramaEntryMode():this.deactivatePanoramaEntryMode()})}watchRouteHistory(){this.route.events.pipe(Object(g.a)(t=>t.type===F.a.Initialized||t.type===F.a.ChangedByHistory)).subscribe(t=>{const e=this.route.getRouterParams().panoramaData;if(e){const n=t.type===F.a.Initialized;this.maps.onReady(()=>{this.tryPanoramaViewer(e,n)})}else this.exitPanoramaViewerWithUrl()})}activatePanoramaEntryMode(){this.events.mode.getValue()!==s.b.Entry&&(this.events.mode.next(s.b.Entry),this.status.suspendMapsClick(A.d.Panorama),this.status.suspendEsc(A.a.PanoramaEntry),this.maps.disableDoubleClickZoom(),this.loadPanoramaScript().subscribe(),this.maps.onReady(()=>{[this.maps.events.click.pipe(Object(g.a)(()=>!this.uaParser.isTablet&&[s.b.Viewer,s.b.Entry].includes(this.events.mode.getValue())&&this.status.isLastSuspendedMapsClick(A.d.Panorama))).subscribe(t=>{const e=t.features[0],n=t.lngLat||this.maps.unproject({x:t.offset.x,y:t.offset.y});this.events.mode.getValue()!==s.b.Viewer?this.tryPanoramaViewer(e&&e.properties.type&&k.Ac[e.properties.type]?{PID:e.properties.id,heading:0,tilt:0,lng:n.lng,lat:n.lat,type:k.Ac[e.properties.type],rawType:e.properties.type}:{lng:n.lng,lat:n.lat}):this.movePanoramaByLngLat(n)}),this.maps.events.touchEnd.pipe(Object(g.a)(()=>this.uaParser.isTablet),Object(g.a)(()=>s.b.Viewer===this.events.mode.getValue()),Object(O.a)(800)).subscribe(()=>{const t=this.maps.getCenter();t&&this.tryPanoramaViewer({lng:t.lng,lat:t.lat})}),this.shortcut.keydown.pipe(Object(g.a)(t=>t.type===h.r.Escape),Object(g.a)(()=>this.status.isLastSuspendedEsc(A.a.PanoramaEntry))).subscribe(t=>{t.data.e.preventDefault(),this.cartoManager.offLayer(F.g.Panorama)})].forEach(t=>{this.entrySubs.push(t)})}))}deactivatePanoramaEntryMode(){this.events.mode.getValue()!==s.b.None&&(this.maps.enableDoubleClickZoom(),this.events.mode.next(s.b.None),this.status.resumeMapsClick(A.d.Panorama),this.status.resumeEsc(A.a.PanoramaEntry),this.entrySubs.forEach(t=>t.unsubscribe()),this.entrySubs.length=0,this.entrySubs=[])}loadPanoramaScript(){return this.events.panoramaScriptLoaded.getValue()?Object(r.a)(!0):this.events.panoramaScriptLoad.getValue()?this.events.panoramaScriptLoaded.pipe(Object(g.a)(t=>t),Object(f.a)()):(this.events.panoramaScriptLoad.next(!0),this.loader.loadJavascript(this.npanoramaUrl).pipe(Object(b.a)(()=>{this.events.panoramaScriptLoaded.next(!0)})))}initPanoramaViewer(t){this.panoramaElement&&(this.events.panoramaViewerReady.getValue()||(this._panoramaMap=new naver.panorama.PanoramaMap(this.panoramaElement.nativeElement,Object.assign(Object.assign({},t),{eventInterval:this.uaParser.isIe11?3:1.3})),this.event.enableViewerEvents(),this.initPanoramaViewerEvents(),this.events.panoramaViewerReady.next(!0),this.envService.isDevLike()&&(window.pano=this._panoramaMap)))}initPanoramaViewerEvents(){const t=this.events;this.status.suspendEsc(A.a.Panorama),this.viewerSubs=[this.subscribeIdle(t),this.subscribePanoramaChanged(t),this.subscribeHeadingChanged(t),t.panoramaError.subscribe(()=>{this.msg.open("\ud574\ub2f9 \uc9c0\uc5ed\uc740 \ud30c\ub178\ub77c\ub9c8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),this.status.isPanoramaViewerMode=!1,this.deactivatePanoramaEntryMode(),this.destroyPanoramaViewer(),this.exitPanoramaViewerWithUrl()}),this.mapsLayout.layoutBehavior.pipe(Object(v.a)(1),Object(g.a)(t=>t!==this.lastMapsLayoutState),Object(g.a)(t=>[N.d.Float,N.d.Split].indexOf(t)>-1),Object(g.a)(()=>this.events.mode.getValue()===s.b.Viewer)).subscribe(t=>{this.lastMapsLayoutState=t,this.zone.run(()=>this.navigate())}),this.shortcut.keydown.pipe(Object(g.a)(t=>t.type===h.r.Escape),Object(g.a)(()=>this.status.isLastSuspendedEsc(A.a.Panorama)),Object(f.a)()).subscribe(t=>{t.data.e.preventDefault(),this.exitPanoramaViewerWithUrl()})]}onPanoramaChanged(){this.zone.run(()=>{this.lastPID=this.panoramaMap.getPID(),this.events.panoramaViewerImageLoaded.next(!0)}),this.onPositionChanged()}onPositionChanged(){this.events.mode.getValue()===s.b.Viewer?this.adjustMiniMapAndAvatar():this.events.mode.pipe(Object(g.a)(t=>t===s.b.Viewer),Object(f.a)()).subscribe(()=>{this.adjustMiniMapAndAvatar()})}adjustMiniMapAndAvatar(){const t=this.panoramaMap.getPosition(),e={lng:t.lng,lat:t.lat};this.zone.run(()=>{this.miniMap.adjustViewport(e),this.avatar.setPosition(e),this.onHeadingChanged()})}onHeadingChanged(){this.avatar.setHeading(this.panoramaMap.getHeading())}navigate(t=!1){if(!this.useHistory)return void(this.useHistory=!0);const e=this.route.getRouterParams().panoramaData,n=this.panoramaMap.getPID()||"",i=this.panoramaMap.getHeading()||0,o=this.panoramaMap.getTilt()||0,r=this.panoramaMap.getFov()||100,a=this.mapsLayout.layout;if(e&&e.PID===n&&e.heading===i&&e.tilt===o&&e.layout===a)return;const s=[n,i,o,r,a];t?this.route.setPanoramaData(s):this.route.setPanoramaData(s,{replaceUrl:!0})}destroyPanoramaViewer(){this.panoramaMap.pause(),this.event.disableViewerEvents(),this.panoramaMap.destroy(),this._panoramaMap=null,this.events.panoramaViewerReady.next(!1),this.events.panoramaViewerImageLoad.next(!1)}escape(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}isShowPanoramaLayer(){return this.cartoManager.isActivatedLayers.some(t=>t===F.g.Panorama)}getPanoramaImageSize(t){const e=Array.isArray(t.size)?t.size:[t.size.width,t.size.height];return t.autoExtend&&this.uaParser.retina&&(e[0]=2*e[0],e[1]=2*e[1]),e}getPanoramaImageUrlFromId(t,e,n,i){return"string"!=typeof e.PID&&e.type?`${t}/${e.PID}/${i}?&width=${n[0]}&height=${n[1]}`:`${t}/${this.escape(e.PID)}?heading=${e.heading||0}&width=${n[0]}&height=${n[1]}`}getPanoramaImageUrlFromPlaceID(t,e,n,i){const o=e.PID&&this.escape(e.PID);let r;return r=`${t}/${e.place}/0?width=${n[0]}&height=${n[1]}`,e.PID&&(r+=`&id=${o}`),e.heading&&(r+=`&heading=${e.heading||0}`),r}getPanoramaImageUrlFromPosition(t,e,n,i){let o,r=e.position;return Array.isArray(r)||(r=[r.lng,r.lat]),o=`${t}/${r[0]}/${r[1]}/${i}?width=${n[0]}&height=${n[1]}`,e.lookAt&&(o+=`&lookAt=${e.lookAt[0]},${e.lookAt[1]}`,e.positionHint&&(o+=`&hint=${e.positionHint}`)),o}afterReadyPanoramaElement(){return this.isReadyPanoramaElement.pipe(Object(g.a)(t=>t),Object(f.a)())}setFloatLayoutIfIsNormal(t){t.layout&&t.layout===N.d.Normal&&(t.layout=N.d.Float)}makePanoramaOptions(t){if(t.place)return Object(r.a)({place:t.place});if(t.PID)return Object(r.a)({PID:t.PID,heading:t.heading,tilt:t.tilt,fov:t.fov,layout:t.layout||N.d.Float,position:t.lng&&t.lat?[t.lng,t.lat]:null,type:t.type});if(t.lookAt){const e={layout:t.layout||N.d.Float,position:t.position,lookAt:t.lookAt};return t.positionHint&&(e.positionHint=t.positionHint),Object(r.a)(e)}if(t.lng&&t.lat){const e={lng:t.lng,lat:t.lat};let n;return n=this.indoor.isOnIndoorFeature(e)?this.getNearPanoramaForIndoor(t.lng,t.lat,this.indoor.getBuildingIdOnIndoorFeature(e),this.indoor.currentBuildingFloor):this.getNearPanorama(t.lng,t.lat),n.pipe(Object(g.a)(t=>!!(t&&t.features.length>0)||(this.msg.openThroughTranslation("PANORAMA.NO_STREET_VIEW_LOCATION"),this.events.panoramaViewerImageLoad.next(!1),!1)),Object(_.a)(t=>t.features[0].properties),Object(_.a)(e=>{const n=this.panoramaMap?this.panoramaMap.getTilt():0;return{PID:e.id,heading:e.heading||0,tilt:n,layout:t.layout||N.d.Float,position:[t.lng,t.lat]}}))}return Object(a.a)("\ud30c\ub178\ub77c\ub9c8 \uc635\uc158 \ucd08\uae30\ud654 \uc2e4\ud328")}movePanoramaByLngLat(t){this.makePanoramaOptions(t).subscribe(t=>{let e;const n=this.panoramaMap.getHeading();e=Number.isNaN(null==t?void 0:t.heading)||Number.isNaN(n)?t:Object.assign(Object.assign({},t),{heading:n}),this.movePanorama(e)})}subscribePanoramaChanged(t){return t.panoramaChanged.subscribe(()=>this.onPanoramaChanged())}subscribePositionChanged(t){return t.positionChanged.subscribe(()=>this.onPositionChanged())}subscribeHeadingChanged(t){return t.headingChanged.pipe(Object(g.a)(()=>this.events.mode.getValue()===s.b.Viewer)).subscribe(()=>this.onHeadingChanged())}subscribeIdle(t){return t.idle.pipe(Object(g.a)(()=>this.events.mode.getValue()===s.b.Viewer)).subscribe(()=>this.navigate())}}return t.\u0275fac=function(e){return new(e||t)(z.ic(T.a),z.ic(M.a),z.ic(A.e),z.ic(U.a),z.ic(L.a),z.ic(c.a),z.ic(j.a),z.ic(l.a),z.ic(B.a),z.ic(d.b),z.ic(u.a),z.ic(p.a),z.ic(D.a),z.ic(F.e),z.ic(x.a),z.ic(w.b),z.ic(E.a),z.ic(z.F),z.ic(V.b))},t.\u0275prov=z.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},IGrF:function(t,e,n){"use strict";var i=n("/I4V");n.d(e,"a",function(){return i.a})},IRA2:function(t,e,n){"use strict";t.exports=c;var i,o=n("6Tgl"),r=o.LongBits,a=o.utf8;function s(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function c(t){this.buf=t,this.pos=0,this.len=t.length}var l,u="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new c(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new c(t);throw Error("illegal buffer")},p=function(){return o.Buffer?function(t){return(c.create=function(t){return o.Buffer.isBuffer(t)?new i(t):u(t)})(t)}:u};function h(){var t=new r(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw s(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw s(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function d(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function g(){if(this.pos+8>this.len)throw s(this,8);return new r(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}c.create=p(),c.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,c.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return l}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return d(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|d(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var t=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},c.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var t=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},c.prototype.bytes=function(){var t=this.uint32(),e=this.pos,n=this.pos+t;if(n>this.len)throw s(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,n):e===n?new this.buf.constructor(0):this._slice.call(this.buf,e,n)},c.prototype.string=function(){var t=this.bytes();return a.read(t,0,t.length)},c.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw s(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},c._configure=function(t){i=t,c.create=p(),i._configure();var e=o.Long?"toLong":"toNumber";o.merge(c.prototype,{int64:function(){return h.call(this)[e](!1)},uint64:function(){return h.call(this)[e](!0)},sint64:function(){return h.call(this).zzDecode()[e](!1)},fixed64:function(){return g.call(this)[e](!0)},sfixed64:function(){return g.call(this)[e](!1)}})}},J1fe:function(t,e,n){"use strict";n.d(e,"g",function(){return i}),n.d(e,"d",function(){return o}),n.d(e,"b",function(){return r}),n.d(e,"a",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"h",function(){return c}),n.d(e,"c",function(){return l}),n.d(e,"f",function(){return u});var i=function(t){return t.All="all",t.Place="place",t.Address="address",t.Subway="subway",t.SubwayStation="subway-station",t.BusRoute="bus-route",t.BusStation="bus-station",t.Coordinate="coordinate",t}({}),o=function(t){return t.Photo="detailPhoto",t.Review="detailReview",t.BookingReview="detailBookingReview",t.Traffic="detailTraffic",t.Place="detailPlace",t}({}),r=function(t){return t.None="none",t.Search="search",t.Directions="directions",t.Favorite="favorite",t.AroundHere="around",t.Bus="bus",t.Subway="subway",t}({}),a=function(t){return t[t.None=0]="None",t[t.Ready=1]="Ready",t[t.Loaded=2]="Loaded",t[t.UpdatePlaceInfo=3]="UpdatePlaceInfo",t[t.UpdateSummary=4]="UpdateSummary",t[t.UpdateSimpleInfo=5]="UpdateSimpleInfo",t[t.Clear=6]="Clear",t}({}),s=function(t){return t[t.Start=0]="Start",t[t.Goal=1]="Goal",t}({}),c=function(t){return t.BusRoute="pubtrans/bus-route",t.BusStation="pubtrans/bus-stop",t.SubwayStation="pubtrans/subway-station",t.Address="address/modification",t.Airport="pubtrans/airport",t.TrainStation="pubtrans/train-station",t.KtxStation="pubtrans/ktx-station",t.BusTerminal="pubtrans/bus-terminal",t}({}),l=function(t){return t[t.Place=0]="Place",t[t.Directions=1]="Directions",t}({}),u=function(t){return t[t.None=0]="None",t[t.ThumbnailLoaded=1]="ThumbnailLoaded",t[t.PhotoLoaded=2]="PhotoLoaded",t[t.Clear=3]="Clear",t[t.Updated=4]="Updated",t}({})},J9Ma:function(t,e,n){"use strict";n.d(e,"a",function(){return M});var i=n("tF80"),o=n("lJxs"),r=n("eIep"),a=n("pLZG"),s=n("SxV6"),c=n("2Vo4"),l=n("HDdC"),u=n("qKIp"),p=n("/RaO"),h=n("LRne"),d=n("sO+U"),g=n("fXoL");let f=(()=>{class t{constructor(t){this.storage=t,this.searchHistory$=new c.a([]),this.pathFindingHistory$=new c.a([])}get searchHistory(){return this.searchHistory$.getValue()}get pathFindingHistory(){return this.pathFindingHistory$.getValue()}init(){const t=this.storage.get(p.rd)||[],e=this.storage.get(p.qd)||[];return this.searchHistory$.next(t),this.pathFindingHistory$.next(e),Object(h.a)(this)}destroy(){this.searchHistory$.next(null),this.pathFindingHistory$.next(null)}addSearchHistory(t){const e=[t,...this.excludedSearchHistory(Object(d.g)([t]))];return this.updateSearchHistory(e),Object(h.a)(!0)}addPathFindingHistory(t){const e=Object(d.f)([t]),n=[t,...this.excludedPathFindingHistory(e)];return this.updatePathFindingHistory(n),Object(h.a)(!0)}removeSearchHistory(t){const e=Object(d.g)(t),n=this.excludedSearchHistory(e);return this.updateSearchHistory(n),Object(h.a)(!0)}removePathFindingHistoryData(t){const e=Object(d.f)(t),n=this.excludedPathFindingHistory(e);return this.updatePathFindingHistory(n),Object(h.a)(!0)}removeSearchHistoryDataByKey(t){const e=this.excludedSearchHistory([t]);return this.updateSearchHistory(e),Object(h.a)(!0)}removePathFindHistoryDataByKey(t){const e=this.excludedPathFindingHistory([t]);return this.updatePathFindingHistory(e),Object(h.a)(!0)}removeAllSearchHistory(){return this.updateSearchHistory([]),Object(h.a)(!0)}removeAllPathFindingHistory(){return this.updatePathFindingHistory([]),Object(h.a)(!0)}updateSearchHistory(t){this.storage.set(p.rd,t),this.searchHistory$.next(t)}updatePathFindingHistory(t){this.storage.set(p.qd,t),this.pathFindingHistory$.next(t)}excludedSearchHistory(t){return this.searchHistory.filter(e=>{const n=e.__key||Object(d.e)(e);return!t.includes(n)})}excludedPathFindingHistory(t){return this.pathFindingHistory.filter(e=>{const n=e.__key||Object(d.c)(e);return!t.includes(n)})}}return t.\u0275fac=function(e){return new(e||t)(g.ic(u.a))},t.\u0275prov=g.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var b=function(t){return t[t.NotReady=0]="NotReady",t[t.Ready=1]="Ready",t[t.Error=2]="Error",t}({}),m=n("rS+x"),_=n("joil"),y=n("iTV6"),O=n("TjGc"),v=n("1PZI"),C=n("gXqy"),P=n("Q63R");let M=(()=>{class t{constructor(t,e,n,i,o){this.api=t,this.localHistory=e,this.logger=n,this.member=i,this.injector=o,this.status$=new c.a(b.NotReady),this.init()}getSearchHistoryData(t=p.pd,e=""){return this.getSearchHistory$().pipe(Object(o.a)(n=>this.getFilteredSearchHistoryData(n,t,e)))}getSearchHistoryDataByType(t,e){return this.getSearchHistory$().pipe(Object(o.a)(n=>this.getTypedSearchHistoryData(n,t,e)))}getPathFindHistoryData(t,e=""){return this.getPathFindingHistory$().pipe(Object(o.a)(n=>this.getFilteredPathFindHistoryData(n,t,e)))}addSearchHistory(t){const e=this.createSearchHistoryItemForAdd(t);return this.waitUntilInit().pipe(Object(r.a)(()=>this.historyService.addSearchHistory(e))).toPromise()}addPathFindingHistory(t){const e=this.createPathFindingHistoryItemForAdd(t);return this.waitUntilInit().pipe(Object(r.a)(()=>this.historyService.addPathFindingHistory(e))).toPromise()}removeSearchHistoryData(t){return this.waitUntilInit().pipe(Object(r.a)(()=>this.historyService.removeSearchHistory(t)))}removePathFindingHistoryData(t){return this.waitUntilInit().pipe(Object(r.a)(()=>this.historyService.removePathFindingHistoryData(t)))}removeSearchHistoryDataByKey(t){return this.waitUntilInit().pipe(Object(r.a)(()=>this.historyService.removeSearchHistoryDataByKey(t)))}removePathFindHistoryDataByKey(t){return this.waitUntilInit().pipe(Object(r.a)(()=>this.historyService.removePathFindHistoryDataByKey(t)))}removeAllSearchHistory(){return this.waitUntilInit().pipe(Object(r.a)(()=>this.historyService.removeAllSearchHistory()))}removeAllPathFindingHistory(){return this.waitUntilInit().pipe(Object(r.a)(()=>this.historyService.removeAllPathFindingHistory()))}createSearchHistoryItemForAdd(t){if(!t||!this.isValidSearchHistory(t))return void this.logger.log(_.b.Common,"UserHistoryService","createSearchHistoryItemForAdd",t,"invalid search history data");const e=Object.assign({},t);return e.updateTime=(new Date).getTime(),e.type===m.C.SearchWord?(delete e.latitude,delete e.longitude,delete e.busTypeId,delete e.busStationCode,delete e.direction):e.type===m.C.AddressPoi&&(delete e.busTypeId,delete e.busStationCode,delete e.direction),e.id&&(e.id=`${e.id}`),e.longitude&&(e.longitude=parseFloat(`${e.longitude}`)),e.latitude&&(e.latitude=parseFloat(`${e.latitude}`)),e.busStationCode||delete e.busStationCode,e}createPathFindingHistoryItemForAdd(t){if(!t||!this.isValidPathFindingHistory(t))return void this.logger.log(_.b.Common,"UserHistoryService","createPathFindingHistoryItemForAdd",t,"invalid path finding history data");const e=Object.assign(Object.assign({},t),{updateTime:(new Date).getTime()});return e.startLongitude&&(e.startLongitude=parseFloat(`${e.startLongitude}`)),e.startLatitude&&(e.startLatitude=parseFloat(`${e.startLatitude}`)),e.goalLongitude&&(e.goalLongitude=parseFloat(`${e.goalLongitude}`)),e.goalLatitude&&(e.goalLatitude=parseFloat(`${e.goalLatitude}`)),e.waypoint&&e.waypoint.forEach(t=>{t.longitude&&(t.longitude=parseFloat(`${t.longitude}`)),t.latitude&&(t.latitude=parseFloat(`${t.latitude}`))}),e}getClassifiedSearchHistoryData(t,e=""){return this.getSearchHistoryData(t,e).pipe(Object(o.a)(t=>this.getClassifiedData(t)))}getClassifiedPathFindingHistoryData(t,e=""){return this.getPathFindHistoryData(t,e).pipe(Object(o.a)(t=>this.getClassifiedData(t)))}init(){this.member.isLogin().pipe(Object(r.a)(t=>(this.beforeInit(),t?this.initServer():this.initLocal()))).subscribe(t=>{this.afterInit(t)})}beforeInit(){this.status$.getValue()!==b.NotReady&&(this.status$.next(b.NotReady),this.historyService&&this.historyService.destroy())}afterInit(t){const e=t?b.Ready:b.Error;this.historyService=t,this.status$.next(e)}initLocal(){return this.localHistory.init()}initServer(){return new l.a(t=>{n.e(46).then(n.bind(null,"MBf7")).then(({ServerHistoryService:e})=>{const n=this.injector.get(e);t.next(n),t.complete()})}).pipe(Object(r.a)(t=>t.init()))}getFilteredSearchHistoryData(t,e=p.pd,n=""){let i=t;return n&&(i=i.filter(t=>(t.name+"").indexOf(n)>-1)),e<=i.length?i.slice(0,e):i}getTypedSearchHistoryData(t,e,n){const i=t.filter(t=>Array.isArray(e)?e.indexOf(t.type)>-1:t.type===e);return n<=i.length?i.slice(0,n):i}getFilteredPathFindHistoryData(t,e=p.pd,n=""){let i=t;return""!==n&&(i=i.filter(t=>t.startName.indexOf(n)>-1)),e<=i.length?i.slice(0,e):i}getSearchHistory$(){return this.status$.pipe(Object(a.a)(t=>t===b.Ready),Object(r.a)(()=>this.historyService.searchHistory$))}getPathFindingHistory$(){return this.status$.pipe(Object(a.a)(t=>t===b.Ready),Object(r.a)(()=>this.historyService.pathFindingHistory$))}isValidSearchHistory(t){const e=new RegExp("^[0-9]+$");return!(t.id&&!e.test(t.id)||Object.keys(t).some(e=>"busStationCode"!==e&&(""===t[e]||null===t[e])&&(console.error("Add SearchHistory error",e,t[e],t),!0)))}isValidPathFindingHistory(t){const e=new RegExp("^[0-9]+$");return!(-1===[m.A.RouteBike,m.A.RouteBikeOld,m.A.RouteCar,m.A.RouteTransit,m.A.RouteWalk].indexOf(`${t.type}`)||!t.startName||!t.goalName||t.waypoint.some(t=>!t.name||t.id&&!e.test(t.id)))}getClassifiedData(t){return t.map(t=>{const e=new Date;return t.isToday=Object(O.a)(new Date(t.updateTime)),t.isYesterday=Object(v.a)(new Date(t.updateTime)),t.differenceInDays=Object(C.a)(e,new Date(t.updateTime)),t})}waitUntilInit(){return this.status$.pipe(Object(a.a)(t=>t===b.Ready),Object(s.a)())}}return t.\u0275fac=function(e){return new(e||t)(g.ic(P.a),g.ic(f),g.ic(y.a),g.ic(i.a),g.ic(g.v))},t.\u0275prov=g.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},JGFM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.INDOOR_INDOORMAP_ACTIVATE="indoor.indoormap.activate",t.INDOOR_INDOORMAP_DEACTIVATE="indoor.indoormap.deactivate",t.INDOOR_FLOORPANEL_UPSIDE="indoor.floorpanel.upside",t.INDOOR_FLOORPANEL_FLOORS="indoor.floorpanel.floors",t.INDOOR_FLOORPANEL_DOWNSIDE="indoor.floorpanel.downside",t}({})},Joaz:function(t,e,n){"use strict";n.d(e,"c",function(){return i.b}),n.d(e,"d",function(){return i.c}),n.d(e,"a",function(){return i.a}),n.d(e,"f",function(){return o.a}),n.d(e,"b",function(){return r.a}),n.d(e,"e",function(){return a.a});var i=n("PzNd"),o=n("HRiQ"),r=(n("7f5W"),n("+JlU"),n("YZjB")),a=n("BYWt")},JplU:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n("JIr8"),o=n("EY2u"),r=n("joil"),a=n("iTV6"),s=n("+Xv5"),c=n("/RaO"),l=n("1RhC"),u=n("UFSi"),p=n("fXoL");let h=(()=>{class t{constructor(t,e,n){this.log=t,this.environmentService=e,this.loader=n,window.ccsrv=this.getCcsrv()}nClick(t,e,n){if(!t||!e)return;const r=Object.assign({},t.target?t.target:t);if(!r)return;if(!window.nclk_v2)return this.errorLog(null,"Can not found nClick library"),void this.loader.loadJavascript(c.hc,2).pipe(Object(i.a)(t=>(this.errorLog(t,"Can not found nClick library in CDN"),o.a))).subscribe(()=>this.nClick(r,e,n));const{page:a,area:s,action:l}=this.extractNClickCode(e),{cid:p,rank:h,ext:d}=this.extractNClickCodeOption(n);window.g_ssc=`${c.qb}.${a}`,window.nsc=window.g_ssc,window.nclk_v2(r,`${s}.${l}`,p,h,d),u.a.of("nClick").info([window.nsc,s,l].join("."))}extractNClickCode(t){const e=t.split(".");return{page:e[0],area:e[1],action:e[2]}}extractNClickCodeOption(t){return{cid:t&&t.cid?t.cid.toString():"",rank:t&&t.rank?t.rank.toString():"",ext:t&&t.ext?t.ext.toString():""}}getCcsrv(){return this.environmentService.isRealLike()?"cc.naver.com":"alpha-cc.naver.com"}errorLog(t,e){this.log.log(r.b.Common,"NClickService","nClick",t,e)}}return t.\u0275fac=function(e){return new(e||t)(p.ic(a.a),p.ic(l.a),p.ic(s.a))},t.\u0275prov=p.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Jq6I:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"a",function(){return r});var i=function(t){return t[t.Search=100]="Search",t[t.Entry=200]="Entry",t[t.Popup=300]="Popup",t}({}),o=function(t){return t.Accommodation="accommodation",t.Cafe="cafe",t.Camping="camping",t.Gas="gas",t.Hairshop="hairshop",t.Hospital="hospital",t.Pharmacy="pharmacy",t.Nailshop="nailshop",t.ParkingLot="parking_lot",t.Place="place",t.Pub="pub",t.Reservation="reservation",t.Restaurant="restaurant",t.E1="e1",t.Gs="gs",t.Hyundai="hyundai",t.Nc="nc",t.Nh="nh",t.Sk="sk",t.Soil="soil",t.Polls="polls",t}({}),r=function(t){return t.Address="address",t.BusStop="BusStop",t.Subway="subway",t.Place="place",t}({})},KFGy:function(t,e,n){var i=n("Uwu7"),o=n("2xqC"),r=n("kSER"),a=n("2Dig"),s=n("QN7Q"),c=n("x7D4")("socket.io-client:socket"),l=n("TypT"),u=n("WLGk");t.exports=d;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=o.prototype.emit;function d(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}o(d.prototype),d.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[a(t,"open",s(this,"onopen")),a(t,"packet",s(this,"onpacket")),a(t,"close",s(this,"onclose"))]}},d.prototype.open=d.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},d.prototype.send=function(){var t=r(arguments);return t.unshift("message"),this.emit.apply(this,t),this},d.prototype.emit=function(t){if(p.hasOwnProperty(t))return h.apply(this,arguments),this;var e=r(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:u(e))?i.BINARY_EVENT:i.EVENT,data:e,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},d.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},d.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?l.encode(this.query):this.query;c("sending connect packet with query %s",t),this.packet({type:i.CONNECT,query:t})}else this.packet({type:i.CONNECT})},d.prototype.onclose=function(t){c("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},d.prototype.onpacket=function(t){if(t.nsp===this.nsp||t.type===i.ERROR&&"/"===t.nsp)switch(t.type){case i.CONNECT:this.onconnect();break;case i.EVENT:case i.BINARY_EVENT:this.onevent(t);break;case i.ACK:case i.BINARY_ACK:this.onack(t);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",t.data)}},d.prototype.onevent=function(t){var e=t.data||[];c("emitting event %j",e),null!=t.id&&(c("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?h.apply(this,e):this.receiveBuffer.push(e)},d.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var o=r(arguments);c("sending ack %j",o),e.packet({type:u(o)?i.BINARY_ACK:i.ACK,id:t,data:o})}}},d.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(c("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):c("bad ack %s",t.id)},d.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},d.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)h.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},d.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},d.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},d.prototype.close=d.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},d.prototype.compress=function(t){return this.flags.compress=t,this},d.prototype.binary=function(t){return this.flags.binary=t,this}},Kd67:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"d",function(){return r}),n.d(e,"j",function(){return a}),n.d(e,"i",function(){return s}),n.d(e,"e",function(){return c}),n.d(e,"l",function(){return l}),n.d(e,"h",function(){return u}),n.d(e,"k",function(){return p}),n.d(e,"b",function(){return h}),n.d(e,"a",function(){return d}),n.d(e,"f",function(){return g}),n.d(e,"g",function(){return f});var i=6371008.8,o={meters:i,metres:i,millimeters:1e3*i,millimetres:1e3*i,centimeters:100*i,centimetres:100*i,kilometers:i/1e3,kilometres:i/1e3,miles:i/1609.344,nauticalmiles:i/1852,inches:39.37*i,yards:i/1.0936,feet:3.28084*i,radians:1,degrees:i/111325};function r(t,e,n){if(!f(n=n||{}))throw new Error("options is invalid");var i=n.bbox,o=n.id;if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");i&&b(i),o&&m(o);var r={type:"Feature"};return o&&(r.id=o),i&&(r.bbox=i),r.properties=e||{},r.geometry=t,r}function a(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!g(t[0])||!g(t[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:t},e,n)}function s(t,e,n){if(!t)throw new Error("coordinates is required");if(t.length<2)throw new Error("coordinates must be an array of two or more positions");if(!g(t[0][1])||!g(t[0][1]))throw new Error("coordinates must contain numbers");return r({type:"LineString",coordinates:t},e,n)}function c(t,e){if(!f(e=e||{}))throw new Error("options is invalid");var n=e.bbox,i=e.id;if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");n&&b(n),i&&m(i);var o={type:"FeatureCollection"};return i&&(o.id=i),n&&(o.bbox=n),o.features=t,o}function l(t,e){if(null==t)throw new Error("radians is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=o[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t*n}function u(t,e){if(null==t)throw new Error("distance is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=o[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t/n}function p(t){if(null==t)throw new Error("radians is required");return t%(2*Math.PI)*180/Math.PI}function h(t){if(null==t)throw new Error("degrees is required");return t%360*Math.PI/180}function d(t,e,n){if(null==t)throw new Error("length is required");if(!(t>=0))throw new Error("length must be a positive number");return l(u(t,e),n||"kilometers")}function g(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function f(t){return!!t&&t.constructor===Object}function b(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!g(t))throw new Error("bbox must only contain numbers")})}function m(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}},Kdsb:function(t,e,n){"use strict";n.d(e,"a",function(){return ht}),n.d(e,"b",function(){return _t}),n.d(e,"c",function(){return yt});var i=n("XNiG"),o=n("xgIS"),r=n("VRyK"),a=n("D0XW"),s=n("l7GE"),c=n("ZUHj");class l{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new u(t,this.durationSelector))}}class u extends s.a{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=Object(c.a)(this,n);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var p=n("PqYM"),h=n("1G5W"),d=n("/uUt"),g=n("CqXF"),f=n("fXoL"),b=n("ofXK");function m(t){return getComputedStyle(t)}function _(t,e){for(var n in e){var i=e[n];"number"==typeof i&&(i+="px"),t.style[n]=i}return t}function y(t){var e=document.createElement("div");return e.className=t,e}var O="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function v(t,e){if(!O)throw new Error("No element matching method supported");return O.call(t,e)}function C(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function P(t,e){return Array.prototype.filter.call(t.children,function(t){return v(t,e)})}var M=function(t){return"ps__thumb-"+t},x=function(t){return"ps__rail-"+t},w=function(t){return"ps--active-"+t},k=function(t){return"ps--scrolling-"+t},S={x:null,y:null};function E(t,e){var n=t.element.classList,i=k(e);n.contains(i)?clearTimeout(S[e]):n.add(i)}function I(t,e){S[e]=setTimeout(function(){return t.isAlive&&t.element.classList.remove(k(e))},t.settings.scrollingThreshold)}var R=function(t){this.element=t,this.handlers={}},T={isEmpty:{configurable:!0}};R.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},R.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter(function(i){return!(!e||i===e)||(n.element.removeEventListener(t,i,!1),!1)})},R.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},T.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return 0===t.handlers[e].length})},Object.defineProperties(R.prototype,T);var A=function(){this.eventElements=[]};function L(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}function j(t,e,n,i,o){var r;if(void 0===i&&(i=!0),void 0===o&&(o=!1),"top"===e)r=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");r=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,n,i,o){var r=n[0],a=n[1],s=n[2],c=n[3],l=n[4],u=n[5];void 0===i&&(i=!0),void 0===o&&(o=!1);var p=t.element;t.reach[c]=null,p[s]<1&&(t.reach[c]="start"),p[s]>t[r]-t[a]-1&&(t.reach[c]="end"),e&&(p.dispatchEvent(L("ps-scroll-"+c)),e<0?p.dispatchEvent(L("ps-scroll-"+l)):e>0&&p.dispatchEvent(L("ps-scroll-"+u)),i&&function(t,e){E(t,e),I(t,e)}(t,c)),t.reach[c]&&(e||o)&&p.dispatchEvent(L("ps-"+c+"-reach-"+t.reach[c]))}(t,n,r,i,o)}function D(t){return parseInt(t,10)||0}A.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return e||(e=new R(t),this.eventElements.push(e)),e},A.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},A.prototype.unbind=function(t,e,n){var i=this.eventElement(t);i.unbind(e,n),i.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(i),1)},A.prototype.unbindAll=function(){this.eventElements.forEach(function(t){return t.unbindAll()}),this.eventElements=[]},A.prototype.once=function(t,e,n){var i=this.eventElement(t),o=function(t){i.unbind(e,o),n(t)};i.bind(e,o)};var F={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function N(t){var e=t.element,n=Math.floor(e.scrollTop),i=e.getBoundingClientRect();t.containerWidth=Math.ceil(i.width),t.containerHeight=Math.ceil(i.height),t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(P(e,x("x")).forEach(function(t){return C(t)}),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(P(e,x("y")).forEach(function(t){return C(t)}),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=B(t,D(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=D((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=B(t,D(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=D(n*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,e){var n={width:e.railXWidth},i=Math.floor(t.scrollTop);n.left=e.isRtl?e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:t.scrollLeft,e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-i:n.top=e.scrollbarXTop+i,_(e.scrollbarXRail,n);var o={top:i,height:e.railYHeight};e.isScrollbarYUsingRight?o.right=e.isRtl?e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:e.scrollbarYRight-t.scrollLeft:o.left=e.isRtl?e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:e.scrollbarYLeft+t.scrollLeft,_(e.scrollbarYRail,o),_(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),_(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(e,t),t.scrollbarXActive?e.classList.add(w("x")):(e.classList.remove(w("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=!0===t.isRtl?t.contentWidth:0),t.scrollbarYActive?e.classList.add(w("y")):(e.classList.remove(w("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)}function B(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function U(t,e){var n=e[0],i=e[1],o=e[2],r=e[3],a=e[4],s=e[5],c=e[6],l=e[7],u=e[8],p=t.element,h=null,d=null,g=null;function f(e){e.touches&&e.touches[0]&&(e[o]=e.touches[0].pageY),p[c]=h+g*(e[o]-d),E(t,l),N(t),e.stopPropagation(),e.preventDefault()}function b(){I(t,l),t[u].classList.remove("ps--clicking"),t.event.unbind(t.ownerDocument,"mousemove",f)}function m(e,a){h=p[c],a&&e.touches&&(e[o]=e.touches[0].pageY),d=e[o],g=(t[i]-t[n])/(t[r]-t[s]),a?t.event.bind(t.ownerDocument,"touchmove",f):(t.event.bind(t.ownerDocument,"mousemove",f),t.event.once(t.ownerDocument,"mouseup",b),e.preventDefault()),t[u].classList.add("ps--clicking"),e.stopPropagation()}t.event.bind(t[a],"mousedown",function(t){m(t)}),t.event.bind(t[a],"touchstart",function(t){m(t,!0)})}var V={"click-rail":function(t){t.event.bind(t.scrollbarY,"mousedown",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarYRail,"mousedown",function(e){var n=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top;t.element.scrollTop+=(n>t.scrollbarYTop?1:-1)*t.containerHeight,N(t),e.stopPropagation()}),t.event.bind(t.scrollbarX,"mousedown",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarXRail,"mousedown",function(e){var n=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left;t.element.scrollLeft+=(n>t.scrollbarXLeft?1:-1)*t.containerWidth,N(t),e.stopPropagation()})},"drag-thumb":function(t){U(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),U(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(t){var e=t.element;t.event.bind(t.ownerDocument,"keydown",function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(v(e,":hover")||v(t.scrollbarX,":focus")||v(t.scrollbarY,":focus"))){var i,o=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(o){if("IFRAME"===o.tagName)o=o.contentDocument.activeElement;else for(;o.shadowRoot;)o=o.shadowRoot.activeElement;if(v(i=o,"input,[contenteditable]")||v(i,"select,[contenteditable]")||v(i,"textarea,[contenteditable]")||v(i,"button,[contenteditable]"))return}var r=0,a=0;switch(n.which){case 37:r=n.metaKey?-t.contentWidth:n.altKey?-t.containerWidth:-30;break;case 38:a=n.metaKey?t.contentHeight:n.altKey?t.containerHeight:30;break;case 39:r=n.metaKey?t.contentWidth:n.altKey?t.containerWidth:30;break;case 40:a=n.metaKey?-t.contentHeight:n.altKey?-t.containerHeight:-30;break;case 32:a=n.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:a=t.containerHeight;break;case 34:a=-t.containerHeight;break;case 36:a=t.contentHeight;break;case 35:a=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==r||t.settings.suppressScrollY&&0!==a||(e.scrollTop-=a,e.scrollLeft+=r,N(t),function(n,i){var o=Math.floor(e.scrollTop);if(0===n){if(!t.scrollbarYActive)return!1;if(0===o&&i>0||o>=t.contentHeight-t.containerHeight&&i<0)return!t.settings.wheelPropagation}var r=e.scrollLeft;if(0===i){if(!t.scrollbarXActive)return!1;if(0===r&&n<0||r>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}(r,a)&&n.preventDefault())}})},wheel:function(t){var e=t.element;function n(n){var i=function(t){var e=t.deltaX,n=-1*t.deltaY;return void 0!==e&&void 0!==n||(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!=e&&n!=n&&(e=0,n=t.wheelDelta),t.shiftKey?[-n,-e]:[e,n]}(n),o=i[0],r=i[1];if(!function(t,n,i){if(!F.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(t))return!1;for(var o=t;o&&o!==e;){if(o.classList.contains("ps__child--consume"))return!0;var r=m(o);if(i&&r.overflowY.match(/(scroll|auto)/)){var a=o.scrollHeight-o.clientHeight;if(a>0&&(o.scrollTop>0&&i<0||o.scrollTop<a&&i>0))return!0}if(n&&r.overflowX.match(/(scroll|auto)/)){var s=o.scrollWidth-o.clientWidth;if(s>0&&(o.scrollLeft>0&&n<0||o.scrollLeft<s&&n>0))return!0}o=o.parentNode}return!1}(n.target,o,r)){var a=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(r?e.scrollTop-=r*t.settings.wheelSpeed:e.scrollTop+=o*t.settings.wheelSpeed,a=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(o?e.scrollLeft+=o*t.settings.wheelSpeed:e.scrollLeft-=r*t.settings.wheelSpeed,a=!0):(e.scrollTop-=r*t.settings.wheelSpeed,e.scrollLeft+=o*t.settings.wheelSpeed),N(t),(a=a||function(n,i){var o=Math.floor(e.scrollTop),r=0===e.scrollTop,a=o+e.offsetHeight===e.scrollHeight,s=0===e.scrollLeft,c=e.scrollLeft+e.offsetWidth===e.scrollWidth;return!(Math.abs(i)>Math.abs(n)?r||a:s||c)||!t.settings.wheelPropagation}(o,r))&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}void 0!==window.onwheel?t.event.bind(e,"wheel",n):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",n)},touch:function(t){if(F.supportsTouch||F.supportsIePointer){var e=t.element,n={},i=0,o={},r=null;F.supportsTouch?(t.event.bind(e,"touchstart",l),t.event.bind(e,"touchmove",u),t.event.bind(e,"touchend",p)):F.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",l),t.event.bind(e,"pointermove",u),t.event.bind(e,"pointerup",p)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",l),t.event.bind(e,"MSPointerMove",u),t.event.bind(e,"MSPointerUp",p)))}function a(n,i){e.scrollTop-=i,e.scrollLeft-=n,N(t)}function s(t){return t.targetTouches?t.targetTouches[0]:t}function c(t){return!(t.pointerType&&"pen"===t.pointerType&&0===t.buttons||(!t.targetTouches||1!==t.targetTouches.length)&&(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function l(t){if(c(t)){var e=s(t);n.pageX=e.pageX,n.pageY=e.pageY,i=(new Date).getTime(),null!==r&&clearInterval(r)}}function u(r){if(c(r)){var l=s(r),u={pageX:l.pageX,pageY:l.pageY},p=u.pageX-n.pageX,h=u.pageY-n.pageY;if(function(t,n,i){if(!e.contains(t))return!1;for(var o=t;o&&o!==e;){if(o.classList.contains("ps__child--consume"))return!0;var r=m(o);if(i&&r.overflowY.match(/(scroll|auto)/)){var a=o.scrollHeight-o.clientHeight;if(a>0&&(o.scrollTop>0&&i<0||o.scrollTop<a&&i>0))return!0}if(n&&r.overflowX.match(/(scroll|auto)/)){var s=o.scrollWidth-o.clientWidth;if(s>0&&(o.scrollLeft>0&&n<0||o.scrollLeft<s&&n>0))return!0}o=o.parentNode}return!1}(r.target,p,h))return;a(p,h),n=u;var d=(new Date).getTime(),g=d-i;g>0&&(o.x=p/g,o.y=h/g,i=d),function(n,i){var o=Math.floor(e.scrollTop),r=e.scrollLeft,a=Math.abs(n),s=Math.abs(i);if(s>a){if(i<0&&o===t.contentHeight-t.containerHeight||i>0&&0===o)return 0===window.scrollY&&i>0&&F.isChrome}else if(a>s&&(n<0&&r===t.contentWidth-t.containerWidth||n>0&&0===r))return!0;return!0}(p,h)&&r.preventDefault()}}function p(){t.settings.swipeEasing&&(clearInterval(r),r=setInterval(function(){t.isInitialized?clearInterval(r):o.x||o.y?Math.abs(o.x)<.01&&Math.abs(o.y)<.01?clearInterval(r):(a(30*o.x,30*o.y),o.x*=.8,o.y*=.8):clearInterval(r)},10))}}},z=function(t,e){var n=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var i in this.element=t,t.classList.add("ps"),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},e)this.settings[i]=e[i];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var o,r,a=function(){return t.classList.add("ps--focus")},s=function(){return t.classList.remove("ps--focus")};this.isRtl="rtl"===m(t).direction,!0===this.isRtl&&t.classList.add("ps__rtl"),this.isNegativeScroll=(r=t.scrollLeft,t.scrollLeft=-1,o=t.scrollLeft<0,t.scrollLeft=r,o),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new A,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=y(x("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=y(M("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",a),this.event.bind(this.scrollbarX,"blur",s),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var c=m(this.scrollbarXRail);this.scrollbarXBottom=parseInt(c.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=D(c.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=D(c.borderLeftWidth)+D(c.borderRightWidth),_(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=D(c.marginLeft)+D(c.marginRight),_(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=y(x("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=y(M("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",a),this.event.bind(this.scrollbarY,"blur",s),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var l=m(this.scrollbarYRail);this.scrollbarYRight=parseInt(l.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=D(l.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(t){var e=m(t);return D(e.width)+D(e.paddingLeft)+D(e.paddingRight)+D(e.borderLeftWidth)+D(e.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=D(l.borderTopWidth)+D(l.borderBottomWidth),_(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=D(l.marginTop)+D(l.marginBottom),_(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(t){return V[t](n)}),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",function(t){return n.onScroll(t)}),N(this)};z.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,_(this.scrollbarXRail,{display:"block"}),_(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=D(m(this.scrollbarXRail).marginLeft)+D(m(this.scrollbarXRail).marginRight),this.railYMarginHeight=D(m(this.scrollbarYRail).marginTop)+D(m(this.scrollbarYRail).marginBottom),_(this.scrollbarXRail,{display:"none"}),_(this.scrollbarYRail,{display:"none"}),N(this),j(this,"top",0,!1,!0),j(this,"left",0,!1,!0),_(this.scrollbarXRail,{display:""}),_(this.scrollbarYRail,{display:""}))},z.prototype.onScroll=function(t){this.isAlive&&(N(this),j(this,"top",this.element.scrollTop-this.lastScrollTop),j(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},z.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),C(this.scrollbarX),C(this.scrollbarY),C(this.scrollbarXRail),C(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},z.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(t){return!t.match(/^ps([-_].+|)$/)}).join(" ")};var W=z,H=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some(function(t,i){return t[0]===e&&(n=i,!0)}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.__entries__;n<i.length;n++){var o=i[n];t.call(e,o[1],o[0])}},e}()}(),q="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Y="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),J="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Y):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},G=["top","right","bottom","left","width","height","size","weight"],X="undefined"!=typeof MutationObserver,K=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,i=!1,o=0;function r(){n&&(n=!1,t()),i&&s()}function a(){J(r)}function s(){var t=Date.now();if(n){if(t-o<2)return;i=!0}else n=!0,i=!1,setTimeout(a,20);o=t}return s}(this.refresh.bind(this))}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){q&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),X?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){q&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;G.some(function(t){return!!~n.indexOf(t)})&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Z=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var o=i[n];Object.defineProperty(t,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return t},$=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||Y},Q=it(0,0,0,0);function tt(t){return parseFloat(t)||0}function et(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(e,n){return e+tt(t["border-"+n+"-width"])},0)}var nt="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof $(t).SVGGraphicsElement}:function(t){return t instanceof $(t).SVGElement&&"function"==typeof t.getBBox};function it(t,e,n,i){return{x:t,y:e,width:n,height:i}}var ot=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=it(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t,e=(t=this.target,q?nt(t)?function(t){var e=t.getBBox();return it(0,0,e.width,e.height)}(t):function(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Q;var i=$(t).getComputedStyle(t),o=function(t){for(var e={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var o=i[n];e[o]=tt(t["padding-"+o])}return e}(i),r=o.left+o.right,a=o.top+o.bottom,s=tt(i.width),c=tt(i.height);if("border-box"===i.boxSizing&&(Math.round(s+r)!==e&&(s-=et(i,"left","right")+r),Math.round(c+a)!==n&&(c-=et(i,"top","bottom")+a)),!function(t){return t===$(t).document.documentElement}(t)){var l=Math.round(s+r)-e,u=Math.round(c+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(u)&&(c-=u)}return it(o.left,o.top,s,c)}(t):Q);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),rt=function(t,e){var n,i,o,r,a,s,c,l=(i=(n=e).x,o=n.y,r=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(s.prototype),Z(c,{x:i,y:o,width:r,height:a,top:o,right:i+r,bottom:a+o,left:i}),c);Z(this,{target:t,contentRect:l})},at=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new H,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof $(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new ot(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof $(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new rt(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),st="undefined"!=typeof WeakMap?new WeakMap:new H,ct=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=K.getInstance(),i=new at(e,n,this);st.set(this,i)};["observe","unobserve","disconnect"].forEach(function(t){ct.prototype[t]=function(){var e;return(e=st.get(this))[t].apply(e,arguments)}});var lt=void 0!==Y.ResizeObserver?Y.ResizeObserver:ct;function ut(t,e){if(1&t&&(f.ec(0,"div",3),f.Zb(1,"div",4),f.Zb(2,"div",5),f.Zb(3,"div",6),f.Zb(4,"div",7),f.dc()),2&t){const t=f.oc();f.Qb("ps-at-top",t.states.top)("ps-at-left",t.states.left)("ps-at-right",t.states.right)("ps-at-bottom",t.states.bottom),f.Jb(1),f.Qb("ps-indicator-show",t.indicatorY&&t.interaction),f.Jb(1),f.Qb("ps-indicator-show",t.indicatorX&&t.interaction),f.Jb(1),f.Qb("ps-indicator-show",t.indicatorX&&t.interaction),f.Jb(1),f.Qb("ps-indicator-show",t.indicatorY&&t.interaction)}}const pt=["*"],ht=new f.u("PERFECT_SCROLLBAR_CONFIG");class dt{constructor(t,e,n,i){this.x=t,this.y=e,this.w=n,this.h=i}}class gt{constructor(t,e){this.x=t,this.y=e}}const ft=["psScrollY","psScrollX","psScrollUp","psScrollDown","psScrollLeft","psScrollRight","psYReachEnd","psYReachStart","psXReachEnd","psXReachStart"];class bt{constructor(t={}){this.assign(t)}assign(t={}){for(const e in t)this[e]=t[e]}}let mt=(()=>{class t{constructor(t,e,n,o,r){this.zone=t,this.differs=e,this.elementRef=n,this.platformId=o,this.defaults=r,this.instance=null,this.ro=null,this.timeout=null,this.animation=null,this.configDiff=null,this.ngDestroy=new i.a,this.disabled=!1,this.psScrollY=new f.q,this.psScrollX=new f.q,this.psScrollUp=new f.q,this.psScrollDown=new f.q,this.psScrollLeft=new f.q,this.psScrollRight=new f.q,this.psYReachEnd=new f.q,this.psYReachStart=new f.q,this.psXReachEnd=new f.q,this.psXReachStart=new f.q}ngOnInit(){if(!this.disabled&&Object(b.z)(this.platformId)){const t=new bt(this.defaults);t.assign(this.config),this.zone.runOutsideAngular(()=>{this.instance=new W(this.elementRef.nativeElement,t)}),this.configDiff||(this.configDiff=this.differs.find(this.config||{}).create(),this.configDiff.diff(this.config||{})),this.zone.runOutsideAngular(()=>{this.ro=new lt(()=>{this.update()}),this.elementRef.nativeElement.children[0]&&this.ro.observe(this.elementRef.nativeElement.children[0]),this.ro.observe(this.elementRef.nativeElement)}),this.zone.runOutsideAngular(()=>{ft.forEach(t=>{const e=t.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`);Object(o.a)(this.elementRef.nativeElement,e).pipe(function(t,e=a.a){return n=()=>Object(p.a)(t,e),function(t){return t.lift(new l(n))};var n}(20),Object(h.a)(this.ngDestroy)).subscribe(e=>{this[t].emit(e)})})})}}ngOnDestroy(){Object(b.z)(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.complete(),this.ro&&this.ro.disconnect(),this.timeout&&"undefined"!=typeof window&&window.clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.instance&&this.instance.destroy()}),this.instance=null)}ngDoCheck(){!this.disabled&&this.configDiff&&Object(b.z)(this.platformId)&&this.configDiff.diff(this.config||{})&&(this.ngOnDestroy(),this.ngOnInit())}ngOnChanges(t){t.disabled&&!t.disabled.isFirstChange()&&Object(b.z)(this.platformId)&&t.disabled.currentValue!==t.disabled.previousValue&&(!0===t.disabled.currentValue?this.ngOnDestroy():!1===t.disabled.currentValue&&this.ngOnInit())}ps(){return this.instance}update(){"undefined"!=typeof window&&(this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout(()=>{if(!this.disabled&&this.configDiff)try{this.zone.runOutsideAngular(()=>{this.instance&&this.instance.update()})}catch(t){}},0))}geometry(t="scroll"){return new dt(this.elementRef.nativeElement[t+"Left"],this.elementRef.nativeElement[t+"Top"],this.elementRef.nativeElement[t+"Width"],this.elementRef.nativeElement[t+"Height"])}position(t=!1){return!t&&this.instance?new gt(this.instance.reach.x||0,this.instance.reach.y||0):new gt(this.elementRef.nativeElement.scrollLeft,this.elementRef.nativeElement.scrollTop)}scrollable(t="any"){const e=this.elementRef.nativeElement;return"any"===t?e.classList.contains("ps--active-x")||e.classList.contains("ps--active-y"):"both"===t?e.classList.contains("ps--active-x")&&e.classList.contains("ps--active-y"):e.classList.contains("ps--active-"+t)}scrollTo(t,e,n){this.disabled||(null==e&&null==n?this.animateScrolling("scrollTop",t,n):(null!=t&&this.animateScrolling("scrollLeft",t,n),null!=e&&this.animateScrolling("scrollTop",e,n)))}scrollToX(t,e){this.animateScrolling("scrollLeft",t,e)}scrollToY(t,e){this.animateScrolling("scrollTop",t,e)}scrollToTop(t,e){this.animateScrolling("scrollTop",t||0,e)}scrollToLeft(t,e){this.animateScrolling("scrollLeft",t||0,e)}scrollToRight(t,e){this.animateScrolling("scrollLeft",this.elementRef.nativeElement.scrollWidth-this.elementRef.nativeElement.clientWidth-(t||0),e)}scrollToBottom(t,e){this.animateScrolling("scrollTop",this.elementRef.nativeElement.scrollHeight-this.elementRef.nativeElement.clientHeight-(t||0),e)}scrollToElement(t,e,n){if("string"==typeof t&&(t=this.elementRef.nativeElement.querySelector(t)),t){const i=t.getBoundingClientRect(),o=this.elementRef.nativeElement.getBoundingClientRect();this.elementRef.nativeElement.classList.contains("ps--active-x")&&this.animateScrolling("scrollLeft",i.left-o.left+this.elementRef.nativeElement.scrollLeft+(e||0),n),this.elementRef.nativeElement.classList.contains("ps--active-y")&&this.animateScrolling("scrollTop",i.top-o.top+this.elementRef.nativeElement.scrollTop+(e||0),n)}}animateScrolling(t,e,n){if(this.animation&&(window.cancelAnimationFrame(this.animation),this.animation=null),n&&"undefined"!=typeof window){if(e!==this.elementRef.nativeElement[t]){let i=0,o=0,r=performance.now(),a=this.elementRef.nativeElement[t];const s=(a-e)/2,c=l=>{o+=Math.PI/(n/(l-r)),i=Math.round(e+s+s*Math.cos(o)),this.elementRef.nativeElement[t]===a&&(o>=Math.PI?this.animateScrolling(t,e,0):(this.elementRef.nativeElement[t]=i,a=this.elementRef.nativeElement[t],r=l,this.animation=window.requestAnimationFrame(c)))};window.requestAnimationFrame(c)}}else this.elementRef.nativeElement[t]=e}}return t.\u0275fac=function(e){return new(e||t)(f.Yb(f.F),f.Yb(f.y),f.Yb(f.o),f.Yb(f.I),f.Yb(ht,8))},t.\u0275dir=f.Tb({type:t,selectors:[["","perfectScrollbar",""]],inputs:{disabled:"disabled",config:["perfectScrollbar","config"]},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],features:[f.Hb]}),t})(),_t=(()=>{class t{constructor(t,e,n){this.zone=t,this.cdRef=e,this.platformId=n,this.states={},this.indicatorX=!1,this.indicatorY=!1,this.interaction=!1,this.scrollPositionX=0,this.scrollPositionY=0,this.scrollDirectionX=0,this.scrollDirectionY=0,this.usePropagationX=!1,this.usePropagationY=!1,this.allowPropagationX=!1,this.allowPropagationY=!1,this.stateTimeout=null,this.ngDestroy=new i.a,this.stateUpdate=new i.a,this.disabled=!1,this.usePSClass=!0,this.autoPropagation=!1,this.scrollIndicators=!1,this.psScrollY=new f.q,this.psScrollX=new f.q,this.psScrollUp=new f.q,this.psScrollDown=new f.q,this.psScrollLeft=new f.q,this.psScrollRight=new f.q,this.psYReachEnd=new f.q,this.psYReachStart=new f.q,this.psXReachEnd=new f.q,this.psXReachStart=new f.q}ngOnInit(){Object(b.z)(this.platformId)&&(this.stateUpdate.pipe(Object(h.a)(this.ngDestroy),Object(d.a)((t,e)=>t===e&&!this.stateTimeout)).subscribe(t=>{this.stateTimeout&&"undefined"!=typeof window&&(window.clearTimeout(this.stateTimeout),this.stateTimeout=null),"x"===t||"y"===t?(this.interaction=!1,"x"===t?(this.indicatorX=!1,this.states.left=!1,this.states.right=!1,this.autoPropagation&&this.usePropagationX&&(this.allowPropagationX=!1)):"y"===t&&(this.indicatorY=!1,this.states.top=!1,this.states.bottom=!1,this.autoPropagation&&this.usePropagationY&&(this.allowPropagationY=!1))):("left"===t||"right"===t?(this.states.left=!1,this.states.right=!1,this.states[t]=!0,this.autoPropagation&&this.usePropagationX&&(this.indicatorX=!0)):"top"!==t&&"bottom"!==t||(this.states.top=!1,this.states.bottom=!1,this.states[t]=!0,this.autoPropagation&&this.usePropagationY&&(this.indicatorY=!0)),this.autoPropagation&&"undefined"!=typeof window&&(this.stateTimeout=window.setTimeout(()=>{this.indicatorX=!1,this.indicatorY=!1,this.stateTimeout=null,this.interaction&&(this.states.left||this.states.right)&&(this.allowPropagationX=!0),this.interaction&&(this.states.top||this.states.bottom)&&(this.allowPropagationY=!0),this.cdRef.markForCheck()},500))),this.cdRef.markForCheck(),this.cdRef.detectChanges()}),this.zone.runOutsideAngular(()=>{if(this.directiveRef){const t=this.directiveRef.elementRef.nativeElement;Object(o.a)(t,"wheel").pipe(Object(h.a)(this.ngDestroy)).subscribe(t=>{!this.disabled&&this.autoPropagation&&this.checkPropagation(t,t.deltaX,t.deltaY)}),Object(o.a)(t,"touchmove").pipe(Object(h.a)(this.ngDestroy)).subscribe(t=>{if(!this.disabled&&this.autoPropagation){const e=t.touches[0].clientX,n=t.touches[0].clientY;this.checkPropagation(t,e-this.scrollPositionX,n-this.scrollPositionY),this.scrollPositionX=e,this.scrollPositionY=n}}),Object(r.a)(Object(o.a)(t,"ps-scroll-x").pipe(Object(g.a)("x")),Object(o.a)(t,"ps-scroll-y").pipe(Object(g.a)("y")),Object(o.a)(t,"ps-x-reach-end").pipe(Object(g.a)("right")),Object(o.a)(t,"ps-y-reach-end").pipe(Object(g.a)("bottom")),Object(o.a)(t,"ps-x-reach-start").pipe(Object(g.a)("left")),Object(o.a)(t,"ps-y-reach-start").pipe(Object(g.a)("top"))).pipe(Object(h.a)(this.ngDestroy)).subscribe(t=>{this.disabled||!this.autoPropagation&&!this.scrollIndicators||this.stateUpdate.next(t)})}}),window.setTimeout(()=>{ft.forEach(t=>{this.directiveRef&&(this.directiveRef[t]=this[t])})},0))}ngOnDestroy(){Object(b.z)(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.unsubscribe(),this.stateTimeout&&"undefined"!=typeof window&&window.clearTimeout(this.stateTimeout))}ngDoCheck(){if(Object(b.z)(this.platformId)&&!this.disabled&&this.autoPropagation&&this.directiveRef){const t=this.directiveRef.elementRef.nativeElement;this.usePropagationX=t.classList.contains("ps--active-x"),this.usePropagationY=t.classList.contains("ps--active-y")}}checkPropagation(t,e,n){this.interaction=!0;const i=e<0?-1:1,o=n<0?-1:1;(this.usePropagationX&&this.usePropagationY||this.usePropagationX&&(!this.allowPropagationX||this.scrollDirectionX!==i)||this.usePropagationY&&(!this.allowPropagationY||this.scrollDirectionY!==o))&&(t.preventDefault(),t.stopPropagation()),e&&(this.scrollDirectionX=i),n&&(this.scrollDirectionY=o),this.stateUpdate.next("interaction"),this.cdRef.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(f.Yb(f.F),f.Yb(f.i),f.Yb(f.I))},t.\u0275cmp=f.Sb({type:t,selectors:[["perfect-scrollbar"]],viewQuery:function(t,e){if(1&t&&f.ad(mt,3),2&t){let t;f.Fc(t=f.mc())&&(e.directiveRef=t.first)}},hostVars:4,hostBindings:function(t,e){2&t&&f.Qb("ps-show-limits",e.autoPropagation)("ps-show-active",e.scrollIndicators)},inputs:{disabled:"disabled",usePSClass:"usePSClass",autoPropagation:"autoPropagation",scrollIndicators:"scrollIndicators",config:"config"},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],ngContentSelectors:pt,decls:4,vars:5,consts:[[2,"position","static",3,"perfectScrollbar","disabled"],[1,"ps-content"],["class","ps-overlay",3,"ps-at-top","ps-at-left","ps-at-right","ps-at-bottom",4,"ngIf"],[1,"ps-overlay"],[1,"ps-indicator-top"],[1,"ps-indicator-left"],[1,"ps-indicator-right"],[1,"ps-indicator-bottom"]],template:function(t,e){1&t&&(f.vc(),f.ec(0,"div",0),f.ec(1,"div",1),f.uc(2),f.dc(),f.Sc(3,ut,5,16,"div",2),f.dc()),2&t&&(f.Qb("ps",e.usePSClass),f.wc("perfectScrollbar",e.config)("disabled",e.disabled),f.Jb(3),f.wc("ngIf",e.scrollIndicators))},directives:[mt,b.o],styles:["perfect-scrollbar{display:block;height:100%;max-height:100%;max-width:100%;overflow:hidden;position:relative;width:100%}perfect-scrollbar[hidden]{display:none}perfect-scrollbar[fxflex]{display:flex;flex-direction:column;height:auto;min-height:0;min-width:0}perfect-scrollbar[fxflex]>.ps{-webkit-box-flex:1;flex:1 1 auto;height:auto;min-height:0;min-width:0;width:auto}perfect-scrollbar[fxlayout]>.ps,perfect-scrollbar[fxlayout]>.ps>.ps-content{-webkit-box-align:inherit;-webkit-box-flex:1;-webkit-box-pack:inherit;align-content:inherit;align-items:inherit;display:flex;flex:1 1 auto;flex-direction:inherit;height:100%;justify-content:inherit;width:100%},perfect-scrollbar[fxlayout=row]>.ps,perfect-scrollbar[fxlayout=row]>.ps>.ps-content{flex-direction:row!important}perfect-scrollbar[fxlayout=column]>.ps,perfect-scrollbar[fxlayout=column]>.ps>.ps-content{flex-direction:column!important}perfect-scrollbar>.ps{display:block;height:100%;max-height:100%;max-width:100%;position:static;width:100%}perfect-scrollbar>.ps textarea{-ms-overflow-style:scrollbar}perfect-scrollbar>.ps>.ps-overlay{bottom:0;display:block;left:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{opacity:0;position:absolute;transition:opacity .3s ease-in-out}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{left:0;min-height:24px;min-width:100%}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{min-height:100%;min-width:24px;top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left{left:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{right:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom{bottom:0}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y{cursor:default;left:auto!important;right:0!important;top:0!important;transition:width .2s linear,opacity .2s linear,background-color .2s linear;width:10px}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y.ps--clicking,perfect-scrollbar>.ps.ps--active-y>.ps__rail-y:hover{width:15px}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x{bottom:0!important;cursor:default;height:10px;left:0!important;top:auto!important;transition:height .2s linear,opacity .2s linear,background-color .2s linear}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x.ps--clicking,perfect-scrollbar>.ps.ps--active-x>.ps__rail-x:hover{height:15px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-y{margin:0 0 10px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-x{margin:0 10px 0 0}perfect-scrollbar>.ps.ps--scrolling-x>.ps__rail-x,perfect-scrollbar>.ps.ps--scrolling-y>.ps__rail-y{background-color:#eee;opacity:.9}perfect-scrollbar.ps-show-always>.ps.ps--active-x>.ps__rail-x,perfect-scrollbar.ps-show-always>.ps.ps--active-y>.ps__rail-y{opacity:.6}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-top) .ps-indicator-top{background:linear-gradient(180deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-bottom) .ps-indicator-bottom{background:linear-gradient(0deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-left) .ps-indicator-left{background:linear-gradient(90deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-right) .ps-indicator-right{background:linear-gradient(270deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top{background:linear-gradient(180deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom{background:linear-gradient(0deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left{background:linear-gradient(90deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right{background:linear-gradient(270deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top.ps-indicator-show{opacity:1}",".ps{-ms-overflow-style:none;-ms-touch-action:auto;overflow:hidden!important;overflow-anchor:none;touch-action:auto}.ps__rail-x{bottom:0;height:15px}.ps__rail-x,.ps__rail-y{-webkit-transition:background-color .2s linear,opacity .2s linear;display:none;opacity:0;position:absolute;transition:background-color .2s linear,opacity .2s linear}.ps__rail-y{right:0;width:15px}.ps--active-x>.ps__rail-x,.ps--active-y>.ps__rail-y{background-color:transparent;display:block}.ps--focus>.ps__rail-x,.ps--focus>.ps__rail-y,.ps--scrolling-x>.ps__rail-x,.ps--scrolling-y>.ps__rail-y,.ps:hover>.ps__rail-x,.ps:hover>.ps__rail-y{opacity:.6}.ps .ps__rail-x.ps--clicking,.ps .ps__rail-x:focus,.ps .ps__rail-x:hover,.ps .ps__rail-y.ps--clicking,.ps .ps__rail-y:focus,.ps .ps__rail-y:hover{background-color:#eee;opacity:.9}.ps__thumb-x{-webkit-transition:background-color .2s linear,height .2s ease-in-out;bottom:2px;height:6px;transition:background-color .2s linear,height .2s ease-in-out}.ps__thumb-x,.ps__thumb-y{background-color:#aaa;border-radius:6px;position:absolute}.ps__thumb-y{-webkit-transition:background-color .2s linear,width .2s ease-in-out;right:2px;transition:background-color .2s linear,width .2s ease-in-out;width:6px}.ps__rail-x.ps--clicking .ps__thumb-x,.ps__rail-x:focus>.ps__thumb-x,.ps__rail-x:hover>.ps__thumb-x{background-color:#999;height:11px}.ps__rail-y.ps--clicking .ps__thumb-y,.ps__rail-y:focus>.ps__thumb-y,.ps__rail-y:hover>.ps__thumb-y{background-color:#999;width:11px}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){.ps{overflow:auto!important}}"],encapsulation:2}),t})(),yt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=f.Wb({type:t}),t.\u0275inj=f.Vb({imports:[[b.c],b.c]}),t})()},KwGI:function(t,e,n){"use strict";function i(t){return"undefined"!=typeof Float32Array?function(){var e=new Float32Array([-0]),n=new Uint8Array(e.buffer),i=128===n[3];function o(t,i,o){e[0]=t,i[o]=n[0],i[o+1]=n[1],i[o+2]=n[2],i[o+3]=n[3]}function r(t,i,o){e[0]=t,i[o]=n[3],i[o+1]=n[2],i[o+2]=n[1],i[o+3]=n[0]}function a(t,i){return n[0]=t[i],n[1]=t[i+1],n[2]=t[i+2],n[3]=t[i+3],e[0]}function s(t,i){return n[3]=t[i],n[2]=t[i+1],n[1]=t[i+2],n[0]=t[i+3],e[0]}t.writeFloatLE=i?o:r,t.writeFloatBE=i?r:o,t.readFloatLE=i?a:s,t.readFloatBE=i?s:a}():function(){function e(t,e,n,i){var o=e<0?1:0;if(o&&(e=-e),0===e)t(1/e>0?0:2147483648,n,i);else if(isNaN(e))t(2143289344,n,i);else if(e>34028234663852886e22)t((o<<31|2139095040)>>>0,n,i);else if(e<11754943508222875e-54)t((o<<31|Math.round(e/1401298464324817e-60))>>>0,n,i);else{var r=Math.floor(Math.log(e)/Math.LN2);t((o<<31|r+127<<23|8388607&Math.round(e*Math.pow(2,-r)*8388608))>>>0,n,i)}}function n(t,e,n){var i=t(e,n),o=2*(i>>31)+1,r=i>>>23&255,a=8388607&i;return 255===r?a?NaN:o*(1/0):0===r?1401298464324817e-60*o*a:o*Math.pow(2,r-150)*(a+8388608)}t.writeFloatLE=e.bind(null,o),t.writeFloatBE=e.bind(null,r),t.readFloatLE=n.bind(null,a),t.readFloatBE=n.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var e=new Float64Array([-0]),n=new Uint8Array(e.buffer),i=128===n[7];function o(t,i,o){e[0]=t,i[o]=n[0],i[o+1]=n[1],i[o+2]=n[2],i[o+3]=n[3],i[o+4]=n[4],i[o+5]=n[5],i[o+6]=n[6],i[o+7]=n[7]}function r(t,i,o){e[0]=t,i[o]=n[7],i[o+1]=n[6],i[o+2]=n[5],i[o+3]=n[4],i[o+4]=n[3],i[o+5]=n[2],i[o+6]=n[1],i[o+7]=n[0]}function a(t,i){return n[0]=t[i],n[1]=t[i+1],n[2]=t[i+2],n[3]=t[i+3],n[4]=t[i+4],n[5]=t[i+5],n[6]=t[i+6],n[7]=t[i+7],e[0]}function s(t,i){return n[7]=t[i],n[6]=t[i+1],n[5]=t[i+2],n[4]=t[i+3],n[3]=t[i+4],n[2]=t[i+5],n[1]=t[i+6],n[0]=t[i+7],e[0]}t.writeDoubleLE=i?o:r,t.writeDoubleBE=i?r:o,t.readDoubleLE=i?a:s,t.readDoubleBE=i?s:a}():function(){function e(t,e,n,i,o,r){var a=i<0?1:0;if(a&&(i=-i),0===i)t(0,o,r+e),t(1/i>0?0:2147483648,o,r+n);else if(isNaN(i))t(0,o,r+e),t(2146959360,o,r+n);else if(i>17976931348623157e292)t(0,o,r+e),t((a<<31|2146435072)>>>0,o,r+n);else{var s;if(i<22250738585072014e-324)t((s=i/5e-324)>>>0,o,r+e),t((a<<31|s/4294967296)>>>0,o,r+n);else{var c=Math.floor(Math.log(i)/Math.LN2);1024===c&&(c=1023),t(4503599627370496*(s=i*Math.pow(2,-c))>>>0,o,r+e),t((a<<31|c+1023<<20|1048576*s&1048575)>>>0,o,r+n)}}}function n(t,e,n,i,o){var r=t(i,o+e),a=t(i,o+n),s=2*(a>>31)+1,c=a>>>20&2047,l=4294967296*(1048575&a)+r;return 2047===c?l?NaN:s*(1/0):0===c?5e-324*s*l:s*Math.pow(2,c-1075)*(l+4503599627370496)}t.writeDoubleLE=e.bind(null,o,0,4),t.writeDoubleBE=e.bind(null,r,4,0),t.readDoubleLE=n.bind(null,a,0,4),t.readDoubleBE=n.bind(null,s,4,0)}(),t}function o(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function r(t,e,n){e[n]=t>>>24,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=255&t}function a(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function s(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}t.exports=i(i)},M34a:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("/Tr7"),o=n("jIYg");function r(t){Object(o.a)(1,arguments);var e=Object(i.a)(t);return e.setHours(0,0,0,0),e}},MFts:function(t,e,n){"use strict";t.exports=function(t,e){for(var n=new Array(arguments.length-1),i=0,o=2,r=!0;o<arguments.length;)n[i++]=arguments[o++];return new Promise(function(o,a){n[i]=function(t){if(r)if(r=!1,t)a(t);else{for(var e=new Array(arguments.length-1),n=0;n<e.length;)e[n++]=arguments[n];o.apply(null,e)}};try{t.apply(e||null,n)}catch(s){r&&(r=!1,a(s))}})}},MGUr:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"i",function(){return r}),n.d(e,"h",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"g",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"e",function(){return u}),n.d(e,"c",function(){return p}),n.d(e,"b",function(){return d});var i=n("HDdC");const o=t=>Object.assign(Object.assign({},t),{lngLat:{lng:t.latlng.lng(),lat:t.latlng.lat()}}),r=(t,e)=>{const{x:n,y:i}=t.getMapView().getContainerDivOffset();return e.clone().add(n,i)},a=t=>{const e=new naver.maps.Point(t.sw.lng,t.sw.lat),n=new naver.maps.Point(t.ne.lng,t.ne.lat);return new naver.maps.PointBounds(e,n)};function s(t,e){return new i.a(n=>{const i=t.addListener(e,t=>{n.next(t)});return()=>t.removeListener(i)})}function c(t,e){return(null==t?void 0:t.length)?t.reduce((t,n)=>{const i=e.map(t=>l(n,t));return t.push(...i),t},[]):t}function l(t,e){const n=Object.assign(Object.assign({},t),{geometry:Object.assign({},t.geometry)});if(n.geometry.mantle_properties="function"==typeof e?e(t):e,t.properties)return n}function u(t,e){return n=>(null==e?void 0:e.length)?e.reduce((e,[i,o])=>n.properties[i]&&t[o]?(void 0!==n.properties[i]&&(e[o]=n.properties[i]),e):e,Object.assign({},t)):t}function p(t,e,n,i=1/0,o=0){const r={width:t.max.x-t.min.x,height:t.min.y-t.max.y};let a=e.max.x-e.min.x,s=e.min.y-e.max.y;const c={x:a/2+e.min.x,y:s/2+e.max.y},l=Math.pow(.5,n);a=(e.max.x-e.min.x)*l,s=(e.min.y-e.max.y)*l;let u=0;for(;h(r,a,s)&&!(u>i);)u++,a*=2,s*=2;return u--,u=Math.min(Math.max(u,o),i),{zoom:u,centerPoint:c}}function h(t,e,n){return t.width>=e&&t.height>=n}function d(t,e,n,i,o,r,a,s){const{sw:c,ne:l}=r,u=a({lng:c.lng,lat:c.lat}),p=a({lng:l.lng,lat:l.lat});let h=p.x-u.x-i,d=u.y-p.y-o,g=n;for(;g!==e;)g>e?(g--,h*=2,d*=2):g<e&&(g++,h*=.5,d*=.5);const f=a(t),b=h/2,m=d/2,_=f.x+b,y=f.y-m;return{min:s({x:f.x-b,y:f.y+m}),max:s({x:_,y})}}},MHgl:function(t,e,n){"use strict";n.d(e,"a",function(){return h}),n.d(e,"N",function(){return f}),n.d(e,"A",function(){return b}),n.d(e,"z",function(){return m}),n.d(e,"R",function(){return _}),n.d(e,"I",function(){return y}),n.d(e,"J",function(){return O}),n.d(e,"i",function(){return v}),n.d(e,"E",function(){return C}),n.d(e,"T",function(){return M}),n.d(e,"O",function(){return x}),n.d(e,"K",function(){return w}),n.d(e,"H",function(){return k}),n.d(e,"G",function(){return S}),n.d(e,"Q",function(){return E}),n.d(e,"b",function(){return I}),n.d(e,"D",function(){return R}),n.d(e,"C",function(){return T}),n.d(e,"V",function(){return A}),n.d(e,"Z",function(){return L}),n.d(e,"F",function(){return j}),n.d(e,"M",function(){return F}),n.d(e,"h",function(){return N}),n.d(e,"c",function(){return B}),n.d(e,"Y",function(){return U}),n.d(e,"X",function(){return V}),n.d(e,"j",function(){return z}),n.d(e,"L",function(){return W}),n.d(e,"U",function(){return H}),n.d(e,"d",function(){return q}),n.d(e,"S",function(){return Y}),n.d(e,"W",function(){return J}),n.d(e,"ab",function(){return G}),n.d(e,"B",function(){return X}),n.d(e,"f",function(){return K}),n.d(e,"e",function(){return Z}),n.d(e,"P",function(){return $}),n.d(e,"g",function(){return tt}),n.d(e,"nb",function(){return kt}),n.d(e,"bb",function(){return St}),n.d(e,"sb",function(){return Et}),n.d(e,"vb",function(){return It}),n.d(e,"qb",function(){return Rt}),n.d(e,"wb",function(){return Tt}),n.d(e,"cb",function(){return At}),n.d(e,"ib",function(){return Lt}),n.d(e,"db",function(){return jt}),n.d(e,"ob",function(){return Dt}),n.d(e,"jb",function(){return Ft}),n.d(e,"fb",function(){return Nt}),n.d(e,"hb",function(){return Bt}),n.d(e,"ub",function(){return Ut}),n.d(e,"tb",function(){return Vt}),n.d(e,"mb",function(){return zt}),n.d(e,"rb",function(){return Wt}),n.d(e,"kb",function(){return Ht}),n.d(e,"pb",function(){return qt}),n.d(e,"eb",function(){return Yt}),n.d(e,"gb",function(){return Jt}),n.d(e,"lb",function(){return Gt}),n.d(e,"q",function(){return Xt}),n.d(e,"k",function(){return Kt}),n.d(e,"n",function(){return Zt}),n.d(e,"x",function(){return $t}),n.d(e,"l",function(){return Qt}),n.d(e,"t",function(){return te}),n.d(e,"p",function(){return ee}),n.d(e,"w",function(){return ne}),n.d(e,"v",function(){return ie}),n.d(e,"s",function(){return oe}),n.d(e,"m",function(){return re}),n.d(e,"o",function(){return ae}),n.d(e,"y",function(){return se}),n.d(e,"r",function(){return ce}),n.d(e,"u",function(){return le});var i=n("l7P3"),o=n("Q6WB"),r=n("jtLz"),a=n("rS+x"),s=n("/RaO"),c=n("gjNt");const l=t=>null!=t&&"object"==typeof t,u=(t,e)=>{const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(const o of n){const n=t[o],i=e[o],r=l(n)&&l(i);if(r&&!u(n,i)||!r&&n!==i)return!1}return!0};var p=u;const h="DIRECTIONS";var d=function(t){return t.SET_IN_DIRECTIONS="DIRECTIONS/SET_IN_DIRECTIONS",t.INITIAL_URL_PARSED="DIRECTIONS/INITIAL_PARSED_URL",t.INITIAL_MAP_MOVED="DIRECTIONS/INITIAL_MOVED_MAP",t.SET_MODE="DIRECTIONS/SET_MODE",t.SET_DRAFT="DIRECTIONS/SET_DRAFT",t.SET_DRAFT_ROW="DIRECTIONS/SET_DRAFT_ROW",t.FILL_DRAFT="DIRECTIONS/FILL_DRAFT",t.RESET="DIRECTIONS/RESET",t.TARGET_RESET="DIRECTIONS/TARGET_RESET",t.SET_ROUTES="DIRECTIONS/SET_ROUTES",t.SET_INSTANT_ROUTE="DIRECTIONS/SET_INSTANT_ROUTE",t.SET_ERROR="DIRECTIONS/SET_ERROR",t.SELECT_INDEX="DIRECTIONS/SELECT_INDEX",t.SELECT_DETAIL_INDEX="DIRECTIONS/SELECT_DETAIL_INDEX",t.LOADING="DIRECTIONS/LOADING",t.ADD_VIA="DIRECTIONS/ADD_VIA",t.REMOVE_BLANK_VIA="DIRECTIONS/REMOVE_BLANK_VIA",t.REMOVE_VIA="DIRECTIONS/REMOVE_VIA",t.SET_SEARCH_VIEW_MODE="DIRECTIONS/SET_SEARCH_VIEW_MODE",t.SWAP_START_AND_GOAL="DIRECTIONS/SWAP_START_AND_GOAL",t.SEARCH_BOX_EVENT="DIRECTIONS/SEARCH_BOX_EVENT",t.SET_DRAGGING="DIRECTIONS/SET_DRAGGING",t.SET_FOCUS="DIRECTIONS/FOCUS",t.DRAFT_DND="DIRECTIONS/DRAFT_DND",t.CHANGE_URL="DIRECTIONS/CHANGE_URL",t.SUMMARY_LOADING="DIRECTIONS/SUMMARY_LOADING",t.SET_TRANSIT_OPTION="DIRECTIONS/SET_TRANSIT_OPTION",t.FILL_TRANSIT_OPTION="DIRECTIONS/FILL_TRANSIT_OPTION",t.SET_FLAG_IMMEDIATELY_CHANGE_ROUTE="DIRECTIONS/SET_FLAG_IMMEDIATELY_CHANGE_ROUTE",t.SET_SEARCH_KEYWORD="DIRECTIONS/SET_SEARCH_KEYWORD",t.SET_NEXT_FOCUS_ORDER="DIRECTIONS/SET_NEXT_FOCUS_ORDER",t.SEARCH_WRAP_EVENT="DIRECTIONS/SEARCH_WRAP_EVENT",t.USE_AUTO_FOCUS="DIRECTIONS/USE_AUTO_FOCUS",t.CLICK_POI="DIRECTIONS/CLICK_MAP",t.POST_SET_DRAFT="DIRECTIONS/POST_SET_DRAFT",t.DIRECTIONS_NAVIGATE="DIRECTIONS/DIRECTIONS_NAVIGATE",t.DIRECTIONS_NAVIGATE_DETAIL="DIRECTIONS/DIRECTIONS_NAVIGATE_DETAIL",t.SET_IS_SHOWN_DETAIL="DIRECTIONS/SET_IS_SHOWN_DETAIL",t}({});const g={inDirections:!1,routeParams:null,availableSearchBoxes:[],searchWrapEvent:null,flagImmediatelyChangeRoute:!1,summaryLoading:!1,searchKeyword:null,transitOption:{requestDate:new Date,orderBy:o.o.Recommend,isStaticRoute:!1,isShowTransitTimeOption:!1},clickPoi:null,initialParsedUrl:!1,initialMovedMap:"ready",draft:{start:null,via:[],goal:null,mode:a.d.Transit},routes:[],instantRoute:null,error:null,hasBlankDraft:!0,selectIndex:null,selectDetailIndex:null,loading:!1,searchViewMode:o.i.Index,isAvailableAddWaypoint:!1,searchBoxEvent:null,dragging:!1,focus:null,useAutoFocus:!0,isShownDetail:!1},f=Object(i.n)(d.SET_IN_DIRECTIONS,Object(i.s)()),b=Object(i.n)(d.INITIAL_URL_PARSED),m=Object(i.n)(d.INITIAL_MAP_MOVED),_=Object(i.n)(d.SET_MODE,Object(i.s)()),y=Object(i.n)(d.SET_DRAFT,Object(i.s)()),O=Object(i.n)(d.SET_DRAFT_ROW,Object(i.s)()),v=Object(i.n)(d.FILL_DRAFT,Object(i.s)()),C=Object(i.n)(d.RESET),P=Object(i.n)(d.TARGET_RESET,Object(i.s)()),M=Object(i.n)(d.SET_ROUTES,Object(i.s)()),x=Object(i.n)(d.SET_INSTANT_ROUTE,Object(i.s)()),w=Object(i.n)(d.SET_ERROR,Object(i.s)()),k=Object(i.n)(d.SELECT_INDEX,Object(i.s)()),S=Object(i.n)(d.SELECT_DETAIL_INDEX,Object(i.s)()),E=Object(i.n)(d.LOADING),I=Object(i.n)(d.ADD_VIA),R=Object(i.n)(d.REMOVE_VIA,Object(i.s)()),T=Object(i.n)(d.REMOVE_BLANK_VIA),A=Object(i.n)(d.SET_SEARCH_VIEW_MODE,Object(i.s)()),L=Object(i.n)(d.SWAP_START_AND_GOAL),j=Object(i.n)(d.SEARCH_BOX_EVENT,Object(i.s)()),D=Object(i.n)(d.SET_DRAGGING,Object(i.s)()),F=Object(i.n)(d.SET_FOCUS,Object(i.s)()),N=Object(i.n)(d.DRAFT_DND,Object(i.s)()),B=Object(i.n)(d.CHANGE_URL,Object(i.s)()),U=Object(i.n)(d.SUMMARY_LOADING),V=Object(i.n)(d.SET_TRANSIT_OPTION,Object(i.s)()),z=Object(i.n)(d.FILL_TRANSIT_OPTION,Object(i.s)()),W=Object(i.n)(d.SET_FLAG_IMMEDIATELY_CHANGE_ROUTE,Object(i.s)()),H=Object(i.n)(d.SET_SEARCH_KEYWORD,Object(i.s)()),q=Object(i.n)(d.CLICK_POI,Object(i.s)()),Y=Object(i.n)(d.SET_NEXT_FOCUS_ORDER,Object(i.s)()),J=Object(i.n)(d.SEARCH_WRAP_EVENT,Object(i.s)()),G=Object(i.n)(d.USE_AUTO_FOCUS,Object(i.s)()),X=Object(i.n)(d.POST_SET_DRAFT),K=Object(i.n)(d.DIRECTIONS_NAVIGATE),Z=Object(i.n)(d.DIRECTIONS_NAVIGATE_DETAIL),$=Object(i.n)(d.SET_IS_SHOWN_DETAIL,Object(i.s)()),Q=Object(i.p)(g,Object(i.r)(f,(t,{payload:e})=>Object.assign(Object.assign({},t),{inDirections:e})),Object(i.r)(b,t=>Object.assign(Object.assign({},t),{initialParsedUrl:!0,initialMovedMap:"ready"===t.initialMovedMap?"pending":t.initialMovedMap})),Object(i.r)(m,t=>Object.assign(Object.assign({},t),{initialMovedMap:"pending"===t.initialMovedMap?"done":t.initialMovedMap})),Object(i.r)(_,(t,{payload:e})=>Object.assign(Object.assign({},t),{draft:Object.assign(Object.assign({},t.draft),{mode:e})})),Object(i.r)(y,(t,{payload:e})=>t.inDirections?p(t.draft,e)?t:Object.assign(Object.assign({},t),{routes:[],instantRoute:null,draft:Object.assign(Object.assign({},t.draft),e)}):Object.assign(Object.assign({},t),{draft:Object.assign({start:null,goal:null,via:null,mode:t.draft.mode},e)})),Object(i.r)(O,(t,{payload:e})=>{var n;const{searchBoxState:{type:i,order:o},poi:a}=e;return Object.assign(Object.assign({},t),{draft:Object.assign(Object.assign({},t.draft),{start:i===r.b.Start?a:t.draft.start,goal:i===r.b.Goal?a:t.draft.goal,via:(null===(n=t.draft.via)||void 0===n?void 0:n.map((t,e)=>i===r.b.Via&&e===o-1?a:t))||[]})})}),Object(i.r)(v,(t,{payload:e})=>p(t.draft,e)?t:Object.assign(Object.assign({},t),{draft:Object.assign(Object.assign({},t.draft),e)})),Object(i.r)(C,t=>Object.assign(Object.assign({},t),{draft:Object.assign(Object.assign({},g.draft),{mode:t.draft.mode}),focus:{last:null,nextOrder:null},routes:[],error:null,selectIndex:null,selectDetailIndex:null,loading:!1,summaryLoading:!1})),Object(i.r)(P,(t,{payload:e})=>Object.assign(Object.assign({},t),{draft:Object.assign(Object.assign({},t.draft),{start:e.type===r.b.Start?null:t.draft.start,goal:e.type===r.b.Goal?null:t.draft.goal,via:e.type===r.b.Via?t.draft.via.map((t,n)=>n===e.order-1?null:t):t.draft.via})})),Object(i.r)(M,(t,{payload:e})=>{const n=e.length?e[t.selectIndex]?t.selectIndex:0:t.selectIndex;return Object.assign(Object.assign({},t),{routes:e,error:null,instantRoute:null,selectIndex:n,loading:!1,summaryLoading:!1})}),Object(i.r)(x,(t,{payload:e})=>Object.assign(Object.assign({},t),{instantRoute:e})),Object(i.r)(w,(t,{payload:e})=>Object.assign(Object.assign({},t),{routes:[],error:e,selectIndex:null,selectDetailIndex:null,searchViewMode:o.i.SummaryList,loading:!1,summaryLoading:!1})),Object(i.r)(k,(t,{payload:e})=>Object.assign(Object.assign({},t),e===t.selectIndex?{}:{selectIndex:e})),Object(i.r)(S,(t,{payload:e})=>Object.assign(Object.assign({},t),{selectDetailIndex:e})),Object(i.r)(E,t=>Object.assign(Object.assign({},t),{loading:!0})),Object(i.r)(I,t=>{var e,n;const i=(null===(n=null===(e=t.draft)||void 0===e?void 0:e.via)||void 0===n?void 0:n.concat([null]))||[null];return Object.assign(Object.assign({},t),{draft:Object.assign(Object.assign({},t.draft),{via:i}),focus:Object.assign(Object.assign({},t.focus),{last:null,nextOrder:i.length})})}),Object(i.r)(R,(t,{payload:e})=>Object.assign(Object.assign({},t),{draft:Object.assign(Object.assign({},t.draft),{via:[...t.draft.via.slice(0,e),...t.draft.via.slice(e+1)]})})),Object(i.r)(T,t=>Object.assign(Object.assign({},t),{draft:Object.assign(Object.assign({},t.draft),{via:t.draft.via.filter(t=>!!t)})})),Object(i.r)(A,(t,{payload:e})=>{let n=e;const{draft:{mode:i,start:r,goal:s}}=t;return i===a.d.Transit&&r&&s?n=o.i.SummaryList:e===o.i.SummaryList&&t.hasBlankDraft&&(n=o.i.Index),Object.assign(Object.assign({},t),{searchViewMode:n})}),Object(i.r)(L,t=>Object.assign(Object.assign({},t),{draft:Object.assign(Object.assign({},t.draft),{start:t.draft.goal,goal:t.draft.start})})),Object(i.r)(j,(t,{payload:e})=>Object.assign(Object.assign({},t),{searchBoxEvent:e})),Object(i.r)(D,(t,{payload:e})=>Object.assign(Object.assign({},t),{dragging:e})),Object(i.r)(F,(t,{payload:e})=>Object.assign(Object.assign({},t),{focus:{last:e,nextOrder:null===e&&t.focus&&null!==t.focus.nextOrder&&t.focus.nextOrder||null}})),Object(i.r)(N,(t,{payload:e})=>{const{from:n,to:i}=e,{draft:o}=t,r=o.via&&o.via.length&&[o.start,...o.via,o.goal]||[o.start,o.goal],a=Object.assign({},r[n.order]);return r.splice(n.order,1),r.splice(i.order,0,a),Object.assign(Object.assign({},t),{draft:Object.assign(Object.assign({},t.draft),{start:r[0],via:r.length>2&&r.slice(1,r.length-1)||[],goal:r[r.length-1]})})}),Object(i.r)(B,(t,{payload:e})=>Object.assign(Object.assign({},t),{routeParams:e})),Object(i.r)(U,t=>Object.assign(Object.assign({},t),{summaryLoading:!0})),Object(i.r)(V,(t,{payload:e})=>Object.assign(Object.assign({},t),{transitOption:e})),Object(i.r)(z,(t,{payload:e})=>Object.assign(Object.assign({},t),{transitOption:e})),Object(i.r)(W,(t,{payload:e})=>Object.assign(Object.assign({},t),{flagImmediatelyChangeRoute:e})),Object(i.r)(H,(t,{payload:e})=>Object.assign(Object.assign({},t),{searchKeyword:e})),Object(i.r)(q,(t,{payload:e})=>Object.assign(Object.assign({},t),{clickPoi:e})),Object(i.r)(Y,(t,{payload:e})=>Object.assign(Object.assign({},t),{focus:{last:null,nextOrder:e}})),Object(i.r)(J,(t,{payload:e})=>Object.assign(Object.assign({},t),{searchWrapEvent:e})),Object(i.r)(G,(t,{payload:e})=>Object.assign(Object.assign({},t),{useAutoFocus:e})),Object(i.r)(X,t=>{var e;const{draft:n}=t,i=[n.start,...n.via||[],n.goal],o=i.filter(t=>!t).length>0;return Object.assign(Object.assign({},t),{availableSearchBoxes:i.map((t,e,n)=>{let i;return i=0===e?r.b.Start:e===n.length-1?r.b.Goal:r.b.Via,{type:i,order:e,draft:t,query:(null==t?void 0:t.name)||""}}),hasBlankDraft:o,isAvailableAddWaypoint:n.mode!==a.d.Transit&&(null===(e=n.via)||void 0===e?void 0:e.length)<s.G})}),Object(i.r)($,(t,{payload:e})=>Object.assign(Object.assign({},t),{isShownDetail:e}))),tt=(t,e)=>Q(t,e),et=Object(i.o)(h),nt=Object(i.q)(et,t=>t.inDirections),it=Object(i.q)(et,t=>t.routeParams),ot=Object(i.q)(et,t=>t.availableSearchBoxes),rt=Object(i.q)(et,t=>t.searchWrapEvent),at=Object(i.q)(et,t=>t.flagImmediatelyChangeRoute),st=Object(i.q)(et,t=>t.summaryLoading),ct=Object(i.q)(et,t=>t.searchKeyword),lt=Object(i.q)(et,t=>t.transitOption),ut=Object(i.q)(et,t=>t.clickPoi),pt=Object(i.q)(et,t=>t.initialMovedMap),ht=Object(i.q)(et,t=>t.draft),dt=Object(i.q)(et,t=>t.routes),gt=Object(i.q)(et,t=>t.instantRoute),ft=Object(i.q)(et,t=>t.error),bt=Object(i.q)(et,t=>{const{draft:{mode:e,start:n,goal:i},hasBlankDraft:o}=t;return!(e===a.d.Transit&&n&&i)&&o}),mt=Object(i.q)(et,t=>t.selectIndex),_t=Object(i.q)(et,t=>t.selectDetailIndex),yt=Object(i.q)(et,t=>t.loading),Ot=Object(i.q)(et,t=>t.searchViewMode),vt=Object(i.q)(et,t=>t.isAvailableAddWaypoint),Ct=Object(i.q)(et,t=>t.searchBoxEvent),Pt=Object(i.q)(et,t=>t.dragging),Mt=Object(i.q)(et,t=>t.focus),xt=Object(i.q)(et,t=>t.useAutoFocus),wt=Object(i.q)(et,t=>t.isShownDetail),kt=t=>t.pipe(Object(i.t)(it)),St=t=>t.pipe(Object(i.t)(ot)),Et=t=>t.pipe(Object(i.t)(rt)),It=t=>t.pipe(Object(i.t)(st)),Rt=t=>t.pipe(Object(i.t)(ct)),Tt=t=>t.pipe(Object(i.t)(lt)),At=t=>t.pipe(Object(i.t)(ut)),Lt=t=>t.pipe(Object(i.t)(pt)),jt=t=>t.pipe(Object(i.t)(ht)),Dt=t=>t.pipe(Object(i.t)(dt)),Ft=t=>t.pipe(Object(i.t)(gt)),Nt=t=>t.pipe(Object(i.t)(ft)),Bt=t=>t.pipe(Object(i.t)(bt)),Ut=t=>t.pipe(Object(i.t)(mt)),Vt=t=>t.pipe(Object(i.t)(_t)),zt=t=>t.pipe(Object(i.t)(yt)),Wt=t=>t.pipe(Object(i.t)(Ot)),Ht=t=>t.pipe(Object(i.t)(vt)),qt=t=>t.pipe(Object(i.t)(Ct)),Yt=t=>t.pipe(Object(i.t)(Pt)),Jt=t=>t.pipe(Object(i.t)(Mt)),Gt=t=>t.pipe(Object(i.t)(wt)),Xt=t=>Object(c.a)((t=>t.pipe(Object(i.t)(nt)))(t)),Kt=t=>Object(c.a)(St(t)),Zt=t=>Object(c.a)((t=>t.pipe(Object(i.t)(at)))(t)),$t=t=>Object(c.a)(Tt(t)),Qt=t=>Object(c.a)(jt(t)),te=t=>Object(c.a)(Dt(t)),ee=t=>Object(c.a)(Bt(t)),ne=t=>Object(c.a)(Ut(t)),ie=t=>Object(c.a)(Vt(t)),oe=t=>Object(c.a)(zt(t)),re=t=>Object(c.a)(Yt(t)),ae=t=>Object(c.a)(Jt(t)),se=t=>Object(c.a)((t=>t.pipe(Object(i.t)(xt)))(t)),ce=t=>Object(c.a)(Gt(t)),le=t=>Object(c.a)(Wt(t))},MoEl:function(t,e,n){"use strict";var i=n("k67y");n.d(e,"a",function(){return i.a})},MwMu:function(t,e,n){"use strict";n.d(e,"a",function(){return y});var i=n("fXoL"),o=n("/rf6"),r=n("eRUA"),a=n("ERKp"),s=n("/RaO"),c=n("+sev"),l=n("ApIJ"),u=n("/GXd"),p=n("qKIp"),h=n("Q63R"),d=n("XrBI"),g=n("Pbce"),f=n("UWCo"),b=n.n(f),m=n("635J"),_=n.n(m);let y=(()=>{class t{constructor(t,e,n,o){this.maps=t,this.commonRouteSvc=e,this.localStorage=n,this.apiSvc=o,this.events=new i.q,this.featureMap=new Map,this.visibleStateDataKeys=[],this._active=!1,this._active=!this.localStorage.get(s.Jb)||"Y"===this.localStorage.get(s.Jb)}get active(){return this._active}activate(){this.localStorage.set(s.Jb,"Y"),this._active=!0,this.updateAccidentInfo()}deactivate(){this.localStorage.set(s.Jb,"N"),this._active=!1,this.removeData()}addData(){const t=this.maps.getBounds(),e=b()([t.sw.lng,t.sw.lat,t.ne.lng,t.ne.lat]),n=this.dataList.reduce((t,n)=>{if(!_()(Object(o.point)(n.coordinates),e))return t;const i=n.properties.__key;return this.featureMap.has(i)?this.showData(i):t.has(i)||t.set(i,n),t},new Map);this.addFeatures(Array.from(n.values())).forEach(t=>{this.featureMap.set(t.getRaw().properties.__key,t)})}removeData(){var t;(null===(t=this.featureMap)||void 0===t?void 0:t.size)&&(this.removeFeatures(Array.from(this.featureMap.values())),this.featureMap.clear())}showData(t){this.maps.updateFeatureStyle(this.featureMap.get(t),{visible:!0})}hideData(){var t;(null===(t=this.featureMap)||void 0===t?void 0:t.size)&&Array.from(this.featureMap.values()).forEach(t=>{this.maps.updateFeatureStyle(t,{visible:!1})})}getAccidentsInfo(){return this.apiSvc.getAccidentsInfo()}updateAccidentInfo(){this.getAccidentsInfo().subscribe(t=>{const e=a.TrafficEventSet.read(new r(t));this.dataList=this.parseAccidentsData(e),this.featureMap.clear(),this.updateFeatures()})}getVisibleStateDataKeys(){return this.visibleStateDataKeys}addFeatures(t){return t.map(t=>{const e=this.createFeature(t);return this.listenClick(e),e})}removeFeatures(t){t.forEach(t=>this.maps.removeMapsFeature(t))}updateFeatures(){if(!this.dataList)return;const t=this.maps.getZoom();this.isEnableTrafficMode()&&(t<s.a?this.hideData():this.addData())}isEnableTrafficMode(){const t=this.commonRouteSvc.getRouterParams();return t.coordinates&&t.coordinates.mapLayers&&0!==t.coordinates.mapLayers.length&&t.coordinates.mapLayers.includes(c.f.Traffic)}parseAccidentsData(t){if(!t.trafficEvents)return[];const e=[];return t.trafficEvents.forEach(t=>{t.multiLine?t.multiLine.line.forEach(n=>{n.point.forEach(n=>{if(n){const i=Object(g.f)(t);i.multiLine=null,i.point=n,e.push(i)}})}):t.point&&e.push(t)}),e.map(e=>{const n=e.point,{pointX:i,pointY:o}=n,r=e.schedule;let a,s;switch(e.eventCode){case u.a.Accident:a="\uc0ac\uace0",s=u.b.Accident;break;case u.a.Construction:a="\uacf5\uc0ac",s=u.b.Construction;break;case u.a.Disaster:a="\uc7ac\ud574",s=u.b.Disaster;break;case u.a.Event:a="\ud589\uc0ac",s=u.b.Event;break;case u.a.Restrict:a="\ud1b5\uc81c",s=u.b.Restrict;break;default:a="\uae30\ud0c0",s=u.b.Etc}const c=e.description.split(" ").slice(0,2).join(" "),l=t.eventCps.filter(t=>t.code===e.cpCode).map(t=>t.name).join("");return{properties:{ico:s,title:c,description:e.description.replace(`[${a}] `,""),startDate:1e3*r.startTimeExpect,endDate:1e3*r.endTimeExpect,x:i,y:o,cpName:l,__key:`${c}:${i}:${o}`},coordinates:[i,o]}})}createFeature({coordinates:t,properties:e}){const n=this.maps.createFeature(Object(o.point)(t,e));return this.maps.setFeatureStyle(n,{icon:this.maps.createImageIcon(e.ico,naver.maps.Position.CENTER),clickable:!0}),this.maps.addMapsFeature(n),n}listenClick(t){t.addListener("click",e=>{this.events.emit({type:u.c.Click,data:t.getRaw(),event:e.domEvent})})}}return t.\u0275fac=function(e){return new(e||t)(i.ic(d.a),i.ic(l.e),i.ic(p.a),i.ic(h.a))},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},NALf:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("2Vo4"),o=n("ENmB"),r=n("fXoL");let a=(()=>{class t{constructor(t){this._printViweContentInfo=null,this._printViewState=new i.a(o.b.Hide),this._events=new i.a(null),this._renderer=t.createRenderer(null,null),this._printViewState.subscribe(t=>{this.emit(t)})}get events(){return this._events}isPrintViewMode(){return this._printViewState.getValue()===o.b.Show}showPrintView(t){this.setPrintViewContentInfo(t),this._printViewState.next(o.b.Show)}hidePrintView(){this._printViewState.next(o.b.Hide)}setPrintViewContentInfo(t){this._printViweContentInfo=t}getPrintViewContentInfo(){return this._printViweContentInfo}resetPrintViewContentInfo(){this._printViweContentInfo=null}attachContent(t,e){this._renderer.appendChild(t,e)}detachContent(t,e){this._renderer.removeChild(t,e)}setStyle(t,e,n){this._renderer.setStyle(t,e,n)}removeStyle(t,e){this._renderer.removeStyle(t,e)}emit(t){this._events.next({data:t})}}return t.\u0275fac=function(e){return new(e||t)(r.ic(r.M))},t.\u0275prov=r.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"NZ/Q":function(t,e,n){"use strict";var i,o,r,a=n("VDtp"),s=a.Reader,c=a.util,l=a.roots.default||(a.roots.default={});l.directions=((r={}).Response=function(){function t(t){if(this.routes=[],this.routeOptionEntries=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.code=0,t.prototype.message="",t.prototype.currentDateTime="",t.prototype.dataVersion=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.imageJunctionViewVersion="",t.prototype.crs=null,t.prototype.routes=c.emptyArray,t.prototype.routeOptionEntries=c.emptyArray,t.prototype.keyValueTagMap=null,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:i.code=t.int32();break;case 2:i.message=t.string();break;case 3:i.currentDateTime=t.string();break;case 5:i.dataVersion=t.int64();break;case 6:i.imageJunctionViewVersion=t.string();break;case 11:i.crs=l.directions.Crs.decode(t,t.uint32());break;case 21:i.routes&&i.routes.length||(i.routes=[]),i.routes.push(l.directions.Response.Route.decode(t,t.uint32()));break;case 22:i.routeOptionEntries&&i.routeOptionEntries.length||(i.routeOptionEntries=[]),i.routeOptionEntries.push(l.directions.Response.RouteOptionEntry.decode(t,t.uint32()));break;case 23:i.keyValueTagMap=l.directions.KeyValueTagMap.decode(t,t.uint32());break;default:t.skipType(7&o)}}return i},t.Route=function(){function t(t){if(this.sections=[],this.guides=[],this.expressways=[],this.links=[],this.traffics=[],this.safeties=[],this.pois=[],this.lanes=[],this.accidents=[],this.aroundSearchPoints=[],this.cctvs=[],this.junctionViews=[],this.accidentSummaries=[],this.roads=[],this.intersectionTbts=[],this.trafficDebugs=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.summary=null,t.prototype.path=null,t.prototype.sections=c.emptyArray,t.prototype.guides=c.emptyArray,t.prototype.expressways=c.emptyArray,t.prototype.links=c.emptyArray,t.prototype.traffics=c.emptyArray,t.prototype.safeties=c.emptyArray,t.prototype.pois=c.emptyArray,t.prototype.lanes=c.emptyArray,t.prototype.accidents=c.emptyArray,t.prototype.aroundSearchPoints=c.emptyArray,t.prototype.cctvs=c.emptyArray,t.prototype.junctionViews=c.emptyArray,t.prototype.accidentSummaries=c.emptyArray,t.prototype.roads=c.emptyArray,t.prototype.intersectionTbts=c.emptyArray,t.prototype.trafficDebugs=c.emptyArray,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:i.summary=l.directions.Response.Route.Summary.decode(t,t.uint32());break;case 2:i.path=l.directions.Response.Route.Path.decode(t,t.uint32());break;case 3:i.sections&&i.sections.length||(i.sections=[]),i.sections.push(l.directions.Response.Route.Section.decode(t,t.uint32()));break;case 4:i.guides&&i.guides.length||(i.guides=[]),i.guides.push(l.directions.Response.Route.Guide.decode(t,t.uint32()));break;case 5:i.expressways&&i.expressways.length||(i.expressways=[]),i.expressways.push(l.directions.Response.Route.Expressway.decode(t,t.uint32()));break;case 6:i.links&&i.links.length||(i.links=[]),i.links.push(l.directions.Response.Route.Link.decode(t,t.uint32()));break;case 7:i.traffics&&i.traffics.length||(i.traffics=[]),i.traffics.push(l.directions.Response.Route.Traffic.decode(t,t.uint32()));break;case 8:i.safeties&&i.safeties.length||(i.safeties=[]),i.safeties.push(l.directions.Response.Route.Safety.decode(t,t.uint32()));break;case 9:i.pois&&i.pois.length||(i.pois=[]),i.pois.push(l.directions.Response.Route.Poi.decode(t,t.uint32()));break;case 10:i.lanes&&i.lanes.length||(i.lanes=[]),i.lanes.push(l.directions.Response.Route.Lane.decode(t,t.uint32()));break;case 11:i.accidents&&i.accidents.length||(i.accidents=[]),i.accidents.push(l.directions.Response.Route.Accident.decode(t,t.uint32()));break;case 12:i.aroundSearchPoints&&i.aroundSearchPoints.length||(i.aroundSearchPoints=[]),i.aroundSearchPoints.push(l.directions.Response.Route.AroundSearchPoint.decode(t,t.uint32()));break;case 13:i.cctvs&&i.cctvs.length||(i.cctvs=[]),i.cctvs.push(l.directions.Response.Route.Cctv.decode(t,t.uint32()));break;case 14:i.junctionViews&&i.junctionViews.length||(i.junctionViews=[]),i.junctionViews.push(l.directions.Response.Route.JunctionView.decode(t,t.uint32()));break;case 15:i.accidentSummaries&&i.accidentSummaries.length||(i.accidentSummaries=[]),i.accidentSummaries.push(l.directions.Response.Route.AccidentSummary.decode(t,t.uint32()));break;case 16:i.roads&&i.roads.length||(i.roads=[]),i.roads.push(l.directions.Response.Route.Road.decode(t,t.uint32()));break;case 17:i.intersectionTbts&&i.intersectionTbts.length||(i.intersectionTbts=[]),i.intersectionTbts.push(l.directions.Response.Route.IntersectionTbt.decode(t,t.uint32()));break;case 101:i.trafficDebugs&&i.trafficDebugs.length||(i.trafficDebugs=[]),i.trafficDebugs.push(l.directions.Response.Route.TrafficDebug.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return i},t.Position=function(){function t(t){if(this.tags=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tags=c.emptyArray,t.prototype.location=null,t.prototype.place=null,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route.Position;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.tags&&i.tags.length||(i.tags=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.tags.push(t.uint32());else i.tags.push(t.uint32());break;case 2:i.location=l.directions.Location.decode(t,t.uint32());break;case 21:i.place=l.directions.Response.Route.Position.Place.decode(t,t.uint32());break;default:t.skipType(7&o)}}return i},t.Place=function(){function t(t){if(this.tags=[],this.locations=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tags=c.emptyArray,t.prototype.locations=c.emptyArray,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route.Position.Place;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.tags&&i.tags.length||(i.tags=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.tags.push(t.uint32());else i.tags.push(t.uint32());break;case 2:i.locations&&i.locations.length||(i.locations=[]),i.locations.push(l.directions.Location.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return i},t}(),t}(),t.Lane=function(){function t(t){if(this.tags=[],this.units=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tags=c.emptyArray,t.prototype.units=c.emptyArray,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route.Lane;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.tags&&i.tags.length||(i.tags=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.tags.push(t.uint32());else i.tags.push(t.uint32());break;case 2:i.units&&i.units.length||(i.units=[]),i.units.push(l.directions.Response.Route.Lane.Unit.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return i},t.Unit=function(){function t(t){if(this.tags=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tags=c.emptyArray,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route.Lane.Unit;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.tags&&i.tags.length||(i.tags=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.tags.push(t.uint32());else i.tags.push(t.uint32());break;default:t.skipType(7&o)}}return i},t}(),t}(),t.Summary=function(){function t(t){if(this.tags=[],this.waypoints=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tags=c.emptyArray,t.prototype.bbox=null,t.prototype.start=null,t.prototype.goal=null,t.prototype.waypoints=c.emptyArray,t.prototype.eye=null,t.prototype.lookAt=null,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route.Summary;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.tags&&i.tags.length||(i.tags=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.tags.push(t.uint32());else i.tags.push(t.uint32());break;case 2:i.bbox=l.directions.BoundBox.decode(t,t.uint32());break;case 11:i.start=l.directions.Response.Route.Position.decode(t,t.uint32());break;case 12:i.goal=l.directions.Response.Route.Position.decode(t,t.uint32());break;case 13:i.waypoints&&i.waypoints.length||(i.waypoints=[]),i.waypoints.push(l.directions.Response.Route.Position.decode(t,t.uint32()));break;case 14:i.eye=l.directions.Location.decode(t,t.uint32());break;case 15:i.lookAt=l.directions.Location.decode(t,t.uint32());break;default:t.skipType(7&o)}}return i},t}(),t.Path=function(){function t(t){if(this.coords=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.coords=c.emptyArray,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route.Path;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.coords&&i.coords.length||(i.coords=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.coords.push(t.sint64());else i.coords.push(t.sint64());break;default:t.skipType(7&o)}}return i},t}(),t.Section=function(){function t(t){if(this.tags=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tags=c.emptyArray,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route.Section;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.tags&&i.tags.length||(i.tags=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.tags.push(t.uint32());else i.tags.push(t.uint32());break;default:t.skipType(7&o)}}return i},t}(),t.Road=function(){function t(t){if(this.tags=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tags=c.emptyArray,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route.Road;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.tags&&i.tags.length||(i.tags=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.tags.push(t.uint32());else i.tags.push(t.uint32());break;default:t.skipType(7&o)}}return i},t}(),t.Guide=function(){function t(t){if(this.tags=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tags=c.emptyArray,t.prototype.viewPoint=null,t.prototype.eye=null,t.prototype.lookAt=null,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route.Guide;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.tags&&i.tags.length||(i.tags=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.tags.push(t.uint32());else i.tags.push(t.uint32());break;case 2:i.viewPoint=l.directions.Location.decode(t,t.uint32());break;case 3:i.eye=l.directions.Location.decode(t,t.uint32());break;case 4:i.lookAt=l.directions.Location.decode(t,t.uint32());break;default:t.skipType(7&o)}}return i},t}(),t.Link=function(){function t(t){if(this.tags=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tags=c.emptyArray,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route.Link;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.tags&&i.tags.length||(i.tags=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.tags.push(t.uint32());else i.tags.push(t.uint32());break;default:t.skipType(7&o)}}return i},t}(),t.Traffic=function(){function t(t){if(this.tags=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tags=c.emptyArray,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route.Traffic;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.tags&&i.tags.length||(i.tags=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.tags.push(t.uint32());else i.tags.push(t.uint32());break;default:t.skipType(7&o)}}return i},t}(),t.Safety=function(){function t(t){if(this.tags=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tags=c.emptyArray,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route.Safety;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.tags&&i.tags.length||(i.tags=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.tags.push(t.uint32());else i.tags.push(t.uint32());break;default:t.skipType(7&o)}}return i},t}(),t.Poi=function(){function t(t){if(this.tags=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tags=c.emptyArray,t.prototype.gasStationItem=null,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route.Poi;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.tags&&i.tags.length||(i.tags=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.tags.push(t.uint32());else i.tags.push(t.uint32());break;case 2:i.gasStationItem=l.directions.Response.Route.Poi.GasStationItem.decode(t,t.uint32());break;default:t.skipType(7&o)}}return i},t.GasStationItem=function(){function t(t){if(this.tags=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tags=c.emptyArray,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route.Poi.GasStationItem;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.tags&&i.tags.length||(i.tags=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.tags.push(t.uint32());else i.tags.push(t.uint32());break;default:t.skipType(7&o)}}return i},t}(),t}(),t.AroundSearchPoint=function(){function t(t){if(this.tags=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tags=c.emptyArray,t.prototype.location=null,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route.AroundSearchPoint;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.tags&&i.tags.length||(i.tags=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.tags.push(t.uint32());else i.tags.push(t.uint32());break;case 2:i.location=l.directions.Location.decode(t,t.uint32());break;default:t.skipType(7&o)}}return i},t}(),t.Accident=function(){function t(t){if(this.tags=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tags=c.emptyArray,t.prototype.location=null,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route.Accident;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.tags&&i.tags.length||(i.tags=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.tags.push(t.uint32());else i.tags.push(t.uint32());break;case 2:i.location=l.directions.Location.decode(t,t.uint32());break;default:t.skipType(7&o)}}return i},t}(),t.AccidentSummary=function(){function t(t){if(this.tags=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tags=c.emptyArray,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route.AccidentSummary;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.tags&&i.tags.length||(i.tags=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.tags.push(t.uint32());else i.tags.push(t.uint32());break;default:t.skipType(7&o)}}return i},t}(),t.Expressway=function(){function t(t){if(this.units=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.units=c.emptyArray,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route.Expressway;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:i.units&&i.units.length||(i.units=[]),i.units.push(l.directions.Response.Route.Expressway.Unit.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return i},t.Unit=function(){function t(t){if(this.tags=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tags=c.emptyArray,t.prototype.restArea=null,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route.Expressway.Unit;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.tags&&i.tags.length||(i.tags=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.tags.push(t.uint32());else i.tags.push(t.uint32());break;case 2:i.restArea=l.directions.Response.Route.Expressway.Unit.RestArea.decode(t,t.uint32());break;default:t.skipType(7&o)}}return i},t.RestArea=function(){function t(t){if(this.tags=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tags=c.emptyArray,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route.Expressway.Unit.RestArea;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.tags&&i.tags.length||(i.tags=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.tags.push(t.uint32());else i.tags.push(t.uint32());break;default:t.skipType(7&o)}}return i},t}(),t}(),t}(),t.Cctv=function(){function t(t){if(this.tags=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tags=c.emptyArray,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route.Cctv;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.tags&&i.tags.length||(i.tags=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.tags.push(t.uint32());else i.tags.push(t.uint32());break;default:t.skipType(7&o)}}return i},t}(),t.JunctionView=function(){function t(t){if(this.tags=[],this.cmdArrIds=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tags=c.emptyArray,t.prototype.cmdArrIds=c.emptyArray,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route.JunctionView;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.tags&&i.tags.length||(i.tags=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.tags.push(t.uint32());else i.tags.push(t.uint32());break;case 2:i.cmdArrIds&&i.cmdArrIds.length||(i.cmdArrIds=[]),i.cmdArrIds.push(t.string());break;default:t.skipType(7&o)}}return i},t}(),t.TrafficDebug=function(){function t(t){if(this.tags=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tags=c.emptyArray,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route.TrafficDebug;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.tags&&i.tags.length||(i.tags=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.tags.push(t.uint32());else i.tags.push(t.uint32());break;default:t.skipType(7&o)}}return i},t}(),t.IntersectionTbt=function(){function t(t){if(this.tags=[],this.intersectionFrom=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tags=c.emptyArray,t.prototype.intersectionFrom=c.emptyArray,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.Route.IntersectionTbt;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.tags&&i.tags.length||(i.tags=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.tags.push(t.uint32());else i.tags.push(t.uint32());break;case 2:if(i.intersectionFrom&&i.intersectionFrom.length||(i.intersectionFrom=[]),2==(7&o))for(r=t.uint32()+t.pos;t.pos<r;)i.intersectionFrom.push(t.uint32());else i.intersectionFrom.push(t.uint32());break;default:t.skipType(7&o)}}return i},t}(),t}(),t.RouteOptionEntry=function(){function t(t){if(this.tags=[],this.routeIndices=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tags=c.emptyArray,t.prototype.routeIndices=c.emptyArray,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Response.RouteOptionEntry;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.tags&&i.tags.length||(i.tags=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.tags.push(t.uint32());else i.tags.push(t.uint32());break;case 2:if(i.routeIndices&&i.routeIndices.length||(i.routeIndices=[]),2==(7&o))for(r=t.uint32()+t.pos;t.pos<r;)i.routeIndices.push(t.uint32());else i.routeIndices.push(t.uint32());break;default:t.skipType(7&o)}}return i},t}(),t}(),r.ValueType=(i={},(o=Object.create(i))[i[0]="Int"]=0,o[i[11]="String"]=11,o),r.KeyValueTagMap=function(){function t(t){if(this.keys=[],this.intValues=[],this.stringValues=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.keys=c.emptyArray,t.prototype.intValues=c.emptyArray,t.prototype.stringValues=c.emptyArray,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.KeyValueTagMap;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:i.keys&&i.keys.length||(i.keys=[]),i.keys.push(l.directions.KeyValueTagMap.Key.decode(t,t.uint32()));break;case 11:if(i.intValues&&i.intValues.length||(i.intValues=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.intValues.push(t.sint64());else i.intValues.push(t.sint64());break;case 12:i.stringValues&&i.stringValues.length||(i.stringValues=[]),i.stringValues.push(t.string());break;default:t.skipType(7&o)}}return i},t.Key=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.name="",t.prototype.type=0,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.KeyValueTagMap.Key;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:i.name=t.string();break;case 2:i.type=t.int32();break;default:t.skipType(7&o)}}return i},t}(),t}(),r.Location=function(){function t(t){if(this.coord=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.coord=c.emptyArray,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Location;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.coord&&i.coord.length||(i.coord=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.coord.push(t.sint64());else i.coord.push(t.sint64());break;default:t.skipType(7&o)}}return i},t}(),r.BoundBox=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.leftBottom=null,t.prototype.rightTop=null,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.BoundBox;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:i.leftBottom=l.directions.Location.decode(t,t.uint32());break;case 2:i.rightTop=l.directions.Location.decode(t,t.uint32());break;default:t.skipType(7&o)}}return i},t}(),r.Crs=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.code=0,t.prototype.exponent=0,t.prototype.axisInfo=null,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Crs;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:i.code=t.int32();break;case 2:i.exponent=t.uint32();break;case 3:i.axisInfo=l.directions.Crs.AxisInfo.decode(t,t.uint32());break;default:t.skipType(7&o)}}return i},t.Code=function(){var t={},e=Object.create(t);return e[t[0]="EPSG4326"]=0,e}(),t.AxisInfo=function(){function t(t){if(this.axisOrder=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.axisOrder=c.emptyArray,t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,i=new l.directions.Crs.AxisInfo;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(i.axisOrder&&i.axisOrder.length||(i.axisOrder=[]),2==(7&o))for(var r=t.uint32()+t.pos;t.pos<r;)i.axisOrder.push(t.int32());else i.axisOrder.push(t.int32());break;default:t.skipType(7&o)}}return i},t.Axis=function(){var t={},e=Object.create(t);return e[t[0]="X"]=0,e[t[1]="Y"]=1,e[t[2]="Z"]=2,e}(),t}(),t}(),r),t.exports=l},NaFm:function(t,e,n){"use strict";n.r(e),n.d(e,"info",function(){return r}),n.d(e,"url",function(){return o});var i=n("YHYr");n.d(e,"json",function(){return i});const o="marker",r={width:393,height:349,pixelRatio:1}},Njrz:function(t,e,n){var i=n("luTP"),o=n("qGlh"),r=Object.prototype.toString,a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===r.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===r.call(File);function c(t,e){if(!t)return t;if(o(t)){var n={_placeholder:!0,num:e.length};return e.push(t),n}if(i(t)){for(var r=new Array(t.length),a=0;a<t.length;a++)r[a]=c(t[a],e);return r}if("object"==typeof t&&!(t instanceof Date)){for(var s in r={},t)r[s]=c(t[s],e);return r}return t}function l(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(i(t))for(var n=0;n<t.length;n++)t[n]=l(t[n],e);else if("object"==typeof t)for(var o in t)t[o]=l(t[o],e);return t}e.deconstructPacket=function(t){var e=[],n=t;return n.data=c(t.data,e),n.attachments=e.length,{packet:n,buffers:e}},e.reconstructPacket=function(t,e){return t.data=l(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){var n=0,r=t;!function t(c,l,u){if(!c)return c;if(a&&c instanceof Blob||s&&c instanceof File){n++;var p=new FileReader;p.onload=function(){u?u[l]=this.result:r=this.result,--n||e(r)},p.readAsArrayBuffer(c)}else if(i(c))for(var h=0;h<c.length;h++)t(c[h],h,c);else if("object"==typeof c&&!o(c))for(var d in c)t(c[d],d,c)}(r),n||e(r)}},NslQ:function(t,e,n){"use strict";n.d(e,"a",function(){return U});var i=n("Joaz"),o=n("JplU"),r=n("ZWtM"),a=n("P5Qy"),s=n("rHdf"),c=n("BE5q"),l=n("fXoL"),u=n("ofXK"),p=n("VRyK"),h=n("xgIS"),d=n("pLZG"),g=n("SxV6"),f=n("iQxS"),b=n("/B5r"),m=n("sYmb");const _=["dateArea"];function y(t,e){1&t&&(l.cc(0),l.Uc(1),l.pc(2,"translate"),l.bc()),2&t&&(l.Jb(1),l.Wc("(",l.qc(2,1,"PANORAMA.RECENT"),")"))}function O(t,e){if(1&t){const t=l.fc();l.ec(0,"li",6),l.ec(1,"a",7),l.lc("click",function(n){l.Jc(t);const i=e.index,o=e.$implicit;return l.oc().moveTimelinePanorama(n,i,o)}),l.Uc(2),l.pc(3,"dateTimeFormat"),l.pc(4,"translate"),l.Sc(5,y,3,3,"ng-container",8),l.dc(),l.dc()}if(2&t){const t=e.$implicit,n=e.index,i=l.oc();l.Jb(1),l.Qb("selected",t.PID===i.locationInfos.PID),l.Jb(1),l.Wc(" ",l.rc(3,4,t.photodate,l.qc(4,7,"PANORAMA.TIMELINE_DATE"))," "),l.Jb(3),l.wc("ngIf",0===n)}}let v=(()=>{class t{constructor(t,e){this.panoramaService=t,this.nClickService=e,this.isOpenDate=!1,this.isLatest=!1,this.subs=[]}set location(t){this.locationInfos=t,this.isLatest=t.latest}ngOnDestroy(){this.clear()}openDate(t){this.isOpenDate=!0,this.subs.push(Object(p.a)(Object(h.a)(document,"mousedown"),Object(h.a)(document,"touchstart"),this.panoramaService.events.headingChanged,this.panoramaService.events.panoramaChanged).pipe(Object(d.a)(t=>!t||!Array.from(this.dateArea.nativeElement.querySelectorAll("*")).some(e=>e===t.target)),Object(g.a)()).subscribe(()=>{this.closeDate(),this.nClickService.nClick(t,this.panoramaService.isAirType?a.a.BIRDVIEW_DATE_FOLD:r.a.STREETVIEW_DATE_FOLD)})),this.nClickService.nClick(t,this.panoramaService.isAirType?a.a.BIRDVIEW_DATE_OPEN:r.a.STREETVIEW_DATE_OPEN)}closeDate(){this.isOpenDate=!1,this.clear()}moveTimelinePanorama(t,e,n){this.closeDate(),this.movePanorama(n.PID),this.nClickService.nClick(t,0!==e?this.panoramaService.isAirType?a.a.BIRDVIEW_DATE_LIST:r.a.STREETVIEW_DATE_LIST:this.panoramaService.isAirType?a.a.BIRDVIEW_DATE_RESET:r.a.STREETVIEW_DATE_RESET)}movePanorama(t,e){const n=Object.assign({PID:t,heading:this.panoramaService.panoramaMap.getHeading(),tilt:this.panoramaService.panoramaMap.getTilt()},e);this.panoramaService.movePanorama(n)}clear(){this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[]}}return t.\u0275fac=function(e){return new(e||t)(l.Yb(i.f),l.Yb(o.a))},t.\u0275cmp=l.Sb({type:t,selectors:[["panorama-location-timelines"]],viewQuery:function(t,e){if(1&t&&l.ad(_,3),2&t){let t;l.Fc(t=l.mc())&&(e.dateArea=t.first)}},inputs:{location:"location",timelines:"timelines"},decls:11,vars:13,consts:[["type","button",1,"btn_more_date",3,"click"],[1,"date_box",3,"hidden"],["dateArea",""],[1,"list_date"],["class","item_date",4,"ngFor","ngForOf"],[1,"btn_close_date",3,"click"],[1,"item_date"],["href","","preventDefault","",1,"link_date",3,"click"],[4,"ngIf"]],template:function(t,e){1&t&&(l.ec(0,"button",0),l.lc("click",function(t){return e.openDate(t)}),l.Uc(1),l.pc(2,"dateTimeFormat"),l.pc(3,"translate"),l.dc(),l.ec(4,"div",1,2),l.ec(6,"ul",3),l.Sc(7,O,6,9,"li",4),l.dc(),l.ec(8,"button",5),l.lc("click",function(){return e.closeDate()}),l.Uc(9),l.pc(10,"translate"),l.dc(),l.dc()),2&t&&(l.Qb("selected",!e.isLatest),l.Jb(1),l.Wc(" ",l.rc(2,6,e.locationInfos.photodate,l.qc(3,9,"PANORAMA.TIMELINE_DATE")),"\n"),l.Jb(3),l.wc("hidden",!e.isOpenDate),l.Jb(3),l.wc("ngForOf",e.timelines),l.Jb(2),l.Vc(l.qc(10,11,"PANORAMA.CLOSE")))},directives:[u.n,f.a,u.o],pipes:[b.a,m.c],styles:['[_nghost-%COMP%]   .btn_more_date[_ngcontent-%COMP%]:after, [_nghost-%COMP%]   .date_box[_ngcontent-%COMP%]   .btn_close_date[_ngcontent-%COMP%]{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/panorama.png);background-size:252px 227px}.retina   [_nghost-%COMP%]   .btn_more_date[_ngcontent-%COMP%]:after, .retina   [_nghost-%COMP%]   .date_box[_ngcontent-%COMP%]   .btn_close_date[_ngcontent-%COMP%]{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/panorama@2x.png)}[_nghost-%COMP%]{position:relative;margin-top:2px;z-index:10;white-space:nowrap}[_nghost-%COMP%]   .btn_more_date[_ngcontent-%COMP%]{background:#2c2c2c;padding:0 12px;height:20px;border-radius:10px;line-height:20px;font-size:11px;color:#b9b9b9;text-align:left}[_nghost-%COMP%]   .btn_more_date[_ngcontent-%COMP%]:after{overflow:hidden;display:inline-block;width:12px;height:12px;font-size:0;color:transparent;vertical-align:top;background-position:-235px -114px;opacity:.6;margin:0;vertical-align:-2px;content:""}[_nghost-%COMP%]   .btn_more_date[_ngcontent-%COMP%]:hover{background-color:#434343}[_nghost-%COMP%]   .btn_more_date[_ngcontent-%COMP%]:hover:after{opacity:1}[_nghost-%COMP%]   .btn_more_date.selected[_ngcontent-%COMP%]{background:#0475f4;color:#cde3fd}[_nghost-%COMP%]   .btn_more_date.selected[_ngcontent-%COMP%]:after{opacity:.8}[_nghost-%COMP%]   .btn_more_date.selected[_ngcontent-%COMP%]:hover{color:#fff}[_nghost-%COMP%]   .btn_more_date.selected[_ngcontent-%COMP%]:hover:after{opacity:1}[_nghost-%COMP%]   .date_box[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:-14px;width:190px;padding:17px 10px 18px;box-sizing:border-box;background-color:#212121;box-shadow:0 4px 4px 0 rgba(0,0,0,.3);border-radius:4px}[_nghost-%COMP%]   .date_box[_ngcontent-%COMP%]   .list_date[_ngcontent-%COMP%]   .item_date[_ngcontent-%COMP%]   .link_date[_ngcontent-%COMP%]{display:block;position:relative;padding:0 10px 0 11px;border-radius:6px;font-size:14px;color:#fff;line-height:29px}[_nghost-%COMP%]   .date_box[_ngcontent-%COMP%]   .list_date[_ngcontent-%COMP%]   .item_date[_ngcontent-%COMP%]   .link_date.selected[_ngcontent-%COMP%]{color:#1d92ff}[_nghost-%COMP%]   .date_box[_ngcontent-%COMP%]   .btn_close_date[_ngcontent-%COMP%]{overflow:hidden;display:inline-block;width:26px;height:24px;font-size:0;color:transparent;vertical-align:top;background-position:0 -203px;position:absolute;top:2px;right:0}']}),t})();var C=n("/RaO"),P=n("jtHE"),M=n("Kj3r"),x=n("wO+i"),w=n("vkgz");let k=(()=>{class t{constructor(t){this.translateService=t}transform(t){return t>=1e3?this.translateService.instant("UNIT.KILOMETER",{value:this.meterToKilometer(t)}):this.translateService.instant("UNIT.METER",{value:Math.round(t)})}meterToKilometer(t){return Math.round(t/1e3)}}return t.\u0275fac=function(e){return new(e||t)(l.Yb(m.d))},t.\u0275pipe=l.Xb({name:"formatDistancePipe",type:t,pure:!0}),t.\u0275prov=l.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const S=["aroundBox"];function E(t,e){if(1&t&&(l.ec(0,"span",15),l.Uc(1),l.pc(2,"formatDistancePipe"),l.dc()),2&t){const t=l.oc().$implicit;l.Jb(1),l.Vc(l.qc(2,1,t.distance))}}function I(t,e){if(1&t){const t=l.fc();l.ec(0,"li",8),l.ec(1,"button",9),l.lc("click",function(n){l.Jc(t);const i=e.$implicit;return l.oc().movePanorama(n,i.id)}),l.Zb(2,"img",10),l.ec(3,"div",11),l.ec(4,"strong",12),l.Uc(5),l.dc(),l.ec(6,"span",13),l.Uc(7),l.dc(),l.Sc(8,E,3,3,"span",14),l.dc(),l.dc(),l.dc()}if(2&t){const t=e.$implicit,n=l.oc();l.Jb(1),l.Qb("hover",t.panorama.id===n.currentPID),l.Jb(1),l.wc("src",t.thumbnail,l.Lc),l.Jb(3),l.Vc(t.name),l.Jb(2),l.Vc(t.category),l.Jb(1),l.wc("ngIf",t.panorama.id!==n.currentPID)}}let R=(()=>{class t{constructor(t,e,n,i,o,r){this.panoramaService=t,this.utils=e,this.element=n,this.renderer=i,this.nCLickService=o,this.zone=r,this.isShowHotSpots=!0,this.hotSpots=[],this.translateX=0,this.isShowBtnPrev=!1,this.isShowBtnNext=!1,this.hotSpotShowIndex=0,this.elementWidth=0,this.defaultCount=10,this.preLoadImage=3,this.changes=new P.a(1),this.subs=[],this.elementWidth=window.innerWidth-C.oc,this.defaultCount=Math.ceil(this.elementWidth/C.lc)+2*this.preLoadImage}set hotspot(t){this.updateHotSpotsWithThumbnail(t),this.hotSpotStreetSky=this.getHotSpotStreetSky(t),this.hotSpots=this.getHotSpots(t),this.aroundBoxElement.nativeElement.scrollLeft=0,this.changes.next()}get currentPID(){return this.panoramaService.panoramaMap?this.panoramaService.panoramaMap.getPID():null}ngOnInit(){this.subs.push(Object(p.a)(this.changes,Object(h.a)(this.aroundBoxElement.nativeElement,"scroll"),this.getWheelEventObservable(),Object(h.a)(window,"resize")).pipe(Object(M.a)(10)).subscribe(()=>{this.updateScrollInfo()}))}ngOnDestroy(){this.clear(),this.utils.nextTick(()=>this.panoramaService.panoramaMap.resize())}prevImage(t){this.aroundBoxElement.nativeElement.scrollLeft-=C.mc,this.nCLickService.nClick(t,this.panoramaService.isAirType?a.a.BIRDVIEW_AROUND_PAGING:r.a.STREETVIEW_AROUND_PAGING)}nextImage(t){this.aroundBoxElement.nativeElement.scrollLeft+=C.mc,this.nCLickService.nClick(t,this.panoramaService.isAirType?a.a.BIRDVIEW_AROUND_PAGING:r.a.STREETVIEW_AROUND_PAGING)}movePanorama(t,e){if(t.preventDefault(),!this.panoramaService.panoramaMap)return;const n=this.getPanoramaDefaultOption(e);this.panoramaService.movePanorama(n),this.nCLickService.nClick(t,this.panoramaService.isAirType?a.a.BIRDVIEW_AROUND_LIST:r.a.STREETVIEW_AROUND_LIST)}getPanoramaDefaultOption(t){return{heading:this.panoramaService.panoramaMap.getHeading(),tilt:this.panoramaService.panoramaMap.getTilt(),place:`${t}`}}updateHotSpotsWithThumbnail(t){t.features.forEach(t=>{t.properties.thumbnail=this.panoramaService.getPanoramaImageUrl({type:t.properties.type,size:this.panoramaService.staticSizeM,place:t.properties.id})})}getHotSpots(t){return t.features.filter(t=>"number"==typeof t.properties.id).map(t=>Object.assign({},t.properties))}getHotSpotStreetSky(t){return"number"==typeof t.features[0].properties.id?null:t.features[0].properties}updateScrollInfo(){const t=this.aroundBoxElement.nativeElement,e=t.scrollLeft,n=t.scrollWidth,i=t.offsetWidth;this.zone.run(()=>{this.isShowBtnPrev=e>0,this.isShowBtnNext=n-i-e>1})}clear(){this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[]}getWheelEventObservable(){return Object(h.a)(this.aroundBoxElement.nativeElement,"wheel").pipe(Object(d.a)(t=>0===Math.abs(t.deltaX)),Object(x.a)("deltaY"),Object(w.a)(t=>{this.aroundBoxElement.nativeElement.scrollBy?this.aroundBoxElement.nativeElement.scrollBy(10*t,0):this.renderer.setProperty(this.aroundBoxElement.nativeElement,"scrollLeft",this.aroundBoxElement.nativeElement.scrollLeft+t)}))}}return t.\u0275fac=function(e){return new(e||t)(l.Yb(i.f),l.Yb(s.a),l.Yb(l.o),l.Yb(l.L),l.Yb(o.a),l.Yb(l.F))},t.\u0275cmp=l.Sb({type:t,selectors:[["panorama-location-around"]],viewQuery:function(t,e){if(1&t&&l.ad(S,3),2&t){let t;l.Fc(t=l.mc())&&(e.aroundBoxElement=t.first)}},inputs:{hotspot:"hotspot",isShowHotSpots:"isShowHotSpots"},decls:12,vars:11,consts:[[1,"panorama_info_area"],[1,"btn_area"],[1,"btn","btn_prev",3,"disabled","click"],[1,"btn","btn_next",3,"disabled","click"],[1,"around_box"],["aroundBox",""],[1,"list_around"],["class","item_around",4,"ngFor","ngForOf"],[1,"item_around"],["type","button",1,"link_around",3,"click"],["width","180","height","108","alt","",1,"img",3,"src"],[1,"summary_box"],[1,"summary_title"],[1,"summary_category"],["class","summary_distance",4,"ngIf"],[1,"summary_distance"]],template:function(t,e){1&t&&(l.ec(0,"div",0),l.ec(1,"div",1),l.ec(2,"button",2),l.lc("click",function(t){return e.prevImage(t)}),l.Uc(3),l.pc(4,"translate"),l.dc(),l.ec(5,"button",3),l.lc("click",function(t){return e.nextImage(t)}),l.Uc(6),l.pc(7,"translate"),l.dc(),l.dc(),l.ec(8,"div",4,5),l.ec(10,"ul",6),l.Sc(11,I,9,6,"li",7),l.dc(),l.dc(),l.dc()),2&t&&(l.Qb("expand",e.isShowHotSpots),l.Jb(2),l.wc("disabled",!e.isShowBtnPrev),l.Jb(1),l.Wc(" ",l.qc(4,7,"PANORAMA.PREV")," "),l.Jb(2),l.wc("disabled",!e.isShowBtnNext),l.Jb(1),l.Wc(" ",l.qc(7,9,"PANORAMA.NEXT")," "),l.Jb(5),l.wc("ngForOf",e.hotSpots.slice(e.hotSpotShowIndex,e.hotSpotShowIndex+e.defaultCount)))},directives:[u.n,u.o],pipes:[m.c,k],styles:['[_nghost-%COMP%]   .panorama_info_area[_ngcontent-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/panorama.png);background-size:252px 227px}.retina   [_nghost-%COMP%]   .panorama_info_area[_ngcontent-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/panorama@2x.png)}[_nghost-%COMP%]{min-width:0;width:100%}[_nghost-%COMP%]   .list_around[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .list_around[_ngcontent-%COMP%]   .item_around[_ngcontent-%COMP%]{display:inline-block;margin-left:2px;vertical-align:top}[_nghost-%COMP%]   .list_around[_ngcontent-%COMP%]   .item_around[_ngcontent-%COMP%]:first-child{margin-left:0}[_nghost-%COMP%]   .list_around[_ngcontent-%COMP%]   .item_around[_ngcontent-%COMP%]   .link_around[_ngcontent-%COMP%]{display:block;overflow:hidden;position:relative;width:180px;height:108px;padding:13px 14px;border-radius:1px;text-align:left}[_nghost-%COMP%]   .list_around[_ngcontent-%COMP%]   .item_around[_ngcontent-%COMP%]   .link_around[_ngcontent-%COMP%]:after{position:absolute;top:0;right:0;bottom:0;left:0;background-image:linear-gradient(180deg,#000,transparent);opacity:.6;content:""}[_nghost-%COMP%]   .list_around[_ngcontent-%COMP%]   .item_around[_ngcontent-%COMP%]   .link_around.hover[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .list_around[_ngcontent-%COMP%]   .item_around[_ngcontent-%COMP%]   .link_around[_ngcontent-%COMP%]:hover:before{position:absolute;top:0;right:0;bottom:0;left:0;z-index:10;border:2px solid #fff;background-color:rgba(0,0,0,.3);content:""}[_nghost-%COMP%]   .list_around[_ngcontent-%COMP%]   .item_around[_ngcontent-%COMP%]   .link_around.hover[_ngcontent-%COMP%]   .summary_distance[_ngcontent-%COMP%], [_nghost-%COMP%]   .list_around[_ngcontent-%COMP%]   .item_around[_ngcontent-%COMP%]   .link_around[_ngcontent-%COMP%]:hover   .summary_distance[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .list_around[_ngcontent-%COMP%]   .around_scroll[_ngcontent-%COMP%]{width:1px;height:1px;transform-origin:0 100%}[_nghost-%COMP%]   .summary_box[_ngcontent-%COMP%]{position:relative;z-index:10;height:100%}[_nghost-%COMP%]   .summary_title[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:19px}[_nghost-%COMP%]   .summary_category[_ngcontent-%COMP%], [_nghost-%COMP%]   .summary_title[_ngcontent-%COMP%]{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]   .summary_category[_ngcontent-%COMP%]{margin-top:2px;font-size:11px;line-height:13px}[_nghost-%COMP%]   .summary_distance[_ngcontent-%COMP%]{display:inline-block;position:absolute;bottom:-5px;left:-7px;padding:0 7px;border-radius:11px;background-color:rgba(0,0,0,.5);font-size:11px;line-height:22px;text-shadow:0 0 4px #000;opacity:0}[_nghost-%COMP%]   .panorama_info_area[_ngcontent-%COMP%]{display:none;position:relative;padding:0 2px;background-color:#141414;color:#fff;white-space:nowrap}[_nghost-%COMP%]   .panorama_info_area.expand[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .panorama_info_area[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0}[_nghost-%COMP%]   .panorama_info_area[_ngcontent-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{overflow:hidden;display:inline-block;width:17px;height:24px;font-size:0;color:transparent;vertical-align:top;background-position:-235px -56px;position:absolute;top:50%;z-index:30;opacity:.7;transform:translateY(-50%)}[_nghost-%COMP%]   .panorama_info_area[_ngcontent-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{display:none}[_nghost-%COMP%]   .panorama_info_area[_ngcontent-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%]   .panorama_info_area[_ngcontent-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_prev[_ngcontent-%COMP%]{left:12px}[_nghost-%COMP%]   .panorama_info_area[_ngcontent-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_next[_ngcontent-%COMP%]{right:12px;transform:rotate(180deg) translateY(50%)}[_nghost-%COMP%]   .around_box[_ngcontent-%COMP%]{padding:2px 0;overflow:auto;-ms-overflow-style:none;scrollbar-width:none}[_nghost-%COMP%]   .around_box[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}']}),t})();function T(t,e){if(1&t&&(l.ec(0,"span",8),l.Uc(1),l.dc()),2&t){const t=l.oc();l.Jb(1),l.Vc(t.locationInfo.title)}}function A(t,e){if(1&t&&(l.ec(0,"span",9),l.Uc(1),l.dc()),2&t){const t=l.oc();l.Jb(1),l.Vc(t.locationInfo.description)}}function L(t,e){if(1&t&&l.Zb(0,"panorama-location-timelines",10),2&t){const t=l.oc();l.wc("location",t.locationInfo)("timelines",t.timelines)}}function j(t,e){if(1&t&&(l.ec(0,"span",11),l.Uc(1),l.pc(2,"dateTimeFormat"),l.pc(3,"translate"),l.dc()),2&t){const t=l.oc();l.Jb(1),l.Vc(l.rc(2,1,t.locationInfo.photodate,l.qc(3,4,"PANORAMA.TIMELINE_DATE")))}}function D(t,e){if(1&t){const t=l.fc();l.ec(0,"button",14),l.lc("click",function(e){return l.Jc(t),l.oc(2).hideHotSpots(e)}),l.Uc(1),l.pc(2,"translate"),l.dc()}2&t&&(l.Jb(1),l.Wc(" ",l.qc(2,1,"PANORAMA.AROUND_FOLD")," "))}function F(t,e){if(1&t){const t=l.fc();l.ec(0,"button",15),l.lc("click",function(e){return l.Jc(t),l.oc(2).showHotSpots(e)}),l.Uc(1),l.pc(2,"translate"),l.dc()}2&t&&(l.Jb(1),l.Wc(" ",l.qc(2,1,"PANORAMA.AROUND_MORE")," "))}function N(t,e){if(1&t&&(l.cc(0),l.Sc(1,D,3,3,"button",12),l.Sc(2,F,3,3,"button",13),l.bc()),2&t){const t=l.oc();l.Jb(1),l.wc("ngIf",t.isShowHotSpots),l.Jb(1),l.wc("ngIf",!t.isShowHotSpots)}}function B(t,e){if(1&t&&l.Zb(0,"panorama-location-around",16),2&t){const t=l.oc();l.wc("isShowHotSpots",t.isShowHotSpots)("hotspot",t.hotspot)}}let U=(()=>{class t{constructor(t,e,n,i){this.panoramaService=t,this.layoutService=e,this.nClickService=n,this.utils=i,this.isShowHotSpots=!0}set location(t){this.locationInfo=t}set hotspot(t){this._hotspot=t,this.hasAroundHotSpots=t&&t.features&&t.features.length>1,this.utils.nextTick(()=>this.panoramaService.panoramaMap.resize())}get hotspot(){return this._hotspot}showHotSpots(t){this.isShowHotSpots=!0,this.utils.nextTick(()=>this.panoramaService.panoramaMap.resize(),0),this.nClickService.nClick(t,this.panoramaService.isAirType?a.a.BIRDVIEW_AROUND_OPEN:r.a.STREETVIEW_AROUND_OPEN)}hideHotSpots(t){this.isShowHotSpots=!1,this.utils.nextTick(()=>this.panoramaService.panoramaMap.resize(),0),this.nClickService.nClick(t,this.panoramaService.isAirType?a.a.BIRDVIEW_AROUND_FOLD:r.a.STREETVIEW_AROUND_FOLD)}}return t.\u0275fac=function(e){return new(e||t)(l.Yb(i.f),l.Yb(c.a),l.Yb(o.a),l.Yb(s.a))},t.\u0275cmp=l.Sb({type:t,selectors:[["panorama-location-info"]],inputs:{location:"location",hotspot:"hotspot",timelines:"timelines"},decls:8,vars:8,consts:[[1,"panorama_location_area"],[1,"address_info"],["class","info_title",4,"ngIf"],["class","info_address",4,"ngIf"],[3,"location","timelines",4,"ngIf"],["class","btn_more_date",4,"ngIf"],[4,"ngIf"],[3,"isShowHotSpots","hotspot",4,"ngIf"],[1,"info_title"],[1,"info_address"],[3,"location","timelines"],[1,"btn_more_date"],["class","btn_panorama_expand expand",3,"click",4,"ngIf"],["class","btn_panorama_expand more",3,"click",4,"ngIf"],[1,"btn_panorama_expand","expand",3,"click"],[1,"btn_panorama_expand","more",3,"click"],[3,"isShowHotSpots","hotspot"]],template:function(t,e){1&t&&(l.ec(0,"div",0),l.ec(1,"div",1),l.Sc(2,T,2,1,"span",2),l.Sc(3,A,2,1,"span",3),l.dc(),l.Sc(4,L,1,2,"panorama-location-timelines",4),l.Sc(5,j,4,6,"span",5),l.dc(),l.Sc(6,N,3,2,"ng-container",6),l.Sc(7,B,1,2,"panorama-location-around",7)),2&t&&(l.Qb("more",!e.isShowHotSpots),l.Jb(2),l.wc("ngIf",e.locationInfo.title),l.Jb(1),l.wc("ngIf",e.locationInfo.description),l.Jb(1),l.wc("ngIf",0!==e.timelines.length),l.Jb(1),l.wc("ngIf",0===e.timelines.length&&e.locationInfo.photodate),l.Jb(1),l.wc("ngIf",e.hasAroundHotSpots),l.Jb(1),l.wc("ngIf",e.hasAroundHotSpots))},directives:[u.o,v,R],pipes:[b.a,m.c],styles:['[_nghost-%COMP%]   .btn_panorama_expand.expand[_ngcontent-%COMP%], [_nghost-%COMP%]   .btn_panorama_expand.expand[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .btn_panorama_expand.more[_ngcontent-%COMP%]:after{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/panorama.png);background-size:252px 227px}.retina   [_nghost-%COMP%]   .btn_panorama_expand.expand[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .btn_panorama_expand.expand[_ngcontent-%COMP%]:hover, .retina   [_nghost-%COMP%]   .btn_panorama_expand.more[_ngcontent-%COMP%]:after{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/panorama@2x.png)}[_nghost-%COMP%]{display:flex;flex-wrap:wrap;flex:0 0 auto;position:relative;margin-left:350px;font-size:0}[_nghost-%COMP%]   .btn_panorama_expand[_ngcontent-%COMP%]{position:absolute;right:17px;font-size:12px;color:#b2b2b2}[_nghost-%COMP%]   .btn_panorama_expand.expand[_ngcontent-%COMP%]{background-position:-124px -181px;top:-18px}[_nghost-%COMP%]   .btn_panorama_expand.expand[_ngcontent-%COMP%], [_nghost-%COMP%]   .btn_panorama_expand.expand[_ngcontent-%COMP%]:hover{overflow:hidden;display:inline-block;width:40px;height:18px;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .btn_panorama_expand.expand[_ngcontent-%COMP%]:hover{background-position:-82px -181px}[_nghost-%COMP%]   .btn_panorama_expand.more[_ngcontent-%COMP%]{position:static;margin-right:17px;line-height:19px}[_nghost-%COMP%]   .btn_panorama_expand.more[_ngcontent-%COMP%]:after{overflow:hidden;display:inline-block;width:40px;height:20px;font-size:0;color:transparent;vertical-align:top;background-position:0 -181px;margin-left:8px;background-color:#2c2c2c;border-radius:10px;vertical-align:-6px;content:""}[_nghost-%COMP%]   .btn_more_date[_ngcontent-%COMP%]{background:#2c2c2c;padding:0 12px;height:20px;border-radius:10px;line-height:20px;font-size:11px;color:#b9b9b9;white-space:nowrap;text-align:left}[_nghost-%COMP%]   .panorama_location_area[_ngcontent-%COMP%]{display:flex;width:100%;min-width:0;height:38px;padding:8px 10px 0 14px;box-sizing:border-box}[_nghost-%COMP%]   .panorama_location_area.more[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .panorama_location_area[_ngcontent-%COMP%]   .address_info[_ngcontent-%COMP%]{overflow:hidden;margin-right:6px;font-size:12px;color:#b9b9b9;line-height:20px;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]   .panorama_location_area[_ngcontent-%COMP%]   .address_info[_ngcontent-%COMP%]   .info_title[_ngcontent-%COMP%]{display:inline-block;font-size:14px;color:#fff;font-weight:600}[_nghost-%COMP%]   .panorama_location_area[_ngcontent-%COMP%]   .address_info[_ngcontent-%COMP%]   .info_title[_ngcontent-%COMP%]:after{display:inline-block;width:1px;height:10px;background:#434343;margin:0 7px;vertical-align:0;content:""}[_nghost-%COMP%]   .panorama_location_area[_ngcontent-%COMP%]   .address_info[_ngcontent-%COMP%]   .info_address[_ngcontent-%COMP%]{position:relative}']}),t})()},OnNh:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("fXoL"),o=n("XrBI"),r=n("HOHK"),a=n("IzEk"),s=n("l7P3"),c=function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})};const l=["*"];let u=(()=>{class t{constructor(t,e,n){this.el=t,this.maps=e,this.store=n,this.id=null,this.className=null,this.closeButton=!0,this.popupOptions={offset:[0,-25],zIndex:1,closeButton:!0},this.isOpen=!0,this.offset={x:0,y:-20},this.useFitting=!0,this.changed=new i.q,this.popup=null}ngAfterViewChecked(){if(!this.changes)return;const t=this.changes;this.changes=null,Promise.resolve().then(()=>{this.popup?(t.lngLat&&this.updatePosition(),t.isOpen&&this.updateOpenState(),t.zIndex&&this.updateZIndex()):this.createPopup()})}ngOnChanges(t){this.changes=t}ngOnDestroy(){this.close()}showPopup(t,e={}){return this.lngLat=t,e.zIndex&&(this.popupOptions.zIndex=e.zIndex),this.createPopup()}createPopup(){return c(this,void 0,void 0,function*(){if(this.popup&&this.close(),!this.lngLat)return;yield this.waitUntilZoomEnd();const t={position:this.lngLat,content:this.getElement(),pixelOffset:this.offset};return this.popup=this.isOpen?this.maps.openPopup(t):this.maps.createPopup(t),this.popup.addListenerOnce("close",t=>{this.popup&&this.changed.emit({type:r.a.Close,rawEvent:t})}),this.changed.emit({type:r.a.Add}),this.isOpen&&this.fitting(),this.popup})}close(){this.popup&&(this.popup.setMap(),this.popup=null,this.changed.emit({type:r.a.Remove}))}getElement(){return this.element||this.el.nativeElement.firstElementChild}updatePosition(){this.popup.setPosition(this.lngLat),this.fitting(),this.resizeContent()}updateZIndex(){this.popup.setZIndex(this.zIndex)}updateOpenState(){if(this.isOpen)return this.popup?(this.maps.openPopup(this.popup),void this.fitting()):void this.createPopup();this.popup.close()}fitting(){if(!this.useFitting)return;const t=this.popup.getContent().getBoundingClientRect();this.maps.fittingPosition(t)}waitUntilZoomEnd(){return this.maps.isMoving?this.maps.events.orgMoveEnd.pipe(Object(a.a)(1)).toPromise():Promise.resolve()}resizeContent(){return c(this,void 0,void 0,function*(){yield this.waitUntilZoomEnd(),this.popup.resize()})}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(i.o),i.Yb(o.a),i.Yb(s.h))},t.\u0275cmp=i.Sb({type:t,selectors:[["nm-map-popup"]],inputs:{id:"id",element:"element",className:"className",closeButton:"closeButton",popupOptions:"popupOptions",lngLat:"lngLat",zIndex:"zIndex",isOpen:"isOpen",offset:"offset",useFitting:"useFitting"},outputs:{changed:"changed"},features:[i.Hb],ngContentSelectors:l,decls:1,vars:0,template:function(t,e){1&t&&(i.vc(),i.uc(0))},encapsulation:2,changeDetection:0}),t})()},P5Qy:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.BIRDVIEW_VIEWER_ZOOMIN="birdview.viewer.zoomin",t.BIRDVIEW_VIEWER_ZOOMOUT="birdview.viewer.zoomout",t.BIRDVIEW_VIEWER_COMPASS="birdview.viewer.compass",t.BIRDVIEW_VIEWER_COMPASSNORTH="birdview.viewer.compassnorth",t.BIRDVIEW_VIEWER_SHARE="birdview.viewer.share",t.BIRDVIEW_VIEWER_TOPHONE="birdview.viewer.tophone",t.BIRDVIEW_VIEWER_SAVE="birdview.viewer.save",t.BIRDVIEW_VIEWER_PRINT="birdview.viewer.print",t.BIRDVIEW_VIEWER_EXIT="birdview.viewer.exit",t.BIRDVIEW_MINIMAP_CLICK="birdview.minimap.click",t.BIRDVIEW_MINIMAP_FREERESIZE="birdview.minimap.freeresize",t.BIRDVIEW_MINIMAP_ZOOMIN="birdview.minimap.zoomin",t.BIRDVIEW_MINIMAP_ZOOMOUT="birdview.minimap.zoomout",t.BIRDVIEW_MINIMAP_MAXIMIZE="birdview.minimap.maximize",t.BIRDVIEW_MINIMAP_VERTICALRESIZE="birdview.minimap.verticalresize",t.BIRDVIEW_DATE_OPEN="birdview.date.open",t.BIRDVIEW_DATE_FOLD="birdview.date.fold",t.BIRDVIEW_DATE_LIST="birdview.date.list",t.BIRDVIEW_DATE_RESET="birdview.date.reset",t.BIRDVIEW_AROUND_NEARSTREETVIEW="birdview.around.nearstreetview",t.BIRDVIEW_AROUND_LIST="birdview.around.list",t.BIRDVIEW_AROUND_FOLD="birdview.around.fold",t.BIRDVIEW_AROUND_OPEN="birdview.around.open",t.BIRDVIEW_AROUND_PAGING="birdview.around.paging",t}({})},P9dh:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n("MHgl"),o=n("rS+x"),r=n("Q6WB"),a=n("JIr8"),s=n("Kj3r"),c=n("EY2u"),l=n("x/+U"),u=n("F3fk"),p=n("CJka"),h=n("fXoL"),d=n("l7P3"),g=n("sYmb");let f=(()=>{class t{constructor(t,e,n,i,o){this.store=t,this.translateService=e,this.directionsApiService=n,this.directionsLogService=i,this.uaParser=o}loadDirections(t){if(Object(i.p)(this.store))return;if(this.store.dispatch(Object(i.H)({payload:(null==t?void 0:t.hasOwnProperty("summaryIndex"))?t.summaryIndex:null})),this.store.dispatch(Object(i.O)({payload:null})),Object(i.t)(this.store).length&&this.store.dispatch(Object(i.T)({payload:[]})),null==t?void 0:t.reload)this.store.dispatch(Object(i.Y)());else{if(Object(i.s)(this.store))return;this.store.dispatch(Object(i.Q)())}const e=Object(i.l)(this.store);let n;switch(e.mode){case o.d.Car:n=this.directionsApiService.requestDirectionsApiCar(e);break;case o.d.Walk:n=this.directionsApiService.requestDirectionsApiWalk(e);break;case o.d.Bike:n=this.directionsApiService.requestDirectionsApiBike(e);break;case o.d.Transit:default:n=this.directionsApiService.requestDirectionsApiTransit(e)}n.pipe(Object(a.a)(t=>this.loadDirectionsError(t))).subscribe(t=>{this.store.dispatch(Object(i.T)({payload:t})),this.store.dispatch(Object(i.V)({payload:r.i.SummaryList})),Object(i.ob)(this.store).pipe(Object(s.a)(500)).subscribe(()=>this.directionsLogService.logging())})}loadInstantDirections(t){if(this.loadingInstant)return;let e;switch(this.loadingInstant=!0,t.mode){case o.d.Car:e=this.directionsApiService.requestDirectionsApiCar(t,!0);break;case o.d.Walk:e=this.directionsApiService.requestDirectionsApiWalk(t,!0);break;case o.d.Bike:e=this.directionsApiService.requestDirectionsApiBike(t);break;case o.d.Transit:default:e=this.directionsApiService.requestDirectionsApiTransit(t,!0)}e.pipe(Object(a.a)(()=>(this.loadingInstant=!1,c.a))).subscribe(t=>{this.store.dispatch(Object(i.O)({payload:t[0]})),this.loadingInstant=!1})}reloadPubtransit(){this.loadDirections({reload:!0,summaryIndex:Object(i.w)(this.store)})}loadDirectionsError(t){var e,n;const o=Object(i.l)(this.store),a={value1:(null===(e=o.start)||void 0===e?void 0:e.name)||"",value2:(null===(n=o.goal)||void 0===n?void 0:n.name)||""};let s,l=0;switch(t){case r.f.TransitPointsAreTooClose:s=[this.translateService.instant("DIRECTIONS.ERROR.TRANSIT.POINTS_ARE_TOO_CLOSE",a)];break;case r.f.TransitPointsAreSame:s=[this.translateService.instant("DIRECTIONS.ERROR.TRANSIT.POINTS_ARE_SAME",a)];break;case r.f.TransitNoStationNearDeparturePoint:s=[this.translateService.instant("DIRECTIONS.ERROR.TRANSIT.NO_STATION_NEAR_DEPARTURE_POINT",a)];break;case r.f.TransitNoStationNearArrivalPoint:s=[this.translateService.instant("DIRECTIONS.ERROR.TRANSIT.NO_STATION_NEAR_ARRIVAL_POINT",a)];break;case r.f.TransitNoStationNearbyDeparturePoint:s=[this.translateService.instant("DIRECTIONS.ERROR.TRANSIT.NO_STATION_NEARBY_DEPARTURE_POINT",a)];break;case r.f.TransitNoStationNearbyArrivalPoint:s=[this.translateService.instant("DIRECTIONS.ERROR.TRANSIT.NO_STATION_NEARBY_ARRIVAL_POINT",a)];break;case r.f.TransitNoResult:s=[this.translateService.instant("DIRECTIONS.ERROR.TRANSIT.NO_RESULT",a)];break;case r.f.CarPointsAreTheSame:s=[this.translateService.instant("DIRECTIONS.ERROR.CAR.POINTS_ARE_THE_SAME",a)];break;case r.f.CarNoRoadNearPoint:s=[this.translateService.instant("DIRECTIONS.ERROR.CAR.NO_ROAD_NEAR_POINT",a)];break;case r.f.CarNoResult:s=[this.translateService.instant("DIRECTIONS.ERROR.CAR.NO_RESULT",a)];break;case r.f.BikeNoResult:s=[this.translateService.instant("DIRECTIONS.ERROR.BIKE.NO_RESULT",a)];break;case r.f.WalkNoResult:s=[this.translateService.instant("DIRECTIONS.ERROR.WALKING.NO_RESULT",a)];break;default:if("string"==typeof t)s=[t],l=408;else{const e=t;"API_TIMEOUT"===e.message?(s=[this.translateService.instant("DIRECTIONS.ERROR.REQUEST_TIMEOUT")],l=408):e.status>500?(s=[this.translateService.instant("DIRECTIONS.ERROR.INTERNAL_SERVER_ERROR")],l=e.status):s=[this.translateService.instant("DIRECTIONS.ERROR.UNKNOWN_ERROR")]}}return this.store.dispatch(Object(i.K)({payload:{messages:s,code:l}})),c.a}}return t.\u0275fac=function(e){return new(e||t)(h.ic(d.h),h.ic(g.d),h.ic(l.a),h.ic(u.a),h.ic(p.a))},t.\u0275prov=h.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},POnT:function(t,e,n){"use strict";n.d(e,"a",function(){return O});var i=n("tMAK"),o=n("pLZG"),r=n("eIep"),a=n("lJxs"),s=n("IzEk"),c=n("Kj3r"),l=n("vkgz"),u=n("SxV6"),p=n("jtHE"),h=n("XNiG"),d=n("itXk"),g=n("Cfvw"),f=n("ApIJ"),b=n("XrBI"),m=n("CJka"),_=n("iTV6"),y=n("fXoL");let O=(()=>{class t{constructor(t,e,n,i,o,r){this.commonRoutes=t,this.maps=e,this.uaParser=n,this.indoor=i,this.logger=o,this.zone=r,this.mapType=new p.a(1),this.layerControllerList=[],this.isActivatedLayers=[],this.changedLayer=new h.a,this.changeControllerListChecker=new p.a(1),this.init()}getChangedLayerAsObservable(){return this.changedLayer.asObservable()}toggleMapLayer(t){const e=this.getLayerController(t);if(!e)return;const n=!e.isActivate.getValue();e.isActivate.next(n),n?this.maps.onThemeLayer(t):this.maps.offThemeLayer(t)}onLayer(t){const e=this.getLayerController(t);e&&(e.isActivate.next(!0),this.maps.onThemeLayer(t))}offLayer(t){const e=this.getLayerController(t);e&&(e.isActivate.next(!1),this.maps.offThemeLayer(t))}hasController(t){return!!this.layerControllerList.find(e=>e.name===t)}addController(t){var e;const n=this.commonRoutes.getRouterParams().coordinates,i=null===(e=null==n?void 0:n.mapLayers)||void 0===e?void 0:e.some(e=>e===t.name);i&&(t.isActivate.next(i),this.maps.onThemeLayer(t.name)),this.layerControllerList.push(t),this.changeControllerListChecker.next()}isActivate(t){return this.getLayerController(t).isActivate}changeMapType(t){[f.h.Satellite,f.h.SatelliteWithDefault].includes(t)&&this.indoor.hideBuilding(),this.maps.setMapType(t),this.mapType.next(t),this.commonRoutes.setMapType(t),this.syncOnLayers()}init(){this.commonRoutes.events.pipe(Object(o.a)(()=>!!this.commonRoutes.getRouterParams().coordinates),Object(r.a)(()=>this.maps.afterInstanceReady()),Object(a.a)(()=>this.commonRoutes.getRouterParams().coordinates),Object(s.a)(1)).subscribe(t=>{this.initMapType(t.mapTypes[0]),this.watchChangedControllerList()})}watchChangedControllerList(){this.changeControllerListChecker.pipe(Object(c.a)(10)).subscribe(()=>{this.zone.run(()=>{this.initSubscriberOfActivationCheckerOfControllers()})})}initSubscriberOfActivationCheckerOfControllers(){this.unsubActivationChecker();const t=this.layerControllerList.map(t=>t.isActivate.pipe(Object(a.a)(e=>{const n={name:t.name,isActivate:e};return this.changedLayer.next(n),n})));this.subActivationChecker=Object(d.a)(t).pipe(Object(a.a)(t=>t.filter(t=>t.isActivate).map(t=>t.name)),Object(l.a)(t=>{this.isActivatedLayers=t}),Object(r.a)(t=>this.maps.isMoving?this.maps.events.orgMoveEnd.pipe(Object(u.a)(),Object(r.a)(()=>Object(g.a)(this.commonRoutes.setAwesomeMapLayer(t)))):Object(g.a)(this.commonRoutes.setAwesomeMapLayer(t)))).subscribe(()=>{})}unsubActivationChecker(){this.subActivationChecker&&!this.subActivationChecker.closed&&this.subActivationChecker.unsubscribe()}getLayerController(t){return this.layerControllerList.filter(e=>e.name===t).find((t,e)=>0===e)}initMapType(t){t&&this.changeMapType(t)}syncOnLayers(){this.isActivatedLayers.forEach(t=>this.onLayer(t))}}return t.\u0275fac=function(e){return new(e||t)(y.ic(f.e),y.ic(b.a),y.ic(m.a),y.ic(i.b),y.ic(_.a),y.ic(y.F))},t.\u0275prov=y.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Pa3S:function(t,e,n){"use strict";e.EventCode={UNKNOWN:0,ACCIDENT:1,CONSTRUCTION:2,WEATHER:3,FESTIVAL:4,RESTRICTION:5};var i=e.Point={};i.read=function(t,e){return t.readFields(i._readField,{pointX:0,pointY:0},e)},i._readField=function(t,e,n){1===t?e.pointX=n.readDouble():2===t&&(e.pointY=n.readDouble())},i.write=function(t,e){t.pointX&&e.writeDoubleField(1,t.pointX),t.pointY&&e.writeDoubleField(2,t.pointY)};var o=e.Line={};o.read=function(t,e){return t.readFields(o._readField,{point:[]},e)},o._readField=function(t,e,n){1===t&&e.point.push(i.read(n,n.readVarint()+n.pos))},o.write=function(t,e){if(t.point)for(var n=0;n<t.point.length;n++)e.writeMessage(1,i.write,t.point[n])};var r=e.MultiLine={};r.read=function(t,e){return t.readFields(r._readField,{line:[]},e)},r._readField=function(t,e,n){1===t&&e.line.push(o.read(n,n.readVarint()+n.pos))},r.write=function(t,e){if(t.line)for(var n=0;n<t.line.length;n++)e.writeMessage(1,o.write,t.line[n])};var a=e.MultiPolygon={};a.read=function(t,e){return t.readFields(a._readField,{multiLine:[]},e)},a._readField=function(t,e,n){1===t&&e.multiLine.push(r.read(n,n.readVarint()+n.pos))},a.write=function(t,e){if(t.multiLine)for(var n=0;n<t.multiLine.length;n++)e.writeMessage(1,r.write,t.multiLine[n])};var s=e.Schedule={};s.read=function(t,e){return t.readFields(s._readField,{startTimeExpect:0,endTimeExpect:0,startTimeReal:0,endTimeReal:0},e)},s._readField=function(t,e,n){1===t?e.startTimeExpect=n.readVarint(!0):2===t?e.endTimeExpect=n.readVarint(!0):3===t?e.startTimeReal=n.readVarint(!0):4===t&&(e.endTimeReal=n.readVarint(!0))},s.write=function(t,e){t.startTimeExpect&&e.writeVarintField(1,t.startTimeExpect),t.endTimeExpect&&e.writeVarintField(2,t.endTimeExpect),t.startTimeReal&&e.writeVarintField(3,t.startTimeReal),t.endTimeReal&&e.writeVarintField(4,t.endTimeReal)};var c=e.EventCp={};c.read=function(t,e){return t.readFields(c._readField,{code:0,name:""},e)},c._readField=function(t,e,n){1===t?e.code=n.readVarint(!0):2===t&&(e.name=n.readString())},c.write=function(t,e){t.code&&e.writeVarintField(1,t.code),t.name&&e.writeStringField(2,t.name)};var l=e.TrafficEvent={};l.read=function(t,e){return t.readFields(l._readField,{eventId:0,createTime:0,schedule:null,cpCode:0,eventCode:0,description:"",linkIds:[],point:null,multiLine:null,multiPolygon:null,laneBlockWildCard:0},e)},l._readField=function(t,e,n){1===t?e.eventId=n.readVarint(!0):2===t?e.createTime=n.readVarint(!0):3===t?e.schedule=s.read(n,n.readVarint()+n.pos):4===t?e.cpCode=n.readVarint(!0):5===t?e.eventCode=n.readVarint():6===t?e.description=n.readString():7===t?n.readPackedVarint(e.linkIds,!0):8===t?e.point=i.read(n,n.readVarint()+n.pos):16===t?e.multiLine=r.read(n,n.readVarint()+n.pos):17===t?e.multiPolygon=a.read(n,n.readVarint()+n.pos):18===t&&(e.laneBlockWildCard=n.readVarint(!0))},l.write=function(t,e){t.eventId&&e.writeVarintField(1,t.eventId),t.createTime&&e.writeVarintField(2,t.createTime),t.schedule&&e.writeMessage(3,s.write,t.schedule),t.cpCode&&e.writeVarintField(4,t.cpCode),t.eventCode&&e.writeVarintField(5,t.eventCode),t.description&&e.writeStringField(6,t.description),t.linkIds&&e.writePackedVarint(7,t.linkIds),t.point&&e.writeMessage(8,i.write,t.point),t.multiLine&&e.writeMessage(16,r.write,t.multiLine),t.multiPolygon&&e.writeMessage(17,a.write,t.multiPolygon),t.laneBlockWildCard&&e.writeVarintField(18,t.laneBlockWildCard)};var u=e.TrafficEventSet={};u.read=function(t,e){return t.readFields(u._readField,{timestamp:0,eventCps:[],trafficEvents:[]},e)},u._readField=function(t,e,n){1===t?e.timestamp=n.readVarint(!0):2===t?e.eventCps.push(c.read(n,n.readVarint()+n.pos)):3===t&&e.trafficEvents.push(l.read(n,n.readVarint()+n.pos))},u.write=function(t,e){if(t.timestamp&&e.writeVarintField(1,t.timestamp),t.eventCps)for(var n=0;n<t.eventCps.length;n++)e.writeMessage(2,c.write,t.eventCps[n]);if(t.trafficEvents)for(n=0;n<t.trafficEvents.length;n++)e.writeMessage(3,l.write,t.trafficEvents[n])}},PaUx:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fXoL");let o=(()=>{class t{transform(t){return!t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Xb({name:"isFalse",type:t,pure:!0}),t})()},PzNd:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return r});var i=function(t){return t[t.None=0]="None",t[t.Entry=1]="Entry",t[t.EntryToViewer=2]="EntryToViewer",t[t.ViewerToEntry=3]="ViewerToEntry",t[t.Viewer=4]="Viewer",t}({}),o=function(t){return t[t.ShownOnMap=0]="ShownOnMap",t[t.Disappeared=1]="Disappeared",t}({}),r=function(t){return t[t.East=0]="East",t[t.West=1]="West",t[t.North=2]="North",t[t.South=3]="South",t}({})},Q80o:function(t,e,n){function i(t){var n;function i(){if(i.enabled){var t=i,o=+new Date,r=o-(n||o);t.diff=r,t.prev=n,t.curr=o,n=o;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,i){if("%%"===n)return n;c++;var o=e.formatters[i];return"function"==typeof o&&(n=o.call(t,a[c]),a.splice(c,1),c--),n}),e.formatArgs.call(t,a);var l=i.log||e.log||console.log.bind(console);l.apply(t,a)}}return i.namespace=t,i.enabled=e.enabled(t),i.useColors=e.useColors(),i.color=function(t){var n,i=0;for(n in t)i=(i<<5)-i+t.charCodeAt(n),i|=0;return e.colors[Math.abs(i)%e.colors.length]}(t),i.destroy=o,"function"==typeof e.init&&e.init(i),e.instances.push(i),i}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=i.debug=i.default=i).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var i=("string"==typeof t?t:"").split(/[\s,]+/),o=i.length;for(n=0;n<o;n++)i[n]&&("-"===(t=i[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var r=e.instances[n];r.enabled=e.enabled(r.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,i;for(n=0,i=e.skips.length;n<i;n++)if(e.skips[n].test(t))return!1;for(n=0,i=e.names.length;n<i;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n("5LH7"),e.instances=[],e.names=[],e.skips=[],e.formatters={}},"QJ+7":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("cWyK");e.default=function(t){var e=[1/0,1/0,-1/0,-1/0];return i.coordEach(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}},QN7Q:function(t,e){var n=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var i=n.call(arguments,2);return function(){return e.apply(t,i.concat(n.call(arguments)))}}},Qdop:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fXoL");let o=(()=>{class t{transform(t){return t&&""!==t&&null!==t&&0!==t.indexOf("https")?0===t.indexOf("/assets/")?t:0===t.indexOf("http://static.naver.net")?t.replace("http://static.naver.net","https://ssl.pstatic.net/static"):`https://search.pstatic.net/common/?src=${encodeURIComponent(t)}`:t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Xb({name:"sslImage",type:t,pure:!0}),t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Qgge:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.OPEN="open",t.CLOSE="close",t.CLICKED_BG="clicked-background",t}({})},RZZ2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("AKIq");function o(t,e,n){var i=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var o=0,r=e.length-1;o<e.length;r=o++){var a=e[o][0],s=e[o][1],c=e[r][0],l=e[r][1];if(t[1]*(a-c)+s*(c-t[0])+l*(t[0]-a)==0&&(a-t[0])*(c-t[0])<=0&&(s-t[1])*(l-t[1])<=0)return!n;s>t[1]!=l>t[1]&&t[0]<(c-a)*(t[1]-s)/(l-s)+a&&(i=!i)}return i}e.default=function(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var r=i.getCoord(t),a=i.getGeom(e),s=a.type,c=e.bbox,l=a.coordinates;if(c&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(r,c))return!1;"Polygon"===s&&(l=[l]);for(var u=!1,p=0;p<l.length&&!u;p++)if(o(r,l[p][0],n.ignoreBoundary)){for(var h=!1,d=1;d<l[p].length&&!h;)o(r,l[p][d],!n.ignoreBoundary)&&(h=!0),d++;h||(u=!0)}return u}},SIcl:function(t,e,n){"use strict";n.d(e,"d",function(){return s}),n.d(e,"a",function(){return c}),n.d(e,"c",function(){return l}),n.d(e,"b",function(){return u}),n.d(e,"i",function(){return p}),n.d(e,"f",function(){return h}),n.d(e,"g",function(){return d}),n.d(e,"h",function(){return g}),n.d(e,"e",function(){return f}),n.d(e,"m",function(){return m}),n.d(e,"n",function(){return y}),n.d(e,"l",function(){return O}),n.d(e,"j",function(){return v}),n.d(e,"k",function(){return C}),n.d(e,"o",function(){return P});var i=n("k/lc"),o=n("LMyR"),r=n("AytR"),a=n("wsqr");const s=1e4,c=!0,l=!1,u=!1,p=["map.naver.com","place.naver.com","booking.naver.com","store.naver.com"],h="test-app.map.naver.com",d="stage2-m.booking.naver.com",g="stage-pcmap.place.naver.com",f="pcmap.place.naver.com";function b(){switch(r.a.env){case o.a.Local:case o.a.Dev:return i.c.DEV;case o.a.Test:return i.c.TEST;case o.a.Stg:return i.c.STG;default:return i.c.REAL}}function m(){if(Object(a.e)())return i.c.REAL;const t=location.search.match(/iframe=(debug|test-app|test-booking|test-place|mobile|local|dev|qa|test)/);return t?t[1]:null}function _(t){switch(t){case i.c.TEST_APP:return`https://${h}/inappv5/entry-pc-test/11630456`;case i.c.TEST_BOOKING:return`https://${d}/test-iframe-entry`;case i.c.TEST_PLACE:return`https://${g}/test-iframe-entry.html`;case i.c.MOBILE:return"https://m.place.naver.com/place/";case i.c.DEBUG:default:return"/test-iframe-entry.html"}}function y(){switch(m()||b()){case i.c.REAL:return`https://${f}/place/list`;case i.c.LOCAL:return`https://local-${f}/place/list`;case i.c.TEST:case i.c.QA:return`https://qa-${f}/place/list`;default:return`https://stage-${f}/place/list`}}function O(){const t=m()||b();switch(t){case i.c.DEBUG:case i.c.MOBILE:case i.c.TEST_APP:case i.c.TEST_BOOKING:case i.c.TEST_PLACE:return _(t);case i.c.REAL:return`https://${f}/place/`;case i.c.LOCAL:return`https://local-${f}/place/`;case i.c.TEST:case i.c.QA:return`https://qa-${f}/place/`;default:return`https://stage-${f}/place/`}}function v(){const t=m();switch(t){case i.c.DEBUG:case i.c.MOBILE:case i.c.TEST_APP:case i.c.TEST_BOOKING:case i.c.TEST_PLACE:return _(t);case i.c.TEST:case i.c.LOCAL:case i.c.QA:return"https://test-app.map.naver.com/inappv5/entry-pc/";case i.c.REAL:default:return"https://app.map.naver.com/inappv5/entry-pc/"}}function C(){const t=m()||b();switch(t){case i.c.DEBUG:return _(t);case i.c.REAL:return"https://pt.map.naver.com";case i.c.LOCAL:return"https://local-pt.map.naver.com:3140";case i.c.DEV:return"https://dev-pt.map.naver.com";case i.c.TEST:case i.c.STG:default:return"https://test-pt.map.naver.com"}}function P(){const t=m()||b();switch(t){case i.c.DEBUG:return _(t);case i.c.REAL:return"https://pt.map.naver.com";case i.c.LOCAL:return"https://local-pt.map.naver.com:3140";case i.c.DEV:return"https://dev-pt.map.naver.com";case i.c.TEST:case i.c.STG:default:return"https://test-pt.map.naver.com"}}},SPBs:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("QJ+7"),o=n("/rf6");e.default=function(t,e){void 0===e&&(e={});var n=i.default(t);return o.point([(n[0]+n[2])/2,(n[1]+n[3])/2],e.properties,e)}},THIm:function(t,e,n){t.exports=function(){"use strict";function t(n,i,o,r,a){for(;r>o;){if(r-o>600){var s=r-o+1,c=i-o+1,l=Math.log(s),u=.5*Math.exp(2*l/3),p=.5*Math.sqrt(l*u*(s-u)/s)*(c-s/2<0?-1:1);t(n,i,Math.max(o,Math.floor(i-c*u/s+p)),Math.min(r,Math.floor(i+(s-c)*u/s+p)),a)}var h=n[i],d=o,g=r;for(e(n,o,i),a(n[r],h)>0&&e(n,o,r);d<g;){for(e(n,d,g),d++,g--;a(n[d],h)<0;)d++;for(;a(n[g],h)>0;)g--}0===a(n[o],h)?e(n,o,g):e(n,++g,r),g<=i&&(o=g+1),i<=g&&(r=g-1)}}function e(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function n(t,e){return t<e?-1:t>e?1:0}return function(e,i,o,r,a){t(e,i,o||0,r||e.length-1,a||n)}}()},TjGc:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("G6Tw"),o=n("jIYg");function r(t){return Object(o.a)(1,arguments),Object(i.a)(t,Date.now())}},TypT:function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),i=0,o=n.length;i<o;i++){var r=n[i].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}},U0qn:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"c",function(){return c}),n.d(e,"e",function(){return l}),n.d(e,"d",function(){return u}),n.d(e,"a",function(){return p});var i=n("/RaO"),o=n("Q6WB"),r=n("AytR"),a=n("lDLV");const s={[a.b.Subway]:{bodyType:a.b.Subway,url:"/report-pub-trans/subway",useImg:!1},[a.b.Train]:{bodyType:a.b.Train,url:"/report-pub-trans/railway",useImg:!1},[a.b.Airport]:{bodyType:a.b.Airport,url:"/report-pub-trans/airport",useImg:!1},[a.b.BusTerminal]:{bodyType:a.b.BusTerminal,url:"/report-pub-trans/bus-terminal",useImg:!1},[a.b.BusRoute]:{bodyType:a.b.BusRoute,url:"/report-pub-trans/bus-line",useImg:!1},[a.b.BusStop]:{bodyType:a.b.BusStop,url:"/report-pub-trans/bus-stop",useImg:!1},[a.b.Panorama]:{bodyType:a.b.Panorama,url:"/report-panorama",useImg:!1},[a.b.Address]:{bodyType:a.b.Address,url:"/report-address",useImg:!0}},c={[a.d.Home]:[[{label:"REPORT.HOME.ADD_NEW_PLACE",bodyType:a.b.AddNewPlace,actionType:a.a.Popup,url:i.nd,option:i.od,useImg:!0,useBadge:!1}],[{label:"REPORT.HOME.MAP_VIEW",desc:"REPORT.HOME.MAP_VIEW_DESC",bodyType:a.b.MapView,actionType:a.a.Form,url:"/report-map-data/map-view",useImg:!0,useBadge:!1},{label:"REPORT.HOME.MAP_POI",desc:"REPORT.HOME.MAP_POI_DESC",bodyType:a.b.MapView,actionType:a.a.Form,url:"/report-map-data/map-poi",useImg:!0,useBadge:!1},{label:"REPORT.HOME.ADDRESS",desc:"REPORT.HOME.ADDRESS_DESC",bodyType:a.b.Address,actionType:a.a.Form,url:"/report-address",useImg:!0,useBadge:!1},{label:"REPORT.HOME.ROAD",desc:"REPORT.HOME.ROAD_DESC",bodyType:a.b.Road,actionType:a.a.Form,url:"/report-road",useImg:!0,useBadge:!1},{label:"REPORT.HOME.PANORAMA",desc:"REPORT.HOME.PANORAMA_DESC",bodyType:a.b.Panorama,actionType:a.a.Link,url:`${document.location.protocol}${r.a.reportExternalUrl}/support/alias/local/map30.naver`,useImg:!1,useBadge:!0}],[{label:"REPORT.HOME.FIND_DIRECTION",desc:"REPORT.HOME.FIND_DIRECTION_DESC",bodyType:a.b.FindDirection,actionType:a.a.Link,url:`${document.location.protocol}${r.a.reportExternalUrl}/support/alias/local/map31.naver`,useImg:!1,useBadge:!0},{label:"REPORT.HOME.PUBTRANS",desc:"REPORT.HOME.PUBTRANS_DESC",bodyType:a.b.Pubtrans,actionType:a.a.Link,url:`${document.location.protocol}${r.a.reportExternalUrl}/support/alias/local/map_12.naver`,useImg:!1,useBadge:!0},{label:"REPORT.HOME.ADD_NEW_BUS_LINE",bodyType:a.b.AddNewBusLine,actionType:a.a.Form,url:"/report-pub-trans/bus-line-add",useImg:!1,useBadge:!1},{label:"REPORT.HOME.ADD_NEW_BUS_STOP",bodyType:a.b.AddNewBusStop,actionType:a.a.Form,url:"/report-pub-trans/bus-stop-add",useImg:!0,useBadge:!1}]],[a.d.CarDirection]:[[{label:"REPORT.FIND_DIRECTION.ROUTE",desc:"REPORT.FIND_DIRECTION.ROUTE_DESC",bodyType:a.b.CarRoute,actionType:a.a.Form,url:"/report-directions/car-route",useImg:!0,useBadge:!1},{label:"REPORT.FIND_DIRECTION.DESTINATION",desc:"REPORT.FIND_DIRECTION.DESTINATION_DESC",bodyType:a.b.CarDestination,actionType:a.a.Form,url:"/report-directions/car-dest",useImg:!0,useBadge:!1}]],[a.d.WalkDirection]:[[{label:"REPORT.FIND_DIRECTION.ROUTE",desc:"REPORT.FIND_DIRECTION.ROUTE_DESC",bodyType:a.b.WalkRoute,actionType:a.a.Form,url:"/report-directions/walking-route",useImg:!0,useBadge:!1},{label:"REPORT.FIND_DIRECTION.DESTINATION",desc:"REPORT.FIND_DIRECTION.DESTINATION_DESC",bodyType:a.b.WalkDestination,actionType:a.a.Form,url:"/report-directions/walking-dest",useImg:!0,useBadge:!1}]],[a.d.PubtransDirection]:[[{label:"REPORT.FIND_DIRECTION.PUBTRANS_ROUTE",desc:"REPORT.FIND_DIRECTION.PUBTRANS_ROUTE_DESC",bodyType:a.b.PubtransRoute,actionType:a.a.Form,url:"/report-directions/pub-trans-info",useImg:!0,useBadge:!1},{label:"REPORT.FIND_DIRECTION.PUBTRANS_WALK_ROUTE",desc:"REPORT.FIND_DIRECTION.PUBTRANS_WALK_ROUTE_DESC",bodyType:a.b.PubtransWalkRoute,actionType:a.a.Form,url:"/report-directions/pub-trans-walking-route",useImg:!0,useBadge:!1}]],[a.d.BicycleDirection]:[[{label:"REPORT.FIND_DIRECTION.ROUTE",desc:"REPORT.FIND_DIRECTION.ROUTE_DESC",bodyType:a.b.BicycleRoute,actionType:a.a.Form,url:"/report-directions/bicycle-route",useImg:!0,useBadge:!1},{label:"REPORT.FIND_DIRECTION.DESTINATION",desc:"REPORT.FIND_DIRECTION.DESTINATION_DESC",bodyType:a.b.BicycleDestination,actionType:a.a.Form,url:"/report-directions/bicycle-dest",useImg:!0,useBadge:!1}]]},l={[o.k.TraOptimal]:"search_option_recommendation",[o.k.TraFast]:"search_option_time_priority",[o.k.TraComfort]:"search_option_main_road_priority",[o.k.TraOptDist]:"search_option_distance_priority",[o.b.Free]:"search_option_free_priority",[o.b.AvoidCarOnly]:"search_option_two_wheeled_priority",[a.f.Reco]:"search_option_recommendation",[a.f.Wide]:"search_option_main_road_priority"},u={[a.d.CarDirection]:"REPORT.SUMMARY.CAR_DIRECTION",[a.d.WalkDirection]:"REPORT.SUMMARY.WALK_DIRECTION",[a.d.BicycleDirection]:"REPORT.SUMMARY.BICYCLE_DIRECTION",[a.d.PubtransDirection]:"REPORT.SUMMARY.PUBTRANS_DIRECTION"},p="LS_LOGIN_REPORT_PATH"},UWCo:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("/rf6");e.default=function(t,e){void 0===e&&(e={});var n=Number(t[0]),o=Number(t[1]),r=Number(t[2]),a=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var s=[n,o];return i.polygon([[s,[r,o],[r,a],[n,a],s]],e.properties,{bbox:t,id:e.id})}},Uwu7:function(t,e,n){var i=n("x7D4")("socket.io-parser"),o=n("2laj"),r=n("Njrz"),a=n("luTP"),s=n("qGlh");function c(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=c,e.Decoder=p;var l=e.ERROR+'"encode error"';function u(t){var n=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data){var o=function(t){try{return JSON.stringify(t)}catch(e){return!1}}(t.data);if(!1===o)return l;n+=o}return i("encoded %j as %s",t,n),n}function p(){this.reconstructor=null}function h(t){this.reconPack=t,this.buffers=[]}function d(t){return{type:e.ERROR,data:"parser error: "+t}}c.prototype.encode=function(t,n){i("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type?function(t,e){r.removeBlobs(t,function(t){var n=r.deconstructPacket(t),i=u(n.packet),o=n.buffers;o.unshift(i),e(o)})}(t,n):n([u(t)])},o(p.prototype),p.prototype.add=function(t){var n;if("string"==typeof t)n=function(t){var n=0,o={type:Number(t.charAt(0))};if(null==e.types[o.type])return d("unknown packet type "+o.type);if(e.BINARY_EVENT===o.type||e.BINARY_ACK===o.type){for(var r="";"-"!==t.charAt(++n)&&(r+=t.charAt(n),n!=t.length););if(r!=Number(r)||"-"!==t.charAt(n))throw new Error("Illegal attachments");o.attachments=Number(r)}if("/"===t.charAt(n+1))for(o.nsp="";++n&&","!==(c=t.charAt(n))&&(o.nsp+=c,n!==t.length););else o.nsp="/";var s=t.charAt(n+1);if(""!==s&&Number(s)==s){for(o.id="";++n;){var c;if(null==(c=t.charAt(n))||Number(c)!=c){--n;break}if(o.id+=t.charAt(n),n===t.length)break}o.id=Number(o.id)}if(t.charAt(++n)){var l=function(t){try{return JSON.parse(t)}catch(e){return!1}}(t.substr(n));if(!1===l||o.type!==e.ERROR&&!a(l))return d("invalid payload");o.data=l}return i("decoded %s as %j",t,o),o}(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new h(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!s(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",n))}},p.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},h.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=r.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},h.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},Uxeu:function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,o=t.indexOf("["),r=t.indexOf("]");-1!=o&&-1!=r&&(t=t.substring(0,o)+t.substring(o,r).replace(/:/g,";")+t.substring(r,t.length));for(var a=n.exec(t||""),s={},c=14;c--;)s[i[c]]=a[c]||"";return-1!=o&&-1!=r&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},V6f3:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("ofXK"),o=n("3Pt+"),r=n("ktvW"),a=n("btWG"),s=n("fXoL");let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Wb({type:t}),t.\u0275inj=s.Vb({imports:[[i.c,o.i,a.a,r.a]]}),t})()},VDtp:function(t,e,n){"use strict";t.exports=n("bDA7")},VO5J:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return r}),n.d(e,"c",function(){return a});var i=function(t){return t.Empty="empty",t.Info="info",t}({}),o=function(t){return t[t.Close=0]="Close",t[t.Open=1]="Open",t}({}),r=function(t){return t[t.BusRouteType1=1]="BusRouteType1",t[t.BusRouteType2=2]="BusRouteType2",t[t.BusRouteType3=3]="BusRouteType3",t[t.BusRouteType4=4]="BusRouteType4",t[t.BusRouteType5=5]="BusRouteType5",t[t.BusRouteType6=6]="BusRouteType6",t[t.BusRouteType10=10]="BusRouteType10",t[t.BusRouteType11=11]="BusRouteType11",t[t.BusRouteType12=12]="BusRouteType12",t[t.BusRouteType13=13]="BusRouteType13",t[t.BusRouteType14=14]="BusRouteType14",t[t.BusRouteType15=15]="BusRouteType15",t[t.BusRouteType16=16]="BusRouteType16",t[t.BusRouteType20=20]="BusRouteType20",t[t.BusRouteType21=21]="BusRouteType21",t[t.BusRouteType22=22]="BusRouteType22",t[t.BusRouteType26=26]="BusRouteType26",t}({}),a=function(t){return t[t.Start=0]="Start",t[t.End=1]="End",t}({})},VkJL:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return r.a});var i=function(t){return t[t.BookmarkPopupOpened=0]="BookmarkPopupOpened",t[t.BookmarkToggleChanged=1]="BookmarkToggleChanged",t[t.BookmarkFolderPopupChanged=2]="BookmarkFolderPopupChanged",t[t.FrequentPlaceConfirm=3]="FrequentPlaceConfirm",t[t.FrequentPlaceClose=4]="FrequentPlaceClose",t[t.FrequentPlaceSelected=5]="FrequentPlaceSelected",t[t.FrequentSubmitSelected=6]="FrequentSubmitSelected",t[t.SearchBoxNameChanged=7]="SearchBoxNameChanged",t[t.SearchBoxPlaceChanged=8]="SearchBoxPlaceChanged",t[t.SearchDirectly=9]="SearchDirectly",t}({}),o=function(t){return t.Home="\uc9d1",t.Office="\ud68c\uc0ac",t.School="\ud559\uad50",t.Etc="\uc7a5\uc18c",t}({}),r=n("AAPk")},VzcW:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fXoL");let o=(()=>{class t{constructor(t){this.el=t,this.stopPropagation="",this.targetEvents=[]}ngOnInit(){this.stopPropagation||(this.stopPropagation="click"),this.targetEvents=this.stopPropagation.split(","),this.targetEvents.forEach(t=>{this.el.nativeElement.addEventListener(t,r)})}ngOnDestroy(){this.targetEvents.forEach(t=>{this.el.nativeElement.removeEventListener(t,r)})}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(i.o))},t.\u0275dir=i.Tb({type:t,selectors:[["","stopPropagation",""]],inputs:{stopPropagation:"stopPropagation"}}),t})();function r(t){t.stopPropagation()}},WLGk:function(t,e,n){var i=n("luTP"),o=Object.prototype.toString,r="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);t.exports=function t(e){if(!e||"object"!=typeof e)return!1;if(i(e)){for(var n=0,o=e.length;n<o;n++)if(t(e[n]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(e)||"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||r&&e instanceof Blob||a&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return!0;return!1}},WlrZ:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("CJka"),o=n("1RhC"),r=n("fXoL");let a=(()=>{class t{constructor(t,e){this.uaParser=t,this.envService=e}transform(t,e){if(t.indexOf("-v5.map.naver.com")>-1)return t;if(!this.envService.isReal()&&0===t.indexOf("/v5"))return t;const n=0===t.indexOf("/v5")&&location.origin||"",i={src:encodeURIComponent(n+t)};return this.hasSizeParams(e)&&(i.type="f",i.size=this.getSize(e)),"https://search.pstatic.net/common/"+this.generateRequestParams(i)}hasSizeParams(t){return!!t&&!("number"!=typeof t.w||"number"!=typeof t.h)}getSize(t){const e=(!1!==t.a||t.a)&&this.uaParser.retina?2:1;return`${t.w*e}x${t.h*e}`}generateRequestParams(t){return"?"+Object.keys(t).map(e=>`${e}=${t[e]}`).join("&")}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(i.a),r.Yb(o.a))},t.\u0275pipe=r.Xb({name:"imageResizer",type:t,pure:!0}),t.\u0275prov=r.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Wm4p:function(t,e,n){var i,o=n("dkv/"),r=n("WLGk"),a=n("ypnn"),s=n("zMFY"),c=n("oIG/");"undefined"!=typeof ArrayBuffer&&(i=n("g5Dd"));var l="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),u="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),p=l||u;e.protocol=3;var h=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},d=o(h),g={type:"error",data:"parser error"},f=n("14A5");function b(t,e,n){for(var i=new Array(t.length),o=s(t.length,n),r=function(t,n,o){e(n,function(e,n){i[t]=n,o(e,i)})},a=0;a<t.length;a++)r(a,t[a],o)}e.encodePacket=function(t,n,i,o){"function"==typeof n&&(o=n,n=!1),"function"==typeof i&&(o=i,i=null);var r=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer)return function(t,n,i){if(!n)return e.encodeBase64Packet(t,i);var o=t.data,r=new Uint8Array(o),a=new Uint8Array(1+o.byteLength);a[0]=h[t.type];for(var s=0;s<r.length;s++)a[s+1]=r[s];return i(a.buffer)}(t,n,o);if(void 0!==f&&r instanceof f)return function(t,n,i){if(!n)return e.encodeBase64Packet(t,i);if(p)return function(t,n,i){if(!n)return e.encodeBase64Packet(t,i);var o=new FileReader;return o.onload=function(){e.encodePacket({type:t.type,data:o.result},n,!0,i)},o.readAsArrayBuffer(t.data)}(t,n,i);var o=new Uint8Array(1);return o[0]=h[t.type],i(new f([o.buffer,t.data]))}(t,n,o);if(r&&r.base64)return function(t,n){return n("b"+e.packets[t.type]+t.data.data)}(t,o);var a=h[t.type];return void 0!==t.data&&(a+=i?c.encode(String(t.data),{strict:!1}):String(t.data)),o(""+a)},e.encodeBase64Packet=function(t,n){var i,o="b"+e.packets[t.type];if(void 0!==f&&t.data instanceof f){var r=new FileReader;return r.onload=function(){var t=r.result.split(",")[1];n(o+t)},r.readAsDataURL(t.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(l){for(var a=new Uint8Array(t.data),s=new Array(a.length),c=0;c<a.length;c++)s[c]=a[c];i=String.fromCharCode.apply(null,s)}return o+=btoa(i),n(o)},e.decodePacket=function(t,n,i){if(void 0===t)return g;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(i&&!1===(t=function(t){try{t=c.decode(t,{strict:!1})}catch(e){return!1}return t}(t)))return g;var o=t.charAt(0);return Number(o)==o&&d[o]?t.length>1?{type:d[o],data:t.substring(1)}:{type:d[o]}:g}o=new Uint8Array(t)[0];var r=a(t,1);return f&&"blob"===n&&(r=new f([r])),{type:d[o],data:r}},e.decodeBase64Packet=function(t,e){var n=d[t.charAt(0)];if(!i)return{type:n,data:{base64:!0,data:t.substr(1)}};var o=i.decode(t.substr(1));return"blob"===e&&f&&(o=new f([o])),{type:n,data:o}},e.encodePayload=function(t,n,i){"function"==typeof n&&(i=n,n=null);var o=r(t);return n&&o?f&&!p?e.encodePayloadAsBlob(t,i):e.encodePayloadAsArrayBuffer(t,i):t.length?void b(t,function(t,i){e.encodePacket(t,!!o&&n,!1,function(t){i(null,function(t){return t.length+":"+t}(t))})},function(t,e){return i(e.join(""))}):i("0:")},e.decodePayload=function(t,n,i){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,i);var o;if("function"==typeof n&&(i=n,n=null),""===t)return i(g,0,1);for(var r,a,s="",c=0,l=t.length;c<l;c++){var u=t.charAt(c);if(":"===u){if(""===s||s!=(r=Number(s)))return i(g,0,1);if(s!=(a=t.substr(c+1,r)).length)return i(g,0,1);if(a.length){if(o=e.decodePacket(a,n,!1),g.type===o.type&&g.data===o.data)return i(g,0,1);if(!1===i(o,c+r,l))return}c+=r,s=""}else s+=u}return""!==s?i(g,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){if(!t.length)return n(new ArrayBuffer(0));b(t,function(t,n){e.encodePacket(t,!0,!0,function(t){return n(null,t)})},function(t,e){var i=e.reduce(function(t,e){var n;return t+(n="string"==typeof e?e.length:e.byteLength).toString().length+n+2},0),o=new Uint8Array(i),r=0;return e.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var i=new Uint8Array(t.length),a=0;a<t.length;a++)i[a]=t.charCodeAt(a);n=i.buffer}o[r++]=e?0:1;var s=n.byteLength.toString();for(a=0;a<s.length;a++)o[r++]=parseInt(s[a]);for(o[r++]=255,i=new Uint8Array(n),a=0;a<i.length;a++)o[r++]=i[a]}),n(o.buffer)})},e.encodePayloadAsBlob=function(t,n){b(t,function(t,n){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var i=new Uint8Array(t.length),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);t=i.buffer,e[0]=0}var r=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),a=new Uint8Array(r.length+1);for(o=0;o<r.length;o++)a[o]=parseInt(r[o]);if(a[r.length]=255,f){var s=new f([e.buffer,a.buffer,t]);n(null,s)}})},function(t,e){return n(new f(e))})},e.decodePayloadAsBinary=function(t,n,i){"function"==typeof n&&(i=n,n=null);for(var o=t,r=[];o.byteLength>0;){for(var s=new Uint8Array(o),c=0===s[0],l="",u=1;255!==s[u];u++){if(l.length>310)return i(g,0,1);l+=s[u]}o=a(o,2+l.length),l=parseInt(l);var p=a(o,0,l);if(c)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(f){var h=new Uint8Array(p);for(p="",u=0;u<h.length;u++)p+=String.fromCharCode(h[u])}r.push(p),o=a(o,l)}var d=r.length;r.forEach(function(t,o){i(e.decodePacket(t,n,!0),o,d)})}},WvzF:function(t,e,n){"use strict";n.d(e,"d",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"e",function(){return c}),n.d(e,"a",function(){return p}),n.d(e,"f",function(){return g}),n.d(e,"b",function(){return f}),n.d(e,"g",function(){return b});var i=n("Pbce");const o=1/(4*Math.PI),r=-1/(2*Math.PI);function a(t){const e=t.lat;let n=.002777777777777778*t.lng+.5,i=0;return e>=85.051128?i=0:e<=-85.051128?i=1:(i=Math.sin(e*(Math.PI/180)),i=.5-Math.log((1+i)/(1-i))*o),n=40075016.6855784*n-20037508.3427892,i=40075016.6855784*i/-1+20037508.3427892,{lng:n,lat:i}}function s(t){let e=t.lng,n=t.lat;return b(t)?t:(e=(e+20037508.3427892)/40075016.6855784,n=-1*(n-20037508.3427892)/40075016.6855784,e=360*(e-.5),n=2*Math.atan(Math.exp((n-.5)/r)),n=180*(n-Math.PI/2)/Math.PI,{lng:e,lat:n})}function c(t){const e=t.lat;return{lng:l(t.lng),lat:l(e)}}function l(t){const e=Math.abs(t);let n=Math.floor(e);const i=60*(e-n);let o=Math.floor(i),r=Math.round(60*(i-o));return 60===r&&(o++,r=0),60===o&&(n++,o=0),{d:n,m:o,s:r,degree:t,positive:t>0}}function u(t){const{d:e,m:n,s:i,positive:o}=t;return(e+n/60+i/3600)*(o?1:-1)}function p(t){const e=t.lng,n=t.lat;return{lng:`${e.d}\xb0${Object(i.y)(e.m,2)}'${Object(i.y)(e.s,2)}"${e.positive?"E":"W"}`,lat:`${n.d}\xb0${Object(i.y)(n.m,2)}'${Object(i.y)(n.s,2)}"${n.positive?"N":"S"}`}}const h=[new RegExp("^(?:\\s+)?([+|-]?\\d+(?:(?:.?)(?:\\d+)?)?)[,|\\s](?:[,\\s]+)?([+|-]?\\d+(?:(?:.?)(?:\\d+)?)?)(?:\\s+)?$"),new RegExp("^(?:\\s+)?(\\d+\xb0(?:[,\\s]+)?(?:(?:\\d+'(?:[,\\s]+)?(?:\\d+\"?)?)?)?(?:[,\\s]+)?[N|S])[,|\\s](?:[,\\s]+)?(\\d+\xb0(?:[,\\s]+)?(?:(?:\\d+'(?:[,\\s]+)?(?:\\d+\"?)?)?)?(?:[,\\s]+)?[E|W])(?:\\s+)?$")],d=/(\d+)\xb0(?:[,\s]+)?(?:(?:(\d+)'(?:[,\s]+)?(?:(\d+)"?)?)?)?(?:[,\s]+)?([N|S|E|W])/;function g(t){return!!t&&(t=t.replace("(","").replace(")",""),h.some(e=>e.test(t)))}function f(t){return t?(t=t.replace("(","").replace(")",""),h[0].test(t)?function(t){const e=t.match(h[0]);if(!e)return null;const n=parseFloat(e[1]),i=parseFloat(e[2]);return Number.isNaN(i)||Number.isNaN(n)?null:e[0]&&e[1]?{lng:i,lat:n}:null}(t):h[1].test(t)?function(t){const e=t.match(h[1]);if(!e)return null;if(!e[0]||!e[1])return null;const n=e[1].match(d),i=e[2].match(d),o=u({d:n[1]?parseFloat(n[1]):0,m:n[2]?parseFloat(n[2]):0,s:n[3]?parseFloat(n[3]):0,positive:"N"===n[4]});return{lng:u({d:i[1]?parseFloat(i[1]):0,m:i[2]?parseFloat(i[2]):0,s:i[3]?parseFloat(i[3]):0,positive:"E"===i[4]}),lat:o}}(t):null):null}function b(t){const{lng:e,lat:n}=t;return!(e<-180||e>180||n<-90||n>90)}},X2Jw:function(t,e,n){"use strict";n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return i.b}),n.d(e,"c",function(){return o.a});var i=n("w5vR"),o=n("yi8m")},XrBI:function(t,e,n){"use strict";n.d(e,"a",function(){return vt});var i=n("2Vo4"),o=n("LRne"),r=n("itXk"),a=n("HDdC"),s=n("Cfvw"),c=n("z6cu"),l=n("VRyK"),u=n("/rf6"),p=n("QJ+7"),h=n.n(p),d=n("635J"),g=n.n(d),f=n("SPBs"),b=n.n(f),m=n("dnTh"),_=n("FQSa"),y=n("/RaO"),O=n("XNiG"),v=n("xgIS"),C=n("D0XW"),P=n("DH7j"),M=n("yCtX"),x=n("l7GE"),w=n("ZUHj");class k{call(t,e){return e.subscribe(new S(t))}}class S extends x.a{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){let e=t[n],i=Object(w.a)(this,e,e,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}}notifyNext(t,e,n,i,o){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}var E=n("l5mm"),I=n("z6kb"),R=n("pLZG"),T=n("vkgz"),A=n("Kj3r"),L=n("w1tV"),j=n("lJxs"),D=n("yuhW"),F=n("coGc"),N=n("6eBy"),B=n("0pZ/"),U=n("MGUr"),V=n("fXoL");let z=(()=>{class t{constructor(t,e){this.globalStatus=t,this.zone=e,this._events={},this.pressed=!1,this.customClickEventEmitter=new O.a,this.customClickEventLayersId=[],this.customMouseMoveEventEmitter=new O.a,this.customMouseMoveEventLayersId=[]}get events(){return this._events}init(t,e){this.parent=t,this.setEventsAsObservable(e,this.parent.mapElement)}onClick(t="*"){const e=(Array.isArray(t)?t:[t]).map(t=>(this.customClickEventLayersId.push(t),this.customClickEventEmitter.pipe(Object(R.a)(e=>!t||e.layerId===t))));return Object(l.a)(...e)}onMouseMove(t="*"){const e=(Array.isArray(t)?t:[t]).map(t=>(this.customMouseMoveEventLayersId.push(t),this.customMouseMoveEventEmitter.pipe(Object(R.a)(e=>!t||e.layerId===t))));return Object(l.a)(...e)}setEventsAsObservable(t,e){const n=this._events;["idle","data","zoomStart","zoom","zoomEnd","mouseDown","mouseMove","mouseUp","tap","dblClick","click","dragStart","drag","dragEnd","touchStart","touchMove","touchEnd","pitchStart","pitch","pitchEnd","rotateStart","rotate","rotateEnd"].forEach(t=>{const e=t;let o=this.eventToObservable(t);switch(t){case"mouseDown":o=o.pipe(Object(R.a)(t=>0===t.originalEvent.button));break;case"mouseMove":o=o.pipe(Object(R.a)(()=>!this.parent.isMoving));break;case"click":o=this.initClick(o);break;case"pitchStart":case"pitch":case"pitchEnd":case"rotateStart":case"rotate":case"rotateEnd":o=new i.a(!0).pipe(Object(T.a)(()=>console.warn("\ud655\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.",t)))}n[e]=this.share(o)}),n.mouseOut=Object(v.a)(e,"mouseout").pipe(Object(A.a)(10),Object(L.a)()),n.mouseOver=Object(v.a)(e,"mouseover").pipe(Object(A.a)(10),Object(L.a)()),this.subscribeIdle(),this.initMapMoveEvent(),this.initMapZoomEvent(),this.initOnClick(),this.initContextMenuEvent(),this.initCustomMouseMoveEvent(),this.initClickDataFeatureEvent()}initCustomMouseMoveEvent(){this._events.onMouseMove=t=>{const e=t&&(Array.isArray(t)?t:[t]);return this.events.mouseMove.pipe(Object(j.a)(t=>{let n=this.parent.queryRenderedFeatures(t.coord);return e&&(n=n.filter(t=>e.includes(t.layer.id))),Object.assign(Object.assign({},Object(U.a)(t)),{features:n})}))}}initContextMenuEvent(){this.events.contextMenu=this.share(this.eventToObservable("rightclick").pipe(Object(j.a)(t=>this.appendLngLatAndRenderedFeatures(t))))}initMapMoveEvent(){this.events.moveStart=this.share(this.eventToObservable("center_changed").pipe(Object(j.a)(t=>({lng:t.lng(),lat:t.lat()})),Object(D.b)(()=>this.events.idle))),this.events.orgMoveEnd=this.share(this.events.moveStart.pipe(Object(F.a)(()=>this.events.idle))),this.events.moveEnd=this.share(this.events.orgMoveEnd.pipe(Object(R.a)(()=>!this.parent.preventEmitMoveEndEvent||(this.parent.preventEmitMoveEndEvent=!1,this.parent.preventEmitZoomEndEvent=!1,!1))))}initMapZoomEvent(){this.events.zoomStart=this.share(this.eventToObservable("zoom_changed").pipe(Object(D.b)(()=>this.events.idle),Object(j.a)(()=>this.parent.getZoom()))),this.events.orgZoomEnd=this.share(this.events.zoomStart.pipe(Object(F.a)(()=>this.events.idle))),this.events.zoomEnd=this.share(this.events.orgZoomEnd.pipe(Object(R.a)(()=>!this.parent.preventEmitZoomEndEvent||(this.parent.preventEmitZoomEndEvent=!1,!1))))}eventToObservable(t,e=this.parent.engine){return new a.a(n=>{const i=t=>C.a.schedule(()=>n.next(t),20),o=this.zone.runOutsideAngular(()=>e.addListener(t.toLowerCase(),i));return()=>e.removeListener(o)})}share(t){return t.pipe(Object(L.a)(),Object(B.a)(this.zone))}initClick(t){return t.pipe(Object(N.a)(()=>this.preventDoubleClick()),Object(j.a)(t=>this.appendLngLatAndRenderedFeatures(t)))}initOnClick(){this._events.onClick=(t="*")=>this._events.click.pipe(Object(R.a)(e=>{var n;return"*"===t||(null===(n=e.features)||void 0===n?void 0:n.some(e=>t.includes(null==e?void 0:e.layer.id)))}))}preventDoubleClick(){return function(...t){if(1===t.length){if(!Object(P.a)(t[0]))return t[0];t=t[0]}return Object(M.a)(t,void 0).lift(new k)}([Object(E.a)(250).pipe(Object(j.a)(()=>!1)),this.events.dblClick.pipe(Object(j.a)(()=>!0))]).pipe(Object(R.a)(t=>!t))}initClickDataFeatureEvent(){this._events.clickDataFeature=this.share(this.eventToObservable("click",this.parent.engine.data))}appendLngLatAndRenderedFeatures(t){const e=this.parent.queryRenderedFeatures(t.coord);return Object.assign(Object.assign({},Object(U.a)(t)),{features:e})}subscribeIdle(){this.events.idle.subscribe()}}return t.\u0275fac=function(e){return new(e||t)(V.ic(I.e),V.ic(V.F))},t.\u0275prov=V.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var W=n("CJka"),H=n("AytR"),q=n("ym5D"),Y=n("FMTW"),J=n("NaFm"),G=n("Ae0E"),X=n("eIep"),K=n("JIr8");const Z="/v5/assets/img/sprites",$=[],Q=[{imageUrl:"/v5/assets/img/panorama/pegman-panorama",scheme:q},{imageUrl:`${Z}/${J.url}`,scheme:J.json}],tt=[{imageUrl:"/v5/assets/img/panorama/pegman-panorama@2x",scheme:Y},{imageUrl:`${Z}/${G.url}`,scheme:G.json}];let et=(()=>{class t{constructor(t){this.uaParser=t,this.sprites=[]}init(t){return this.ready||(this.ready=new a.a(e=>{this.sprites=this.uaParser.retina?[...$,...tt]:[...$,...Q];const n=[];for(const i of this.sprites)n.push(this.loadSprites(t,i));return Object(r.a)(n).pipe(Object(j.a)(t=>!t.find(t=>!t))).subscribe(t=>e.next(t),t=>e.error(t),()=>e.complete())})),this.ready}loadSprites(t,e){const n=`${e.imageUrl}.png?t=${H.a.buildDate}`;return new a.a(e=>{t.loadImage(n,(t,n)=>{t&&e.error(t),e.next(n),e.complete()})}).pipe(Object(j.a)(t=>{const e=document.createElement("canvas"),n=e.getContext("2d"),{width:i,height:o}=t;return e.width=i,e.height=o,n.drawImage(t,0,0),n}),Object(X.a)(n=>{const{scheme:i}=e,o=Object.entries(i).map(([e,i])=>{const{x:o,y:r,width:s,height:c,pixelRatio:l}=i;return new a.a(i=>{setTimeout(()=>{const a=n.getImageData(o,r,s,c);t.engine.addImage(e,a,{pixelRatio:parseInt(l,10)||1}),i.next(!0),i.complete()},0)})});return Object(r.a)(o).pipe(Object(j.a)(()=>!0))}),Object(K.a)(()=>Object(o.a)(!1)))}getScheme(t){const e=this.sprites.find(e=>e.scheme[t]);return e?e.scheme[t]:null}}return t.\u0275fac=function(e){return new(e||t)(V.ic(W.a))},t.\u0275prov=V.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var nt=n("+sev"),it=n("rS+x"),ot=n("Q63R"),rt=n("tF80"),at=n("SxV6"),st=n("5+tZ"),ct=n("IzEk"),lt=n("iTV6"),ut=n("zqdW"),pt=n("1RhC"),ht=n("Em1E"),dt=n("5Cmx"),gt=n("ZXKN"),ft=n("qKIp"),bt=n("Pbce"),mt=n("sYXR");let _t=(()=>{class t{constructor(){this.layers={}}getLayer(t){return this.hasLayer(t)?this.layers[t]:this.createLayer(t)}hasLayer(t){return this.layers.hasOwnProperty(t)}createLayer(t){let e;switch(t){case nt.f.Bike:e=new naver.maps.BicycleLayer;break;case nt.f.LandParcel:e=new naver.maps.CadastralLayer;break;case nt.f.Panorama:e=new naver.maps.StreetLayer;break;case nt.f.Traffic:e=new naver.maps.TrafficLayer;break;case nt.f.Cctv:e=new naver.maps.CctvLayer;break;case nt.f.Mountain:e=new naver.maps.MountainLayer;break;default:e=null}return this.layers[t]=e,e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=V.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var yt=n("l7P3"),Ot=function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})};let vt=(()=>{class t{constructor(t,e,n,o,r,a,s,c,l,u,p,h,d,g){this.zone=t,this.api=e,this.member=n,this.mapsEvent=o,this.store=r,this.uaParser=a,this.log=s,this.loader=c,this.envService=l,this.mapsSprites=u,this.mapsInitiator=p,this.mapsLayer=h,this.storage=d,this.sprites=g,this.preventEmitMoveEndEvent=!1,this.preventEmitZoomEndEvent=!1,this.RESTRICT_TOP=85,this.RESTRICT_LEFT=25,this.RESTRICT_RIGHT=72,this.RESTRICT_BOTTOM=15,this._map=null,this._changes=new i.a({type:_.a.NotReady,data:null}),this._ready=!1,this._instanceReady=!1,this.cursor=_.b.Default,this.isProgress=!1,this.ignoreMarkerId=null,this.mapsInitiator.afterInit().pipe(Object(R.a)(t=>t),Object(at.a)()).subscribe(t=>{this._engine=t.maps,this.debug(),this._mapElement=t.element,this.initMap()})}get map(){return this._map}get mapElement(){return this._mapElement}get changes(){return this._changes}get ready(){return!0}get instanceReady(){return this._instanceReady}get events(){return this.mapsEvent.events}get dragPan(){return this.map.dragPan}get isMoving(){return!!this.engine&&(this.engine.getMapAction().isTranRunning()||this.engine.getMapAction().isZooming())}get currentMapType(){return this._engine.mapTypeQuery}set defaultStyle(t){this._defaultStyle=t}get defaultStyle(){return this._defaultStyle}get lang(){return this._engine.getLanguage()}get engine(){return this._engine}initMap(){this.envService.isReal()||(window.nmap=this),this._map=this._engine.origin,this.mapsEvent.init(this,this._engine),this.mapsSprites.init(this).subscribe(()=>{this._ready=!0,this.emit(_.a.Ready)}),this.disableDragPan(),this.enableDragPan(),this._instanceReady=!0,this.emit(_.a.InstanceReady),this.writeFmpLog()}getMapTypeByStorage(){return this.storage.get(y.Vb)||nt.h.Basic}getElement(){return this._engine.getElement()}getContainer(){return this._engine.getContainer()}update(){this.map._update(!0)}onInstanceReady(t){this._instanceReady?t():this.changes.pipe(Object(R.a)(t=>t.type===_.a.InstanceReady)).subscribe(()=>{t()})}onReady(t){this._ready?t():this.changes.pipe(Object(R.a)(t=>t.type===_.a.Ready)).subscribe(()=>{t()})}afterReady(){return this._ready?Object(o.a)(!0):this.changes.pipe(Object(R.a)(t=>t.type===_.a.Ready),Object(at.a)(),Object(j.a)(()=>!0))}afterInstanceReady(){return this._instanceReady?Object(o.a)(!0):this.changes.pipe(Object(R.a)(t=>t.type===_.a.InstanceReady),Object(at.a)(),Object(j.a)(()=>!0))}createPopup(t,e=!1){const n=new naver.maps.InfoWindow(Object.assign({borderWidth:0,disableAnchor:!0,backgroundColor:"rgba(0,0,0,0)",anchorSize:{width:0,height:0}},t));return e&&n.open(this.engine),n}openPopup(t,e){const n=t instanceof naver.maps.InfoWindow?t:this.createPopup(t);return n.open(this.engine,e),n}emit(t,e){this.changes.next({type:t,data:e})}getFeaturesByPoint(t,e){if(!this.isVector())return this.queryRenderedFeatures(t,e);let n=[];e&&e.layers&&(n=e.layers);const i={layers:[...n]};return e&&e.filter&&(i.filter=e.filter),this.queryRenderedFeatures(t,i)}setMapType(t){const e=this.engine,n=nt.i.get(t);e.setMapTypeId(n),this.writeMapTypeToStorage(t)}getThemeLayer(t){return this.mapsLayer.getLayer(t)}onThemeLayer(t){Array.isArray(t)?t.forEach(t=>this._onLayer(t)):this._onLayer(t)}offThemeLayer(t){const e=this.mapsLayer.getLayer(t);e&&e.setMap()}onAttributionControl(){this.engine.setOptions({mapAttributionControl:!0})}offAttributionControl(){this.engine.setOptions({mapAttributionControl:!1})}showIndoor(t,e){this._engine.showIndoor(t,e)}hideIndoor(){this._engine.hideIndoor()}changeIndoorFloor(t,e){this._engine.showIndoor(t,e)}parseSource(t){return{url:t,type:"vector"}}isInboundMap(t){return this.engine.getBounds().hasLatLng(t)}isInboundScreen(t){const e=this.project(t);if(!e)return!1;const{width:n,height:i}=this.mapElement.getBoundingClientRect();return e.x>=this.RESTRICT_LEFT+Object(dt.h)(this.store)&&e.y>=this.RESTRICT_TOP&&e.x<=n-this.RESTRICT_RIGHT&&e.y<=i-this.RESTRICT_BOTTOM}project({lng:t,lat:e}){const{x:n,y:i}=this.engine.getProjection().fromCoordToOffset(new naver.maps.LatLng(e,t)),{x:o,y:r}=this.getTranslateInfo();return{x:n+o,y:i+r}}unproject({x:t,y:e}){const{x:n,y:i}=this.getTranslateInfo(),o=this.engine.getProjection().fromOffsetToCoord(new naver.maps.Point(t-n,e-i));return{lng:o.lng(),lat:o.lat()}}getBoundaryExcludingPanel(){if(!this.instanceReady)return;const{sw:t,ne:e}=this.getVisibleBounds();return{minX:t.lng,minY:t.lat,maxX:e.lng,maxY:e.lat}}getVisibleBounds(){const t=this.getBounds(),e=this.project(t.ne),n=this.project(t.sw),i=y.Pb,o=y.Ub-y.Wb,r=this.unproject({x:e.x-y.Zb,y:e.y+y.ac}),{width:a}=Object(gt.a)();return{sw:this.unproject({x:n.x+(o+a),y:n.y-i}),ne:r}}getCenterExcludingPanel(){const t=this.getCenter();if(Object(dt.e)(this.store))return t;const{x:e,y:n}=this.project(t),i=.5*(Object(dt.h)(this.store)||y.Wb);return this.unproject({x:e+i,y:n})}getCenterForPrintMap(t){const{x:e,y:n}=this.project(t),i=window.innerWidth-y.Wb,o=window.innerHeight-y.Xb;return this.unproject({x:e+.5*(i+y.Yb)*.5,y:n+.5*o})}getVisibleCenterCoordinatesByPoint(t){return this.getVisibleCenterByPoint(t.x,t.y,.5*y.Wb)}getVisibleCenterByPoint(t,e,n=0,i=0){const o=this.project({lng:t,lat:e});return o?(o.x-=n,o.y-=i,this.unproject(o)):null}getCenterPointExcludingPanel(){if(!this._instanceReady)return null;const t=this.getCenterExcludingPanel();return this.project(t)}resize(){this.onReady(()=>{this.engine.autoResize()})}setCenter({lng:t,lat:e}){this._engine.setCenter(new naver.maps.LatLng(e,t))}getCenter(){if(!this._instanceReady)return null;const t=this._engine.getCenter();return{lng:t.lng(),lat:t.lat()}}getBbox(t){const e=h()(t);return{sw:{lng:e[0],lat:e[1]},ne:{lng:e[2],lat:e[3]}}}isInsideScreen(t,e={}){const n=Object.assign({paddingTop:this.RESTRICT_TOP,paddingLeft:this.RESTRICT_LEFT,paddingRight:this.RESTRICT_RIGHT,paddingBottom:this.RESTRICT_BOTTOM,marginTop:0,marginLeft:0,marginRight:0,marginBottom:0},e),{left:i,top:o,right:r,bottom:a}=t,s=Object(dt.f)(this.store);let c=y.s+n.paddingLeft;if(s){const t=Object(gt.a)();t&&(c+=t.width)}const l=window.innerWidth-r-n.paddingRight,u=window.innerHeight-a+n.marginTop-n.paddingBottom;return!(o-n.paddingTop<0||i-c<0||l<0||u<0)}fittingPosition(t,e={}){const n=Object.assign({paddingTop:this.RESTRICT_TOP,paddingLeft:this.RESTRICT_LEFT,paddingRight:this.RESTRICT_RIGHT,paddingBottom:this.RESTRICT_BOTTOM,marginTop:0,marginLeft:0,marginRight:0,marginBottom:0},e),{left:i,top:o,right:r,bottom:a}=t,s=Object(dt.f)(this.store);let c=y.s+n.paddingLeft;if(s){const t=Object(gt.a)();t&&(c+=t.width)}const l=i-c,u=o-n.paddingTop,p=window.innerWidth-r-n.paddingRight,h=window.innerHeight-a+n.marginTop-n.paddingBottom,d=l<0,g=u<0,f=p<0,b=h<0;if(!(g||d||f||b))return Promise.resolve(!0);const m=this.getCenter(),_=this.project(m);d?_.x=_.x+l:f&&(_.x=_.x-p),g?_.y=_.y+u:b&&(_.y=_.y-h);const O=this.unproject(_);return this.moveTo({center:O,easing:bt.b,duration:100})}moveTo(t,e=!1){return Ot(this,void 0,void 0,function*(){this.isMoving&&(null==t?void 0:t.zoom)&&(yield this.emitAfterMoveEnd().toPromise()),this.preventEmitMoveEndEvent=e,this.preventEmitZoomEndEvent=e,t.withPadding&&!t.offset&&(t.offset=this.getDefaultOffset());const n=t.offset?this.calcLngLatByOffset(t.center,t.offset,t.zoom):t.center,i={};return t.duration&&(i.duration=t.duration),t.easing&&(i.easing=t.easing),this.engine.morph(n,t.zoom,i),this.emitAfterMoveEnd().toPromise()})}getBoundaryByCenter(t,e=this.getZoom(),n=!1,i){const o=n?(null==i?void 0:i.top)||this.RESTRICT_TOP:0,r=n?(null==i?void 0:i.bottom)||this.RESTRICT_BOTTOM:0,a=(n?(null==i?void 0:i.left)||this.RESTRICT_LEFT:0)+(n?(null==i?void 0:i.right)||this.RESTRICT_RIGHT:0)+Object(gt.a)().width,s=o-r,c=this.getBounds(),{min:l,max:p}=Object(U.b)(t,Math.round(e),Math.round(this.getZoom()),a,s,c,t=>this.project(t),t=>this.unproject(t));return Object(u.polygon)([[[l.lng,l.lat],[p.lng,l.lat],[p.lng,p.lat],[l.lng,p.lat],[l.lng,l.lat]]])}getFitBounds(t,e){const{minZoom:n,maxZoom:i}=e,[o,r]=b()(t).geometry.coordinates,a={lng:o,lat:r},s=this.getBoundaryByCenter(a,n);let c=n,l=!1;for(;(l=g()(t,s))&&!(c>=i);)c+=1,Object(m.a)(s,.5,{mutate:!0});return{center:a,zoom:c,isWithIn:l}}getFitBoundsZoom(t,e){const n=this.engine.getMapModel(),{zoom:i}=n.getFitZoomAndCenter(Object(U.h)(t),e);return i}quietFitBounds(t,e){return Ot(this,void 0,void 0,function*(){return this.preventEmitMoveEndEvent=!0,this.preventEmitZoomEndEvent=!0,this.fitBounds(t,e)})}fitBounds(t,e){return Ot(this,void 0,void 0,function*(){if(t.sw.lat===t.ne.lat&&t.sw.lat===t.ne.lat)return void this.moveTo({center:t.sw,withPadding:!0});const n={min:this.project(t.sw),max:this.project(t.ne)},i=this.getBoundaryExcludingPanel(),o={min:this.project({lng:i.minX,lat:i.minY}),max:this.project({lng:i.maxX,lat:i.maxY})},r=this.getZoom(),{centerPoint:a,zoom:s}=Object(U.c)(o,n,r,null==e?void 0:e.maxZoom),c={center:this.unproject(a),zoom:s,easing:this.uaParser.isIe11&&(null==e?void 0:e.easing),duration:null==e?void 0:e.duration};return(null==e?void 0:e.padding)&&("boolean"==typeof e.padding?c.withPadding=e.padding:c.padding=e.padding),this.moveTo(c)})}getBounds(){const t=this.engine.getBounds();return{sw:{lng:t.minX(),lat:t.minY()},ne:{lng:t.maxX(),lat:t.maxY()}}}setZoom(t){this.engine.getZoom()!==t&&this.engine.setZoom(t)}setMinZoom(t){this.engine.setOptions("minZoom",t)}getZoom(){return this.engine.getZoom()}getMaxZoom(){return this.engine.getMaxZoom()}getMinZoom(){return this.engine.getMinZoom()}zoomBy(t=1,e,n=!0){this.engine.zoomBy(t,e,!this.uaParser.isIe11&&n)}getTranslateInfo(){return this.engine.getMapView().getContainerDivOffset()}zoomIn(){const t=!this.uaParser.isIe11;return this._engine.setZoom(this.getZoom()+1,t),this}zoomOut(){const t=!this.uaParser.isIe11;return this._engine.setZoom(this.getZoom()-1,t),this}setBearing(t){this.engine.setRotation(t)}getBearing(){var t;return(null===(t=this.engine)||void 0===t?void 0:t.getRotation())||0}setPitch(t){this.engine.setTilt(t)}getPitch(){var t;return(null===(t=this.engine)||void 0===t?void 0:t.getTilt())||0}disableDragPan(){this.engine.setOptions("draggable",!1)}enableDragPan(){this.engine.setOptions("draggable",!0)}enableWheelZoom(){this.engine.setOptions("scrollWheel",!0)}disableWheelZoom(){this.engine.setOptions("scrollWheel",!1)}getLayoutProperty(t,e){return this._engine.getLayoutProperty(t,e)}setStyle(t,e){return this._engine.setStyle(t,e),this}getStyle(){return this._engine.getStyle()}getLayer(t){return this.engine.layers.get(t)}getLayerAll(){return[]}queryRenderedFeatures(t,e){return this.engine.queryRenderedFeatures(t,e||{})}loadImage(t,e){this._engine.loadImage(t,e)}addImage(t,e,n){this._engine.hasImage(t)||this._engine.addImage(t,e,n)}removeImage(t){this.map.removeImage.apply(this.map,arguments)}getImageInfo(t){return this.mapsSprites.getScheme(t)}getIconOffset(t){const e=this.getImageInfo(t);return(e&&e.height?e.height/parseInt(e.pixelRatio,10)/2*-1:y.P)+(it.y.get(t)||0)}getEmptyGeoJson(){const t=this.getFeatureCollection([]);return this.getGeoJSONSourceRaw(t)}getFeatureCollection(t){return function(t){return{type:"FeatureCollection",features:t||[]}}(t)}getGeoJSONSourceRaw(t,e){return function(t,e){const n={data:t,type:"geojson"};return e&&(n.tolerance=e),n}(t,e)}convResUrlToSpriteId(t){if(!t)return it.v.Default;if(0===t.indexOf("marker:"))return t;const[e,n,i,o]=t.split("/");return`marker:${o}`}getSpriteLoadUrl(t){if(!t)return null;const[e,n,i,o]=t.split("/");return i&&o?`/v5/api/res/${i}/image/${o}${this.uaParser.retina?"@2x":"@1x"}.png`:null}prepareMarkers(t){const e=[];return t.forEach(t=>{e.push(this.getMarkerType(t))}),e.push(this.getMarkerType("")),Object(r.a)(e)}getMarkerType(t){if(!t)return Object(o.a)(it.v.Default);const e=this.convResUrlToSpriteId(t);return new a.a(n=>{if(this.hasImage(e))return n.next(e),void n.complete();const i=this.getSpriteLoadUrl(t);if(!i)return n.next(e),void n.complete();this.loadImage(i,(t,i)=>t?(n.next(it.v.Default),void n.complete()):this.hasImage(e)?(n.next(e),void n.complete()):(this.addImage(e,i,{pixelRatio:this.uaParser.retina?2:1,sprite:!1}),n.next(e),void n.complete()))})}hasImage(t){return this._engine.hasImage(t)}createImageIcon(t,e){const{url:n,width:i,height:o,imageWidth:r,imageHeight:a,pixelRatio:s,x:c,y:l}=this.sprites.getMarker(t);return{url:n,size:[i/s,o/s],scaledSize:[r/s,a/s],origin:[c/s,l/s],anchor:e}}createMarker(t,e=!0){const n=t.icon.content;return n&&n instanceof HTMLElement&&(n.style.position="absolute"),e?new naver.maps.Marker(Object.assign({map:this.engine},t)):new naver.maps.Marker(Object.assign({},t))}createSimpleMarker(t,e=!0){return naver.maps.SimpleMarker?e?new naver.maps.SimpleMarker(Object.assign({map:this.engine},t)):new naver.maps.SimpleMarker(Object.assign({},t)):this.createMarker(t,e)}createClusteringMarker(t){return new MarkerClustering(Object.assign(Object.assign({},t),{map:this.engine}))}createPolyline(t){return new naver.maps.Polyline(Object.assign(Object.assign({},t),{map:this.engine}))}createCircle(t){return new naver.maps.Circle(Object.assign(Object.assign({},t),{map:this.engine}))}createPolygon(t){return new naver.maps.Polygon(Object.assign(Object.assign({},t),{map:this.engine}))}createFeature(t){return new naver.maps.Feature(t)}setFeatureStyle(t,e){const n="function"==typeof e?e(t.getRaw()):e;t.setProperty("rawStyle",n),t.setStyle(n)}updateFeatureStyle(t,e){const n=t.getProperty("rawStyle");if(n||this.setFeatureStyle(t,e),!Object.entries(e).find(([t,e])=>!n.hasOwnProperty(t)||("object"==typeof e?e.toString()!==n[t].toString():e!==n[t])))return;const i=Object.assign(Object.assign({},n),e);t.setProperty("rawStyle",i),t.setStyle(i)}addMapsFeature(t){this.engine.data.addFeature(t)}removeMapsFeature(t){this.engine.data.removeFeature(t)}getMapsAllFeatures(){return this.engine.data.getAllFeature()}getMapsFeature(t){return this.engine.data.getFeatureById(t)}hasMapsFeature(t){return!!this.getMapsFeature(t)}createGeoJson(t,e=!0){return this.engine.data.addGeoJson(t,e)}removeGeoJson(t){this.engine.data.removeGeoJson(t)}getProperty(t,e){const n=this.getLayer(t);if(!n)return null;const i=n.getSource(e);if(!i)return null;const o=i.getGeoJson();if(!o)return null;const r=o.data.features;if(!r)return null;const a="string"==typeof e?parseInt(e,10):e;return r.map(t=>t.properties).find(t=>t.id===a)}enableDragRotate(){this.uaParser.isIe11||this.isVector()&&this._engine.origin().dragRotate.enable()}disableDragRotate(){this.isVector()&&this._engine.origin().dragRotate.disable()}enableTouchZoomRotate(){this.uaParser.isIe11||this.isVector()&&this._engine.origin().touchZoomRotate.enable()}disableTouchZoomRotate(){this.isVector()&&this._engine.origin().touchZoomRotate.disable()}enableKeyboard(){this.engine.setOptions("keyboardShortcuts",!0)}disableKeyboard(){this.engine.setOptions("keyboardShortcuts",!1)}enableDoubleClickZoom(){this.engine.getOptions("disableDoubleClickZoom")||this.engine.setOptions("disableDoubleClickZoom",!0)}disableDoubleClickZoom(){this.engine.getOptions("disableDoubleClickZoom")&&this.engine.setOptions("disableDoubleClickZoom",!1)}getScreenshot(t,e){return Object(s.a)(this._engine.getScreenshot(t,e))}getCapturedUrl(){const t={domain:H.a.photoInfraUrl,userId:null,getSessionKey:e=>{this.api.getPhotoInfraKey(t.userId).subscribe(t=>{e(t.sessionKey)})},sslEnabled:"https:"===document.location.protocol,resourcePath:"/v5/assets"};return Object(r.a)([Object(s.a)(this._engine.getScreenshot()),this.member.getLoginStatus()]).pipe(Object(st.a)(([e,n])=>(t.userId=n.loginId,t.userId?new a.a(n=>{this.loader.loadJavascript("/v5/assets/js/phup/phup.js?v=1").subscribe(()=>{phup.getUploader("BASE64",t=>{"IMAGE"===t.code?n.next(t):n.error(t),n.complete()},t).upload({base64image:e.split("data:image/png;base64,")[1],imageFileName:(new Date).getTime()+".png"})})}):Object(c.a)("Invalid userId"))))}setLanguage(t){this._engine.setLanguage(t)}isVector(){return!1}getCttVersion(){return this.getThemeLayer(nt.f.Traffic).getRTSVersion()}startStats(){this._engine.profile.statsStart()}endStats(){this._engine.profile.statsEnd()}getStats(){return this._engine.profile.stats}toggleDebug(t){this._engine.toggleFeatureDebug(t),window.__TWOFACE_DEBUG=t}setCursor(t){this.engine.setCursor(t)}clearCursor(){this.engine.setCursor()}isDragging$(){return Object(l.a)(this.events.dragStart.pipe(Object(j.a)(()=>!0)),this.events.dragEnd.pipe(Object(j.a)(()=>!1)))}refreshTraffic(){this.getThemeLayer(nt.f.Traffic).refreshRTSVersion()}emitAfterMoveEnd(){return this.isMoving?this.events.idle.pipe(Object(R.a)(()=>!this.isMoving),Object(ct.a)(1),Object(j.a)(()=>!0)):Object(o.a)(!0)}writeFmpLog(){this.log.fmp()}getBboxPadding(){return Ot(this,void 0,void 0,function*(){const t=yield Object(dt.u)(this.store).pipe(Object(R.a)(t=>!t),Object(X.a)(()=>Object(dt.w)(this.store)),Object(j.a)(t=>Object(dt.g)(this.store)?t:Math.max(t,y.Tb)),Object(at.a)()).toPromise();return{top:this.RESTRICT_TOP,right:this.RESTRICT_RIGHT,bottom:this.RESTRICT_BOTTOM,left:y.s+this.RESTRICT_LEFT+t}})}writeMapTypeToStorage(t){this.storage.set(y.Vb,t)}calcLngLatByOffset(t,{x:e,y:n},i){const o=new naver.maps.Point(e,n),r=new naver.maps.Point(this.project(t)),a=this.getZoom(),s=i&&i-a;return s&&this.engine.getProjection().scaleDown(o,s),r.sub(o.x,o.y),this.unproject(r)}getDefaultOffset(){return{x:.5*Object(dt.h)(this.store),y:0}}debug(){console.log(this.engine)}_onLayer(t){const e=this.mapsLayer.getLayer(t);e&&e.setMap(this.engine)}}return t.\u0275fac=function(e){return new(e||t)(V.ic(V.F),V.ic(ot.a),V.ic(rt.a),V.ic(z),V.ic(yt.h),V.ic(W.a),V.ic(lt.a),V.ic(ut.a),V.ic(pt.a),V.ic(et),V.ic(ht.a),V.ic(_t),V.ic(ft.a),V.ic(mt.a))},t.\u0275prov=V.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Xrjk:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n("j3ZU")),r=n("cWyK");e.default=function(t,e){return void 0===e&&(e={}),r.segmentReduce(t,function(t,n){var i=n.geometry.coordinates;return t+o.default(i[0],i[1],e)},0)}},YHYr:function(t){t.exports=JSON.parse('{"marker:00007-00022":{"x":310,"y":0,"width":34,"height":34,"pixelRatio":"1"},"marker:00007-00097":{"x":310,"y":36,"width":34,"height":34,"pixelRatio":"1"},"marker:00007-00135":{"x":0,"y":0,"width":46,"height":58,"pixelRatio":"1"},"marker:00007-00211":{"x":48,"y":0,"width":46,"height":58,"pixelRatio":"1"},"marker:00027-00074":{"x":310,"y":72,"width":34,"height":34,"pixelRatio":"1"},"marker:00027-00192":{"x":96,"y":0,"width":46,"height":58,"pixelRatio":"1"},"marker:cctv":{"x":310,"y":264,"width":24,"height":24,"pixelRatio":"1"},"marker:cctv_navi":{"x":0,"y":323,"width":26,"height":26,"pixelRatio":"1"},"marker:icn-cctv-selected":{"x":372,"y":0,"width":21,"height":23,"pixelRatio":"1"},"marker:ico-safety-warning-01":{"x":372,"y":25,"width":16,"height":16,"pixelRatio":"1"},"marker:ico-safety-warning-02":{"x":372,"y":43,"width":16,"height":16,"pixelRatio":"1"},"marker:ico-safety-warning-03":{"x":372,"y":61,"width":16,"height":16,"pixelRatio":"1"},"marker:ico-safety-warning-04":{"x":372,"y":79,"width":16,"height":16,"pixelRatio":"1"},"marker:icon-location-info":{"x":246,"y":0,"width":30,"height":40,"pixelRatio":"1"},"marker:img-route-pin-01":{"x":246,"y":42,"width":30,"height":40,"pixelRatio":"1"},"marker:img-route-pin-02":{"x":246,"y":84,"width":30,"height":40,"pixelRatio":"1"},"marker:img-route-pin-via-01":{"x":246,"y":126,"width":30,"height":40,"pixelRatio":"1"},"marker:img-route-pin-via-02":{"x":0,"y":206,"width":30,"height":40,"pixelRatio":"1"},"marker:img-route-pin-via-03":{"x":32,"y":206,"width":30,"height":40,"pixelRatio":"1"},"marker:img-route-pin-via-04":{"x":64,"y":206,"width":30,"height":40,"pixelRatio":"1"},"marker:img-route-pin-via-05":{"x":96,"y":206,"width":30,"height":40,"pixelRatio":"1"},"marker:img-route-pin-via-small-01":{"x":310,"y":144,"width":28,"height":28,"pixelRatio":"1"},"marker:img-route-pin-via-small-02":{"x":310,"y":174,"width":28,"height":28,"pixelRatio":"1"},"marker:img-route-pin-via-small-03":{"x":310,"y":204,"width":28,"height":28,"pixelRatio":"1"},"marker:img-route-pin-via-small-04":{"x":310,"y":234,"width":28,"height":28,"pixelRatio":"1"},"marker:img-route-pin-via-small-05":{"x":278,"y":210,"width":28,"height":28,"pixelRatio":"1"},"marker:m-frequent-etc":{"x":346,"y":99,"width":24,"height":25,"pixelRatio":"1"},"marker:m-frequent-home":{"x":346,"y":126,"width":24,"height":25,"pixelRatio":"1"},"marker:m-frequent-office":{"x":346,"y":153,"width":24,"height":25,"pixelRatio":"1"},"marker:m-frequent-school":{"x":346,"y":180,"width":24,"height":25,"pixelRatio":"1"},"marker:m-my-default":{"x":346,"y":207,"width":24,"height":25,"pixelRatio":"1"},"marker:m-my-folder-1":{"x":346,"y":234,"width":24,"height":25,"pixelRatio":"1"},"marker:m-my-folder-10":{"x":346,"y":261,"width":24,"height":25,"pixelRatio":"1"},"marker:m-my-folder-11":{"x":346,"y":288,"width":24,"height":25,"pixelRatio":"1"},"marker:m-my-folder-12":{"x":28,"y":323,"width":24,"height":25,"pixelRatio":"1"},"marker:m-my-folder-2":{"x":54,"y":323,"width":24,"height":25,"pixelRatio":"1"},"marker:m-my-folder-3":{"x":80,"y":323,"width":24,"height":25,"pixelRatio":"1"},"marker:m-my-folder-4":{"x":106,"y":323,"width":24,"height":25,"pixelRatio":"1"},"marker:m-my-folder-5":{"x":132,"y":323,"width":24,"height":25,"pixelRatio":"1"},"marker:m-my-folder-6":{"x":158,"y":323,"width":24,"height":25,"pixelRatio":"1"},"marker:m-my-folder-7":{"x":184,"y":323,"width":24,"height":25,"pixelRatio":"1"},"marker:m-my-folder-8":{"x":210,"y":323,"width":24,"height":25,"pixelRatio":"1"},"marker:m-my-folder-9":{"x":236,"y":323,"width":24,"height":25,"pixelRatio":"1"},"marker:m-my-transit":{"x":262,"y":323,"width":24,"height":25,"pixelRatio":"1"},"marker:m-s-frequent-etc":{"x":128,"y":206,"width":30,"height":40,"pixelRatio":"1"},"marker:m-s-frequent-home":{"x":160,"y":206,"width":30,"height":40,"pixelRatio":"1"},"marker:m-s-frequent-office":{"x":192,"y":206,"width":30,"height":40,"pixelRatio":"1"},"marker:m-s-frequent-school":{"x":224,"y":206,"width":30,"height":40,"pixelRatio":"1"},"marker:m-s-my-default":{"x":278,"y":0,"width":30,"height":40,"pixelRatio":"1"},"marker:m-s-my-folder-1":{"x":278,"y":42,"width":30,"height":40,"pixelRatio":"1"},"marker:m-s-my-folder-10":{"x":278,"y":84,"width":30,"height":40,"pixelRatio":"1"},"marker:m-s-my-folder-11":{"x":278,"y":126,"width":30,"height":40,"pixelRatio":"1"},"marker:m-s-my-folder-12":{"x":278,"y":168,"width":30,"height":40,"pixelRatio":"1"},"marker:m-s-my-folder-2":{"x":0,"y":248,"width":30,"height":40,"pixelRatio":"1"},"marker:m-s-my-folder-3":{"x":32,"y":248,"width":30,"height":40,"pixelRatio":"1"},"marker:m-s-my-folder-4":{"x":64,"y":248,"width":30,"height":40,"pixelRatio":"1"},"marker:m-s-my-folder-5":{"x":96,"y":248,"width":30,"height":40,"pixelRatio":"1"},"marker:m-s-my-folder-6":{"x":128,"y":248,"width":30,"height":40,"pixelRatio":"1"},"marker:m-s-my-folder-7":{"x":160,"y":248,"width":30,"height":40,"pixelRatio":"1"},"marker:m-s-my-folder-8":{"x":192,"y":248,"width":30,"height":40,"pixelRatio":"1"},"marker:m-s-my-folder-9":{"x":224,"y":248,"width":30,"height":40,"pixelRatio":"1"},"marker:m-s-my-transit":{"x":256,"y":248,"width":30,"height":40,"pixelRatio":"1"},"marker:mDoorway":{"x":288,"y":323,"width":22,"height":22,"pixelRatio":"1"},"marker:mDoorwayCar":{"x":312,"y":323,"width":22,"height":22,"pixelRatio":"1"},"marker:mSDoorway":{"x":0,"y":60,"width":46,"height":58,"pixelRatio":"1"},"marker:mSDoorwayCar":{"x":48,"y":60,"width":46,"height":58,"pixelRatio":"1"},"marker:numbering_A":{"x":246,"y":168,"width":24,"height":31,"pixelRatio":"1"},"marker:numbering_A_Sel":{"x":144,"y":0,"width":32,"height":41,"pixelRatio":"1"},"marker:numbering_B":{"x":212,"y":172,"width":24,"height":31,"pixelRatio":"1"},"marker:numbering_B_Sel":{"x":144,"y":43,"width":32,"height":41,"pixelRatio":"1"},"marker:numbering_C":{"x":178,"y":129,"width":24,"height":31,"pixelRatio":"1"},"marker:numbering_C_Sel":{"x":0,"y":120,"width":32,"height":41,"pixelRatio":"1"},"marker:numbering_D":{"x":144,"y":86,"width":24,"height":31,"pixelRatio":"1"},"marker:numbering_D_Sel":{"x":34,"y":120,"width":32,"height":41,"pixelRatio":"1"},"marker:numbering_E":{"x":0,"y":290,"width":24,"height":31,"pixelRatio":"1"},"marker:numbering_E_Sel":{"x":68,"y":120,"width":32,"height":41,"pixelRatio":"1"},"marker:numbering_F":{"x":26,"y":290,"width":24,"height":31,"pixelRatio":"1"},"marker:numbering_F_Sel":{"x":102,"y":120,"width":32,"height":41,"pixelRatio":"1"},"marker:numbering_G":{"x":52,"y":290,"width":24,"height":31,"pixelRatio":"1"},"marker:numbering_G_Sel":{"x":136,"y":120,"width":32,"height":41,"pixelRatio":"1"},"marker:numbering_H":{"x":78,"y":290,"width":24,"height":31,"pixelRatio":"1"},"marker:numbering_H_Sel":{"x":178,"y":0,"width":32,"height":41,"pixelRatio":"1"},"marker:numbering_I":{"x":104,"y":290,"width":24,"height":31,"pixelRatio":"1"},"marker:numbering_I_Sel":{"x":178,"y":43,"width":32,"height":41,"pixelRatio":"1"},"marker:numbering_J":{"x":130,"y":290,"width":24,"height":31,"pixelRatio":"1"},"marker:numbering_J_Sel":{"x":178,"y":86,"width":32,"height":41,"pixelRatio":"1"},"marker:numbering_K":{"x":156,"y":290,"width":24,"height":31,"pixelRatio":"1"},"marker:numbering_K_Sel":{"x":0,"y":163,"width":32,"height":41,"pixelRatio":"1"},"marker:numbering_L":{"x":182,"y":290,"width":24,"height":31,"pixelRatio":"1"},"marker:numbering_L_Sel":{"x":34,"y":163,"width":32,"height":41,"pixelRatio":"1"},"marker:numbering_M":{"x":208,"y":290,"width":24,"height":31,"pixelRatio":"1"},"marker:numbering_M_Sel":{"x":68,"y":163,"width":32,"height":41,"pixelRatio":"1"},"marker:numbering_N":{"x":234,"y":290,"width":24,"height":31,"pixelRatio":"1"},"marker:numbering_N_Sel":{"x":102,"y":163,"width":32,"height":41,"pixelRatio":"1"},"marker:numbering_O":{"x":260,"y":290,"width":24,"height":31,"pixelRatio":"1"},"marker:numbering_O_Sel":{"x":136,"y":163,"width":32,"height":41,"pixelRatio":"1"},"marker:numbering_P":{"x":286,"y":290,"width":24,"height":31,"pixelRatio":"1"},"marker:numbering_P_Sel":{"x":170,"y":163,"width":32,"height":41,"pixelRatio":"1"},"marker:numbering_Q":{"x":312,"y":290,"width":24,"height":31,"pixelRatio":"1"},"marker:numbering_Q_Sel":{"x":212,"y":0,"width":32,"height":41,"pixelRatio":"1"},"marker:numbering_R":{"x":346,"y":0,"width":24,"height":31,"pixelRatio":"1"},"marker:numbering_R_Sel":{"x":212,"y":43,"width":32,"height":41,"pixelRatio":"1"},"marker:numbering_S":{"x":346,"y":33,"width":24,"height":31,"pixelRatio":"1"},"marker:numbering_S_Sel":{"x":212,"y":86,"width":32,"height":41,"pixelRatio":"1"},"marker:numbering_T":{"x":346,"y":66,"width":24,"height":31,"pixelRatio":"1"},"marker:numbering_T_Sel":{"x":212,"y":129,"width":32,"height":41,"pixelRatio":"1"},"marker:route-path-arrow":{"x":372,"y":97,"width":8,"height":8,"pixelRatio":"1"},"marker:vote-selected":{"x":96,"y":60,"width":46,"height":58,"pixelRatio":"1"},"marker:vote":{"x":310,"y":108,"width":34,"height":34,"pixelRatio":"1"}}')},YZjB:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n("rS+x"),o=n("itXk"),r=n("SxV6"),a=n("UFSi"),s=n("tMAK"),c=n("R0Ic"),l=n("XrBI"),u=n("ApIJ"),p=n("Pbce"),h=n("fXoL");let d=(()=>{class t{constructor(t,e,n,i,o){this.aBuilder=t,this.commonRoutes=e,this.maps=n,this.indoor=i,this.zone=o}init(t){this.service=t}morphIntoViewer(t,e,n){a.a.of("panorama").debug("morphIntoViewer",t,e),this.saveStates();const i=this.service.panoramaMap.getPosition();if(this.maps.ready){if(!t)return this.activateMiniMapMode(i),void this.zone.run(n);const a={center:{lng:i.lng,lat:i.lat},zoom:this.maps.getMaxZoom(),pitch:this.states.pitch+60,bearing:this.getBestBearing(this.states.bearing,i.lng)};e&&(a.zoom=6),this.maps.moveTo(a),Object(o.a)([this.maps.events.moveEnd,this.maps.events.zoomEnd]).pipe(Object(r.a)()).subscribe(()=>{this.activateMiniMapMode(i),this.zone.run(n)})}else this.maps.onReady(()=>{this.activateMiniMapMode(i)}),this.zone.run(n)}morphIntoEntry(t,e,n){a.a.of("panorama").debug("morphIntoEntry",t,e);const s=this.commonRoutes.getRouterParams().coordinates,c={center:{lng:s.lng,lat:s.lat},zoom:s.zoom,pitch:s.tilt,bearing:s.rotate};if(!e)return this.maps.moveTo(c),this.deactivateMiniMapMode(),void this.zone.run(n);this.maps.moveTo({zoom:t===i.z.AIR?6:this.maps.getMaxZoom(),pitch:this.states.pitch+60,bearing:this.getBestBearing(this.states.bearing,this.states.lng)}),this.maps.moveTo(Object.assign(Object.assign({},c),{easing:p.b})),Object(o.a)([this.maps.events.moveEnd,this.maps.events.zoomEnd]).pipe(Object(r.a)()).subscribe(()=>{this.deactivateMiniMapMode(),this.zone.run(n)})}adjustViewport(t){if(!this.maps.ready)return;const e=this.maps.getBounds();(t.lng<e.ne.lng||t.lat>e.sw.lng||t.lat<e.ne.lat||t.lat>e.sw.lat)&&this.maps.setCenter({lng:t.lng,lat:t.lat})}runAnimationAfterDetachMiniMap(){const t=this.aBuilder.build([Object(c.k)({opacity:0,background:"white"}),Object(c.e)(1e3,Object(c.k)({opacity:1}))]).create(this.maps.mapElement);t.play(),t.onDone(()=>t.destroy())}saveStates(){const t=this.maps,e=t.getCenter();this.states={lng:e.lng,lat:e.lat,zoom:t.getZoom(),pitch:t.getPitch(),bearing:t.getBearing()}}activateMiniMapMode(t){return e=this,void 0,i=function*(){this.maps.offAttributionControl();const e={center:t,withPadding:!1,pitch:0,bearing:0};yield this.maps.moveTo(e),this.maps.onThemeLayer(u.g.Panorama),this.maps.disableDragRotate(),this.maps.disableTouchZoomRotate(),this.maps.disableKeyboard()},new((n=void 0)||(n=Promise))(function(t,o){function r(t){try{s(i.next(t))}catch(e){o(e)}}function a(t){try{s(i.throw(t))}catch(e){o(e)}}function s(e){var i;e.done?t(e.value):(i=e.value,i instanceof n?i:new n(function(t){t(i)})).then(r,a)}s((i=i.apply(e,[])).next())});var e,n,i}deactivateMiniMapMode(){this.maps.onAttributionControl(),this.maps.enableDragRotate(),this.maps.enableTouchZoomRotate(),this.maps.enableKeyboard()}getBestBearing(t,e){return t+(e>this.maps.getCenter().lng?90:-90)}}return t.\u0275fac=function(e){return new(e||t)(h.ic(c.b),h.ic(u.e),h.ic(l.a),h.ic(s.b),h.ic(h.F))},t.\u0275prov=h.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Yeox:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("/rf6"),o=n("AKIq");e.default=function(t,e,n,r){void 0===r&&(r={});var a=o.getCoord(t),s=i.degreesToRadians(a[0]),c=i.degreesToRadians(a[1]),l=i.degreesToRadians(n),u=i.lengthToRadians(e,r.units),p=Math.asin(Math.sin(c)*Math.cos(u)+Math.cos(c)*Math.sin(u)*Math.cos(l)),h=s+Math.atan2(Math.sin(l)*Math.sin(u)*Math.cos(c),Math.cos(u)-Math.sin(c)*Math.sin(p)),d=i.radiansToDegrees(h),g=i.radiansToDegrees(p);return i.point([d,g],r.properties)}},YgFX:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("fXoL");let o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Sb({type:t,selectors:[["dynamic-content-outlet-error"]],inputs:{errorMessage:"errorMessage"},decls:2,vars:1,template:function(t,e){1&t&&(i.ec(0,"div"),i.Uc(1),i.dc()),2&t&&(i.Jb(1),i.Vc(e.errorMessage))},styles:[""]}),t})();const r={mockFantasticDynamicContent:{loadChildren:()=>n.e(45).then(n.bind(null,"TJ8n")).then(t=>t.MockFantasticDynamicContentModule)},mockAwesomeDynamicContent:{loadChildren:()=>n.e(44).then(n.bind(null,"9XWP")).then(t=>t.MockAwesomeDynamicContentModule)},cartoControl:{loadChildren:()=>Promise.all([n.e(0),n.e(27)]).then(n.bind(null,"Nx6O")).then(t=>t.CartoControlModule)},entryPlaceAirport:{loadChildren:()=>Promise.all([n.e(1),n.e(2),n.e(3),n.e(9),n.e(8),n.e(10),n.e(36)]).then(n.bind(null,"TezA")).then(t=>t.EntryPlaceAirportModule)},favoritePopup:{loadChildren:()=>n.e(37).then(n.bind(null,"11dv")).then(t=>t.FavoritePopupModule)},commonPopup:{loadChildren:()=>Promise.all([n.e(0),n.e(24)]).then(n.bind(null,"oqHj")).then(t=>t.CommonPopupModule)},summaryCard:{loadChildren:()=>Promise.all([n.e(2),n.e(0),n.e(34)]).then(n.bind(null,"a5o0")).then(t=>t.SummaryCardModule)}},a={MockFantasticDynamicContentComponent:{module:r.mockFantasticDynamicContent},MockAwesomeDynamicContentComponent:{module:r.mockAwesomeDynamicContent},ControlZoomComponent:{module:r.cartoControl},ControlWidgetComponent:{module:r.cartoControl},CenterBottomWidgetComponent:{module:r.cartoControl},EntryPlaceAirportComponent:{module:r.entryPlaceAirport},FavoritePopupListComponent:{module:r.favoritePopup},FavoritePopupFolderComponent:{module:r.favoritePopup},FavoritePopupBookmarkComponent:{module:r.favoritePopup},FavoritePopupDisplayNameComponent:{module:r.favoritePopup},FavoritePopupMemoComponent:{module:r.favoritePopup},FavoritePopupMenuComponent:{module:r.favoritePopup},FavoritePopupPreloadComponent:{module:r.favoritePopup},CommonPopupPreloadComponent:{module:r.commonPopup},LocationInfoWidgetComponent:{module:r.commonPopup},DirectionsSettingsComponent:{module:r.commonPopup},CctvPopupComponent:{module:r.commonPopup},PhotoViewerComponent:{module:r.commonPopup},PromotionPopupComponent:{module:r.commonPopup},CampaignPopupComponent:{module:r.commonPopup},SummaryCardComponent:{module:r.summaryCard}};let s=(()=>{class t{constructor(t,e){this.componentFactoryResolver=t,this.injector=e}GetComponent(t){return e=this,void 0,o=function*(){const e=this.getModule(t);return e?e.loadChildren().then(t=>t instanceof i.B?t:this.injector.get(i.j).compileModuleAsync(t)).then(t=>t.create(this.injector)).then(e=>{const n=e.instance.componentsMap()[t];return e.componentFactoryResolver.resolveComponentFactory(n).create(e.injector)}).catch(e=>(console.error(e.message),this.getDynamicContentErrorComponent(`Unable to load module.\n                Looked up using component: ${t}. Error Details: ${e.message}`))):this.getDynamicContentErrorComponent(`Unable to derive module from component: ${t} in dynamic-content.routes.ts`)},new((n=void 0)||(n=Promise))(function(t,i){function r(t){try{s(o.next(t))}catch(e){i(e)}}function a(t){try{s(o.throw(t))}catch(e){i(e)}}function s(e){var i;e.done?t(e.value):(i=e.value,i instanceof n?i:new n(function(t){t(i)})).then(r,a)}s((o=o.apply(e,[])).next())});var e,n,o}getDynamicContentErrorComponent(t){const e=this.componentFactoryResolver.resolveComponentFactory(o).create(this.injector);return e.instance.errorMessage=t,e}getModule(t){return a[t].module}}return t.\u0275fac=function(e){return new(e||t)(i.ic(i.l),i.ic(i.v))},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const c=["container"];let l=(()=>{class t{constructor(t){this.dynamicContentService=t,this.initComponent=new i.q}ngAfterViewInit(){return t=this,void 0,n=function*(){this.component=yield this.dynamicContentService.GetComponent(this.componentName),this.container.insert(this.component.hostView),this.initComponent.emit(this.component.instance)},new((e=void 0)||(e=Promise))(function(i,o){function r(t){try{s(n.next(t))}catch(e){o(e)}}function a(t){try{s(n.throw(t))}catch(e){o(e)}}function s(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(r,a)}s((n=n.apply(t,[])).next())});var t,e,n}ngOnDestroy(){this.component&&(this.component.destroy(),this.component=null)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(s))},t.\u0275cmp=i.Sb({type:t,selectors:[["dynamic-content-outlet"]],viewQuery:function(t,e){if(1&t&&i.ad(c,3,i.X),2&t){let t;i.Fc(t=i.mc())&&(e.container=t.first)}},inputs:{componentName:"componentName"},outputs:{initComponent:"initComponent"},decls:2,vars:0,consts:[["container",""]],template:function(t,e){1&t&&i.ac(0,null,0)},styles:[""]}),t})()},YlaM:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("ofXK"),o=n("3Pt+"),r=n("sYmb"),a=n("ktvW"),s=n("btWG"),c=n("fXoL");let l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Wb({type:t}),t.\u0275inj=c.Vb({imports:[[i.c,o.i,s.a,a.a,r.b]]}),t})()},Ytve:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return l});var i=function(t){return t[t.GlobalLayoutChanged=0]="GlobalLayoutChanged",t[t.MapsLayoutChanged=1]="MapsLayoutChanged",t[t.PanelChanged=2]="PanelChanged",t}({}),o=function(t){return t.Normal="normal",t.Result="result",t.ResultFold="result_fold",t}({}),r=n("2Vo4"),a=n("jtHE"),s=n("BE5q"),c=n("fXoL");let l=(()=>{class t{constructor(t){this.mapsLayout=t,this.layoutState=new r.a(o.Normal),this._isOpenPanel=!1,this._isDefaultPopupOpen=!1,this._isDefaultPopupExpand=!1,this._isSearchLayoutPopupOpen=!1,this._isSearchLayoutExpand=!1,this._events=new a.a(1),t.layoutBehavior.subscribe(t=>{this.emit(i.MapsLayoutChanged,t)}),this.layoutState.subscribe(t=>{this.emit(i.GlobalLayoutChanged,t)})}set layout(t){this.layoutState.next(t)}get layout(){return this.layoutState.getValue()}get events(){return this._events}get isDefaultPopupOpen(){return this._isDefaultPopupOpen}set isDefaultPopupOpen(t){this._isDefaultPopupOpen=t}get isDefaultPopupExpand(){return this._isDefaultPopupExpand}set isDefaultPopupExpand(t){this._isDefaultPopupExpand=t}get isSearchLayoutPopupOpen(){return this._isSearchLayoutPopupOpen}set isSearchLayoutPopupOpen(t){this._isSearchLayoutPopupOpen=t}get isSearchLayoutExpand(){return this._isSearchLayoutExpand}set isSearchLayoutExpand(t){this._isSearchLayoutExpand=t}emit(t,e){this._events.next({type:t,data:e})}}return t.\u0275fac=function(e){return new(e||t)(c.ic(s.a))},t.\u0275prov=c.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Yvos:function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},ZBhX:function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"a",function(){return r}),n.d(e,"b",function(){return a});var i=n("fXoL");let o=(()=>{class t{constructor(){this.events=new i.q(null)}play(){this.events.emit("play")}pause(){this.events.emit("pause")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var r=function(t){return t.ERROR="hlsError",t}({}),a=function(t){return t.PLAYING="playing",t.TIMEUPDATE="timeupdate",t.ENDED="ended",t.ERROR="error",t}({})},ZPLZ:function(t,e,n){"use strict";n.d(e,"a",function(){return H});var i=n("Q63R"),o=n("kfOz"),r=n("2Vo4"),a=n("LRne"),s=n("itXk"),c=n("EY2u"),l=n("cp0P"),u=n("PqYM"),p=n("7Hc7"),h=n("/rf6"),d=n("jPUy"),g=n("ApIJ"),f=n("tF80"),b=n("qkFu"),m=n("rS+x"),_=n("joil"),y=n("iTV6"),O=n("pLZG"),v=n("lJxs"),C=n("eIep"),P=n("wO+i"),M=n("JIr8"),x=n("vkgz"),w=n("5+tZ"),k=n("SxV6"),S=n("UFSi"),E=n("kzaU"),I=n("AAPk"),R=n("/RaO"),T=n("XrBI"),A=n("Cnys"),L=n("r3/F"),j=n("k7Ze"),D=n("qKIp"),F=n("o0su"),N=n("z6kb"),B=n("fXoL"),U=n("tk/3"),V=n("sYmb"),z=function(t){return this instanceof z?(this.v=t,this):new z(t)},W=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,o=n.apply(t,e||[]),r=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(t){o[t]&&(i[t]=function(e){return new Promise(function(n,i){r.push([t,e,n,i])>1||s(t,e)})})}function s(t,e){try{(n=o[t](e)).value instanceof z?Promise.resolve(n.value.v).then(c,l):u(r[0][2],n)}catch(i){u(r[0][3],i)}var n}function c(t){s("next",t)}function l(t){s("throw",t)}function u(t,e){t(e),r.shift(),r.length&&s(r[0][0],r[0][1])}};let H=(()=>{class t{constructor(t,e,n,i,a,s,c,l,u,p,h,d,g,f){this.api=t,this.httpClient=e,this.kvFarm=n,this.maps=i,this.commonRoutes=a,this.favoriteStore=s,this.member=c,this.translate=l,this.message=u,this.local=p,this.logService=h,this.findBookmarkByIdsPipe=d,this.locationInfo=g,this.status=f,this.isActivate=!1,this.resUseAgreements$=new r.a(null),this.useAgreement$=this.resUseAgreements$.pipe(Object(O.a)(t=>!!t),Object(v.a)(({useAgreement:t})=>t)),this.isAgree$=this.useAgreement$.pipe(Object(v.a)(({use:t})=>t)),this.agreementDate$=this.useAgreement$.pipe(Object(v.a)(({date:t})=>t)),this.movementTypeMap={bus:[o.e.Bus,o.e.BusStop,o.e.BusStopLane],subway:[o.e.Subway,o.e.SubwayPath],route:[o.e.Route]},this.filterMovementMarker=[o.e.Bus,o.e.BusStopLane,o.e.SubwayPath,o.e.Route],this.prevParams=null,this.isReady=new r.a(!1),this.isMigrated=!1,this.isInitMarkers=!1,this._list=[],this._frequentPlacesList=[],this._myPlaceList=[],this._movementList=[],this._bookmarksInCurrentFolder=[],this._bookmarksInCurrentFolderSort=o.c.LastUseTime,this._folderList=[],this._frequentPlace$=new r.a(null),this._myPlace$=new r.a(null),this._movement$=new r.a(null),this._folder$=new r.a(null),this._events=new r.a({type:o.a.Initialized,data:null}),this._mantleMarkersWithoutFrequent=[],this._mantleFrequentMarkers=[],this.markerZommChangedUpdateThread=0,this.markerZoomChangeDelay=0,this.member.isLogin().pipe(Object(O.a)(t=>t),Object(C.a)(()=>this.checkMigration()),Object(C.a)(()=>this.maps.afterReady())).subscribe(()=>{this.initMarkers()}),this.commonRoutes.events.pipe(Object(P.a)("data"),Object(O.a)(t=>this.isRouteChanged(t))).subscribe(t=>{var e;const n=this.commonRoutes.prevData,i="favorite"!==t.module&&"favorite"===n.module;(i&&n.folderId||i&&"movement"===n.tabType)&&(null===(e=this.getBookmarkListWithoutFrequent())||void 0===e?void 0:e.length)>0&&this.requestUpdateBookmarkMarkers()})}static findByShortcut(t,e){return t.find(t=>e.indexOf(t.shortcutType)>-1)}static findByFolderId(t,e){return t.find(t=>t.folderId===e)}static findByDefaultFolder(t){return t.find(t=>t.isDefaultFolder)}get list(){return this._list}set list(t){this._list=t}get frequentPlacesList(){return this._frequentPlacesList}set frequentPlacesList(t){this._frequentPlacesList=t}get myPlaceList(){return this._myPlaceList}set myPlaceList(t){this._myPlaceList=t}get movementList(){return this._movementList}set movementList(t){this._movementList=t}get bookmarksInCurrentFolder(){return this._bookmarksInCurrentFolder}set bookmarksInCurrentFolder(t){this._bookmarksInCurrentFolder=t}set bookmarksInCurrentFolderSort(t){this._bookmarksInCurrentFolderSort=t}get folderList(){const t=[];return this._folderList&&this._folderList.forEach(e=>{e.isDefaultFolder?t.unshift(e):t.push(e)}),t}set folderList(t){this._folderList=t}get events(){return this._events}get frequentPlace$(){return this.member.isLogin().pipe(Object(C.a)(t=>t?this._frequentPlace$.pipe(Object(O.a)(t=>!!t)):Object(a.a)(null)))}get myPlace$(){return this.member.isLogin().pipe(Object(C.a)(t=>t?this._myPlace$.pipe(Object(O.a)(t=>!!t)):Object(a.a)(null)))}get movement$(){return this.member.isLogin().pipe(Object(C.a)(t=>t?this._movement$.pipe(Object(O.a)(t=>!!t)):Object(a.a)(null)))}get folder$(){return this.member.isLogin().pipe(Object(C.a)(t=>t?this._folder$.pipe(Object(O.a)(t=>!!t)):Object(a.a)(null)))}activate(){const t=this.commonRoutes.getRouterParams();"favorite"===t.module&&!!t.folderId||!!t.movementType||this.fetchAllList(),this.isActivate=!0,this.subscribeAttachMap()}deactivate(){this.isActivate=!1,this.unsubscribeAttachMap()}isDuplicatedDisplayName(t,e){const n=(null==e?void 0:e.shortcutType)||o.j.Etc,i=null==e?void 0:e.frequentId;return this.frequentPlacesList.findIndex(e=>e.frequentId!==i&&(n===o.j.Etc||t!==d.a.getDisplayNameByType(n))&&e.displayName===t)>-1}getList(){return this.list}getListByType(t,e=!0){return this.list.filter(e=>e.type===t).sort(e?(t,e)=>e.lastUpdateTime-t.lastUpdateTime:(t,e)=>t.name.localeCompare(e.name))}getFrequentPlacesList(){return this.frequentPlacesList}isFrequentPlaceByPlaceId(t){return!!t&&!!this.findBookmarkByIdsPipe.transform(this.getFrequentPlacesList(),{sid:t})}isFrequentPlaceByKey(t){return!!t&&!!this.findBookmarkByIdsPipe.transform(this.getFrequentPlacesList(),{key:t})}isBookmarkedByPlaceId(t){return!!t&&!!this.getBookmarkByPlaceId(t)}getFolderByPlaceId(t){if(!this.isBookmarkedByPlaceId(t))return null;const e=this.getBookmarkByPlaceId(t);return this.getFolderByBookmarkId(e.bookmarkId)}hasFolderName(t){return this.folderList.some(e=>e.name===t)}getBookmarkByPlaceId(t){return this.findBookmarkByIdsPipe.transform(this.myPlaceList,{sid:t})}getBookmarkTypeFromPlace(t){if(this.isFrequentPlaceByPlaceId(t))return this.findBookmarkByIdsPipe.transform(this.getFrequentPlacesList(),{sid:t}).shortcutType;if(this.isBookmarkedByPlaceId(t)){const e=this.getFolderByPlaceId(t);return e?Object(E.c)(e.markerColor,e.isDefaultFolder):"favorite"}}getMovementListByType(t,e=10){return this.movementList.filter(e=>Array.isArray(t)?t.indexOf(e.type)>-1:e.type===t).slice(0,e)}getFrequentPlaceByKey(t){return this.findBookmarkByIdsPipe.transform(this.getFrequentPlacesList(),{key:t})}getIconTypeByBookmarkKey(t){let e,n;if(e="string"==typeof t?t:this.getKeyByData(t),this.isFrequentPlaceByKey(e)){const t=this.getFrequentPlaceByKey(e);t&&(n=this.getFrequentlyMarkerType(t.shortcutType))}else{const t=this.getBookmarkByKey(e);t&&(n=this.getFolderMarkerType(t.bookmarkId,!0))}return n}getDisplayNameByBookmarkKey(t){let e,n="";if(e="string"==typeof t?t:this.getKeyByData(t),this.isFrequentPlaceByKey(e)){const t=this.getFrequentPlaceByKey(e);t&&(n=t.displayName)}else{const t=this.getBookmarkByKey(e);t&&(n=t.displayName)}return n}getIconTypeByBookmarkAddress(t){const e=[...this.getFrequentPlacesList(),...this.getListByType(o.e.Address)].find(e=>e.address===t.address&&Object(E.b)(e.px,4)===Object(E.b)(t.px,4)&&Object(E.b)(e.py,4)===Object(E.b)(t.py,4));return e?e.frequentId?e.shortcutType:e.folderInfo?Object(E.c)(e.folderInfo.markerColor,e.folderInfo.isDefaultFolder):"favorite":null}getBookmarkTypeFromMovement(t){return this.findBookmarkByIdsPipe.transform(this.movementList,t)}fetchAllList(){return new Promise(t=>{this.member.isLogin().pipe(Object(C.a)(t=>{let e;return e=t?Object(s.a)([this.api.getBookmarkFrequentPlaces(),this.requestFolderAndPlaces(),this.api.getBookmarkMovements()]):c.a,e})).subscribe(e=>{this.initList(),this.folderList=e[1][0],this.frequentPlacesList=this.makeFrequentPlacesList(e[0]),this.myPlaceList=e[1][1],this.movementList=e[2],this.mergeBookmarkList(),this.updateMarkers(),this.checkReadyDefaultFolder(),this.emit(o.a.ListAllUpdated,{frequentPlaceList:e[0],myPlaceList:e[1][1],movementList:e[2]}),this.favoriteStore.setCommonAllListUpdated(),this.isReady.next(!0),t({type:o.a.ListAllUpdated,data:{frequentPlaceList:e[0],myPlaceList:e[1][1],movementList:e[2]}})})})}fetchFolder(t="lastUseTime",e=!1,n=!1){return this.member.isLogin().pipe(Object(O.a)(t=>t),Object(C.a)(()=>this.requestFolderAndPlaces(t)),Object(v.a)(t=>{const i=t[0],r=t[1],a=this.commonRoutes.getRouterParams(),s=parseInt(a.folderId,10);if(this.folderList=i,this.myPlaceList=r,this.bookmarksInCurrentFolder=this.makeBookmarksInFolder(r,s),this.mergeBookmarkList(),!n){const t=s?this.bookmarksInCurrentFolder:this.getBookmarkListWithoutFrequent();this.requestUpdateBookmarkMarkers(t)}return e||this.emit(o.a.FolderUpdated,{folderList:this.folderList}),this.folderList}))}fetchBookmark(t,e){return new Promise(n=>{this.member.isLogin().pipe(Object(O.a)(t=>t),Object(C.a)(()=>{let n;return t===o.m.FrequentPlace?n=this.api.getBookmarkFrequentPlaces():t===o.m.Movement?n=this.api.getBookmarkMovements(null==e?void 0:e.movementType):t===o.m.MyPlaceInFolder?(this._bookmarksInCurrentFolderSort=(null==e?void 0:e.sort)||o.c.LastUseTime,n=this.requestFolderAndPlaces(this._bookmarksInCurrentFolderSort)):n=c.a,n}),Object(M.a)(n=>{var i;const o=null===(i=null==n?void 0:n.error)||void 0===i?void 0:i.apiErrorCode;return 1002===o?(alert(this.translate.instant("FAVORITE.ERR_INVALID_ACCESS_PATH")),this.commonRoutes.navigate(["favorite","myPlace"])):1200===o?(alert(this.translate.instant("FAVORITE.ERR_NEED_TO_LOGIN")),this.member.goLoginPage()):this.logService.log(_.b.Favorite,"BookmarkService","fetchBookmark",{type:t,options:e,err:n},`fetchBookmark update api(${t}) error`),c.a})).subscribe(i=>{let r;switch(t){case o.m.FrequentPlace:this.frequentPlacesList=this.makeFrequentPlacesList(i),this.updateFrequentMarkers(),r=o.a.FrequentPlaceUpdated;break;case o.m.Movement:this.updateMovementList(i,null==e?void 0:e.movementType),r=o.a.MovementUpdated;break;case o.m.MyPlaceInFolder:const t=i[1];this.folderList=i[0],this.myPlaceList=t,e&&e.folderId&&-1!==e.folderId&&(this.bookmarksInCurrentFolder=this.makeBookmarksInFolder(t,e.folderId),this.emit(o.a.FolderUpdated,{folderList:this.folderList})),r=o.a.MyPlaceUpdated}if(this.mergeBookmarkList(),!(null==e?void 0:e.doNotUpdateMarker)){const t=(null==e?void 0:e.keepAllMarkerTypes)?this.getBookmarkListWithoutFrequent():this.getVisibleMarkers();this.requestUpdateBookmarkMarkers(t)}this.emit(r,i),n({type:r,data:i})})})}updateBookmarkFolder(t,e){return this.member.isLogin().pipe(Object(O.a)(t=>t),Object(C.a)(()=>this.api.updateBookmarkFolder(t,e)),Object(x.a)(t=>this.updateTimestamp(o.d.Place,t)))}toggleBookmark(t,e=!1){const n=d.a.generateKeyFromData(t.data),i=this.getBookmarkByKey(n),r=this.getUpdateTypeByBookmarkType(t.data.bookmarkType);let s,c=!1;return i&&!i.hasOwnProperty("frequentId")?s=this.deleteBookmark(r,[i.bookmarkId],r===o.m.MyPlaceInFolder?{folderId:this.getFolderByBookmarkId(i.bookmarkId).folderId,keepAllMarkerTypes:!0}:{movementType:this.getMovementTypeByBookmarkType(t.data.bookmarkType),keepAllMarkerTypes:!0}):(s=e?Object(a.a)(null):this.addBookmark(t),c=!0),s.pipe(Object(v.a)(()=>c))}addBookmarkFolder(t){return this.member.isLogin().pipe(Object(O.a)(t=>t),Object(C.a)(()=>this.api.addBookmarkFolder(t.name,t.colorCode)),Object(C.a)(e=>this.api.updateBookmarkFolder(e.folderId,t)),Object(x.a)(t=>this.updateTimestamp(o.d.Place,t)))}addBookmarkFrequentPlaces(t){this.api.addBookmarkFrequentPlaces(t).pipe(Object(x.a)(t=>this.updateTimestamp(o.d.Frequent,t)),Object(M.a)(e=>{var n;const i=null===(n=null==e?void 0:e.error)||void 0===n?void 0:n.displayMessage;return i&&this.message.open(i,2500),this.logService.log(_.b.Favorite,"BookmarkService","addBookmarkFrequentPlaces",{data:t,err:e},"addBookmarkFrequentPlaces api error"),c.a})).subscribe(()=>{this.fetchBookmark(o.m.FrequentPlace)})}addBookmark(t,e={}){const n=d.a.generateKeyFromData(t.data),i=class{static refineBookmarkForm(t,e){let n;return e.type===o.e.Place?n=this.refinePlaceForm(e.data):e.type===o.e.Address?n=""!==e.data.rcode?this.refineAddressForm(e.data):this.refinePointForm(e.data):e.type===o.e.Subway?n=this.refineSubwayStationForm(e.data):e.type===o.e.SubwayPath?n=this.refineSubwayPathForm(e.data):e.type===o.e.Bus?n=this.refineBusForm(e.data):e.type===o.e.BusStop?n=this.refineBusStopForm(e.data):e.type===o.e.BusStopLane?n=this.refineBusStopLaneForm(e.data):e.type===o.e.Route&&(n=this.refineRouteForm(e.data)),n.sid&&"string"==typeof n.sid&&(n.sid=n.sid.replace("s","")),n.key=t,n}static refinePlaceForm(t){const{id:e,name:n,displayName:i,x:o,y:r,roadAddress:a,address:s,indoor:c,bookmarkType:l,folderIds:u}=t;return{name:n,bookmarkType:l,folderIds:u,displayName:i||n,px:o,py:r,sid:e.toString(),address:a||s,isIndoor:!!c}}static refineSubwayPathForm(t){const{bookmarkType:e,name:n,displayName:i,cityCode:o,startStationId:r,startStationName:a,endStationId:s,endStationName:c,px:l,py:u,pathType:p}=t;return{bookmarkType:e,cityCode:o,name:n,displayName:i,startStationId:r,startStationName:a,endStationId:s,endStationName:c,px:l,py:u,pathType:p}}static refineSubwayStationForm(t){const{bookmarkType:e,cityCode:n,displayName:i,point:r,id:a,roadAddress:s,address:c,routeType:l}=t;return{bookmarkType:e,cityCode:n,displayName:i,name:i,stationClass:o.k.Subway,stationType:l.id,stationId:a,px:r.x,py:r.y,address:s||c}}static refineBusStopLaneForm(t){const{bookmarkType:e,bus:n,busStop:i}=t;return{bookmarkType:e,name:this.getBusStopLaneName(t),busId:n.id,busNo:n.name,busType:n.type.id,stationId:i.id,stationDisplayId:i.displayCode,stationName:i.name,cityCode:n.city.id,address:i.address,liveUpdate:i.realtime,px:i.point.x,py:i.point.y}}static refineBusStopForm(t){const{name:e,displayName:n,id:i,displayCode:o,address:r,city:a,point:s,bookmarkType:c}=t;return{bookmarkType:c,name:e,displayName:n,address:r,cityCode:parseInt(a.id,10),stationName:e,stationId:parseInt(i,10),stationDisplayId:null===o?"":o,px:s.x,py:s.y}}static refineBusForm(t){const{bookmarkType:e,displayName:n,id:i,type:o,name:r,city:a}=t;return{bookmarkType:e,name:r,displayName:n,busNo:r,busType:parseInt(o.id,10),cityCode:parseInt(a.id,10),busId:parseInt(i,10)}}static refinePointForm(t){const{bookmarkType:e,address:n,name:i,displayName:o,isDetailAddress:r,isNewAddress:a,mappedAddress:s,px:c,py:l,rcode:u,folderIds:p}=t;return{address:n,name:i,bookmarkType:e,isDetailAddress:r,isNewAddress:a,rcode:u,folderIds:p,px:+c,py:+l,mappedAddress:s||"",displayName:o||i}}static refineAddressForm(t){const{bookmarkType:e,address:n,isDetailAddress:i,isNewAddress:o,mappedAddress:r,px:a,py:s,rcode:c,folderIds:l,displayName:u}=t;return{address:n,bookmarkType:e,isDetailAddress:i,isNewAddress:o,rcode:c,folderIds:l,px:+a,py:+s,mappedAddress:r||"",name:n,displayName:u||n}}static refineRouteForm(t){const{bookmarkType:e,name:n,displayName:i,pathType:o,isTransPathType:r,isInterCity:a,startPoint:s,endPoint:c,viaPoints:l}=t,u={bookmarkType:e,name:n,displayName:i,pathType:o,isTransPathType:r,isInterCity:a,startPoint:this.getCoordsForRoute([s])[0],endPoint:this.getCoordsForRoute([c])[0],viaPoints:this.refineViaRoute(this.getCoordsForRoute(l))};return l&&0!==l.length||delete u.viaPoints,u}static getCoordsForRoute(t){return t.map(t=>t.elat||t.elng?(t.entrance={lat:t.elat,lng:t.elng},delete t.elat,delete t.elng,t):t)}static refineViaRoute(t){const e={};return t.forEach((t,n)=>{e[`t${n+1}`]=t}),e}static getBusStopLaneName(t){const{bus:e,busStop:n}=t;let i="";return i=n.displayCode?[n.name+"["+n.displayCode+"]",e.name].join(" | "):[n.name,e.name].join(" | "),i}}.refineBookmarkForm(n,t),r=Object.assign(i,e),a=[...this.movementTypeMap.bus,...this.movementTypeMap.subway,...this.movementTypeMap.route];let s,l;const u={keepAllMarkerTypes:!0},p=r.bookmarkType||r.type;return a.indexOf(p)>-1?(s=o.m.Movement,l=o.d.Movement,u.movementType=this.getMovementTypeByBookmarkType(p)):(s=o.m.MyPlaceInFolder,l=o.d.Place,u.folderId=r.folderId),this.api.addBookmark(r).pipe(Object(x.a)(t=>this.updateTimestamp(l,t)),Object(C.a)(()=>this.fetchBookmark(s,u)),Object(M.a)(n=>{var i;const o=null===(i=null==n?void 0:n.error)||void 0===i?void 0:i.apiErrorCode;return 1010===o?this.message.openThroughTranslation("FAVORITE.ERR_PLACE_LIMIT"):1011===o?this.message.openThroughTranslation("FAVORITE.ERR_MOVEMENT_LIMIT"):1301===o?this.message.openThroughTranslation("FAVORITE.ERR_DUPLICATE_PLACE"):1302===o?this.message.openThroughTranslation("FAVORITE.ERR_DUPLICATE_ADDRESS"):1304===o?this.message.openThroughTranslation("FAVORITE.ERR_DUPLICATE_ROUTE"):1308===o?this.message.openThroughTranslation("FAVORITE.ERR_DUPLICATE_SUBWAY"):this.logService.log(_.b.Favorite,"BookmarkService","addBookmark",{form:t,additionalData:e,err:n},"addBookmark api error"),c.a}))}editBookmarkFrequentPlaces(t,e){this.api.deleteBookmarkFrequentPlaces(e).pipe(Object(M.a)(n=>(this.logService.log(_.b.Favorite,"BookmarkService","editBookmarkFrequentPlaces",{data:t,err:n,ids:e},"deleteBookmarkFrequentPlaces api error"),c.a)),Object(C.a)(()=>this.api.addBookmarkFrequentPlaces(t)),Object(x.a)(t=>this.updateTimestamp(o.d.Frequent,t)),Object(M.a)(n=>(this.logService.log(_.b.Favorite,"BookmarkService","editBookmarkFrequentPlaces",{data:t,err:n,ids:e},"addBookmarkFrequentPlaces api error"),c.a))).subscribe(()=>{this.fetchBookmark(o.m.FrequentPlace)})}updateBookmarkName(t,e,n){const i=(null==n?void 0:n.movementType)?o.d.Movement:o.d.Place;this.api.updateBookmarkName(t,e).pipe(Object(x.a)(t=>this.updateTimestamp(i,t)),Object(M.a)(i=>(this.logService.log(_.b.Favorite,"BookmarkService","updateBookmarkName",{bookmarkId:t,displayName:e,metaData:n,err:i},"updateBookmarkName api error"),c.a))).subscribe(()=>{this.fetchBookmark(n.folderId?o.m.MyPlaceInFolder:o.m.Movement,n)})}updateBookmarkMemo(t,e,n){this.api.updateBookmarkMemo(t,e).pipe(Object(x.a)(t=>this.updateTimestamp(o.d.Place,t)),Object(M.a)(i=>(this.logService.log(_.b.Favorite,"BookmarkService","updateBookmarkMemo",{bookmarkId:t,memo:e,metaData:n,err:i},"updateBookmarkMemo api error"),c.a))).subscribe(()=>{this.fetchBookmark(n.folderId?o.m.MyPlaceInFolder:o.m.Movement,n)})}updateBookmark(t,e,n,i,r){return this.api.updateBookmark(t,e,n,i).pipe(Object(x.a)(t=>this.updateTimestamp(o.d.Place,t)),Object(M.a)(e=>(this.logService.log(_.b.Favorite,"BookmarkService","updateBookmark",{bookmarkId:t,err:e},"updateBookmark api error"),c.a))).pipe(Object(x.a)(()=>{this.fetchBookmark(o.m.MyPlaceInFolder,{folderId:r,sort:this._bookmarksInCurrentFolderSort})}))}moveBookmarksToFolder(t,e,n,i=!1){return this.api.moveBookmarksToFolder(t,n,e,i).pipe(Object(x.a)(t=>this.updateTimestamp(o.d.Place,t)),Object(M.a)(i=>(this.logService.log(_.b.Favorite,"BookmarkService","moveBookmarksToFolder",{bookmarkIds:t,folderId:e,currentFolderId:n,err:i},"moveBookmarksToFolder api error"),c.a))).pipe(Object(x.a)(()=>{this.fetchBookmark(o.m.MyPlaceInFolder,{folderId:n,sort:this._bookmarksInCurrentFolderSort})}))}deleteFolder(t,e="lastUseTime"){return this.api.deleteBookmarkFolder(t).pipe(Object(x.a)(t=>this.updateTimestamp(o.d.Place,t)),Object(C.a)(()=>this.fetchFolder(e)))}deleteFolders(t,e="lastUseTime"){return Object(l.a)(t.map(n=>this.api.deleteBookmarkFolder(n).pipe(Object(x.a)(t=>this.updateTimestamp(o.d.Place,t)),Object(M.a)(n=>(this.logService.log(_.b.Favorite,"BookmarkService","deleteFolders",{folderIds:t,sort:e,err:n},"deleteBookmarkFolder api error"),c.a))))).pipe(Object(x.a)(()=>{this.fetchFolder(e).subscribe()}))}deleteBookmark(t,e,n={}){let i;const r=t===o.m.FrequentPlace?o.d.Frequent:t===o.m.Movement?o.d.Movement:o.d.Place;return i=t===o.m.FrequentPlace?this.api.deleteBookmarkFrequentPlaces(e):this.api.deleteBookmark(e),i.pipe(Object(x.a)(t=>this.updateTimestamp(r,t)),Object(C.a)(()=>{const e=this._bookmarksInCurrentFolderSort||o.c.LastUseTime,i=t===o.m.MyPlaceInFolder?Object.assign(Object.assign({},n),{sort:e}):n;return this.fetchBookmark(t,i)}))}deleteBookmarksInFolder(t,e=-1){return this.api.deleteBookmarksInFolder(t,e).pipe(Object(x.a)(t=>{this.updateTimestamp(o.d.Place,t),this.fetchBookmark(o.m.MyPlaceInFolder,{folderId:e,sort:this._bookmarksInCurrentFolderSort||o.c.LastUseTime})}))}getBookmarkByData(t){t&&(t.bookmarkType||t.type||t.transport)||(S.a.of("bookmark").info("Call generateKeyFromData by null data"),this.logService.log(_.b.Favorite,"BookmarkService","getBookmarkByData",{data:t,logger:Object(S.b)()},"pass null data to getBookmarkByData"));const e=d.a.generateKeyFromData(t);return this.getBookmarkByKey(e)}isBookmarkedByData(t){const e=d.a.generateKeyFromData(t);return this.isBookmarked(e)}isBookmarked(t){return!!this.getBookmarkByKey(t)}getBookmarkByKey(t){const e=this.list.filter(e=>e.type===o.e.BusStop||e.type===o.e.Bus||e.type===o.e.BusStopLane?this.getKey(e)===t:this.getKey(e)===t&&!e.hasOwnProperty("frequentId"));return e.length>0?e[0]:null}getBookmarkById(t){return this.list.find(e=>e.bookmarkId===t)}getBookmarkPropByData(t,e){const n=this.getBookmarkByData(t);return n&&n.hasOwnProperty(e)?n[e]:""}getBookmarkPropByKey(t,e){const n=this.getBookmarkByKey(t);return n&&n.hasOwnProperty(e)?n[e]:""}getBookmarkByTypeId(t){return this.list.find(e=>e.id===t)}getKey(t){return d.a.generateKeyFromData(t)}getKeyByData(t){return d.a.generateKeyFromData(t)}getFolder(e){return t.findByFolderId(this.folderList,e)}getDefaultFolder(){return t.findByDefaultFolder(this.folderList)}getFrequentlyMarkerType(t){let e;switch(t){case o.j.Home:e=m.x.FocusMarkerFrequentlyHome;break;case o.j.Office:e=m.x.FocusMarkerFrequentlyOffice;break;case o.j.School:e=m.x.FocusMarkerFrequentlySchool;break;case o.j.Etc:e=m.x.FocusMarkerFrequentlyNormal}return e}getFrequentlyIconText(t){let e=o.i.None;switch(t){case o.j.Home:e=o.i.Home;break;case o.j.Office:e=o.i.Office;break;case o.j.School:e=o.i.School;break;case o.j.Etc:e=o.i.Etc}return e}getFolderMarkerType(t,e=!1){const n=this.getFolderByBookmarkId(t);let i;return i=n?n.isDefaultFolder?e?m.x.FocusMarkerMyDefault:m.v.MarkerMyDefault:e?m.x[`FocusMyFolder${parseInt(n.markerColor,10)}`]:m.v[`MyFolder${parseInt(n.markerColor,10)}`]:e?m.x.FocusMarkerMyDefault:m.v.MarkerMyDefault,i}getFolderByBookmarkId(t){const e=this.myPlaceList.find(e=>e.bookmarkId===t),n=e&&e.folderMappings?e.folderMappings.sort((t,e)=>e.creationTime-t.creationTime):[];if(0===n.length)return this.getDefaultFolder();const i=this.commonRoutes.getRouterParams(),o=i.folderId?parseInt(i.folderId,10):n[0].folderId;return this.folderList.find(t=>t.folderId===o)}getRealTimeListInCurrentMovementList(t){return this.getCurrentMovementList(t).filter(t=>t.type===o.e.Subway?t.hasOwnProperty("stationId"):t.hasOwnProperty("stationId")&&t.hasOwnProperty("busId"))}getValidationFrequentPlace(){return this.frequentPlacesList.filter(t=>!!t.frequentId)}getVisibleFrequentPlace(){return this.getValidationFrequentPlace().filter(t=>t.isOverlay)}getSubwayArrivalInterval(t,e){return Object(u.a)(0,3e5).pipe(Object(w.a)(()=>this.api.getSubwayArrival(t,e()).pipe(Object(P.a)("message"),Object(P.a)("result"))))}getBusArrivalInterval(t){return Object(u.a)(0,3e5).pipe(Object(w.a)(()=>this.api.getBusArrival(t).pipe(Object(P.a)("message"),Object(P.a)("result"))))}getListAsFeatures(t){const e=this.refineFeatures(t);return this.maps.getFeatureCollection(e)}changeBookmarkEvent(t){const e=t.tabType,n=t.folderId?parseInt(t.folderId,10):0;switch(e){case o.l.MyPlace:n?this.emit(o.a.MyPlaceChanged,{folderId:n}):this.emit(o.a.FolderChanged,{});break;case o.l.Movement:this.emit(o.a.MovementChanged,t.movementType?{movementType:t.movementType}:{})}}getMovementTypeByBookmarkType(t){const e=Object.keys(this.movementTypeMap).filter(e=>this.movementTypeMap[e].indexOf(t)>-1);return e.length>0?e[0]:o.g.All}getEntryTypeByAddressType(t){let e="";return e=t.isDetailAddress||t.isNewAddress?t.isNewAddress?"new":"jibun":"adm",e}isBookmarkData(t){return this.list.findIndex(e=>{const n=e.key.split("|");return"place"===n[0]?n[1]===t.sid:"address"===n[0]?n[1]===t.fullAddress:void 0})>-1}isHome(t){return this.isReady.pipe(Object(x.a)(t=>{t||this.fetchAllList()}),Object(O.a)(t=>t),Object(k.a)(),Object(v.a)(()=>this.frequentPlacesList.filter(t=>t.shortcutType===o.j.Home).findIndex(e=>e.key===t)>-1))}getId(t){switch(t.type){case o.e.BusStopLane:return(t.busId||"").toString();case o.e.BusStop:case o.e.Bus:case o.e.Route:return(t.busId||t.stationId||"").toString();default:return(t.sid||t.stationId||t.key||t.bookmarkId||"").toString()}}getUseAgreements(){return this.api.requestWrapper(this.httpClient.get("/v5/api/user/usingAgreements",this.api.optionForJson)).pipe(Object(x.a)(t=>this.resUseAgreements$.next(t)))}setUseAgreements(t){return this.api.requestWrapper(t?this.httpClient.put("/v5/api/user/usingAgreements",null).pipe(Object(v.a)(t=>"OK"===t)):this.httpClient.delete("/v5/api/user/usingAgreements").pipe(Object(v.a)(t=>"OK"===t)))}isEqualMovementType(t,e){return e===o.g.All||this.movementTypeMap[e].includes(t.type)}showMarkers(){this.requestUpdateBookmarkMarkers(this.getVisibleMarkers()),this.updateFrequentMarkers()}hideMarkers(){this.hideBookmarkMarkers(),this.hideFrequentMarkers()}toggleMantleHtmlMarkers(t){t&&0===this._mantleMarkersWithoutFrequent.length?this.showMarkers():this._mantleMarkersWithoutFrequent.forEach(e=>{e.setVisible(t)})}hideBookmarkMarkers(){var t,e;this._mantleMarkersWithoutFrequent.forEach(t=>{t.setMap(null),t=null}),this._mantleMarkersWithoutFrequent=[],null===(t=this.markerClustering)||void 0===t||t.onRemove(),null===(e=this.markerClustering)||void 0===e||e.setMarkers([]),this.markerClustering=null}hideFrequentMarkers(){this._mantleFrequentMarkers.forEach(t=>{t.setMap(null),t=null}),this._mantleFrequentMarkers=[]}initList(){this.list=[],this.frequentPlacesList=[],this.myPlaceList=[],this.movementList=[],this.bookmarksInCurrentFolder=[]}getUpdateTypeByBookmarkType(t){return t===o.e.Address||t===o.e.Place||t===o.e.Station?o.m.MyPlaceInFolder:o.m.Movement}requestFolderAndPlaces(t="lastUseTime"){return this.api.getFolderAndPlaces().pipe(Object(v.a)(e=>{const{folderSync:n,bookmarkSync:i,error:o}=e.my;if(o)return[[],[]];const r=n.folders,a=[];return i.bookmarks.forEach(t=>{const e=t.bookmark;e.folderMappings=t.folderMappings,a.push(e)}),"name"===t&&(r.sort((t,e)=>t.name.localeCompare(e.name)),a.sort((t,e)=>t.name.localeCompare(e.name))),"displayName"===t&&a.sort((t,e)=>t.displayName.localeCompare(e.displayName)),[r,a]}))}checkReadyDefaultFolder(){this.readyDefaultFolder()||this.makeDefaultFolder().pipe(Object(M.a)(t=>t)).subscribe(t=>{t.folderId&&this.fetchFolder().subscribe()})}readyDefaultFolder(){const t=this.getDefaultFolder();return this.folderList.length>0&&null!=t}makeDefaultFolder(){const t={name:this.translate.instant("FAVORITE.MY_PLACE"),colorCode:"1",isDefaultFolder:!0};return this.member.isLogin().pipe(Object(O.a)(t=>t),Object(C.a)(()=>this.api.addBookmarkFolder(t.name,t.colorCode,t.isDefaultFolder)),Object(x.a)(t=>this.updateTimestamp(o.d.Place,t)))}makeBookmarksInFolder(t,e){return e?t.filter(t=>!!t.folderMappings&&t.folderMappings.filter(t=>t.folderId===e).length>0):[]}initMarkers(){this.isInitMarkers=!0}updateMarkers(){this.requestUpdateBookmarkMarkers(),this.updateFrequentMarkers()}isShowFavorite(){return"Y"===this.local.get(R.Kb)}updateBookmarkMarkers(t=this.getBookmarkListWithoutFrequent()){this.isShowFavorite()&&this.isInitMarkers&&this.maps.onReady(()=>{this.hideBookmarkMarkers(),this.updateAsyncBookmarkMarkers(t.filter(t=>t.type!==o.e.BusStopLane))})}updateFrequentMarkers(t=this.getVisibleFrequentPlace()){this.isShowFavorite()&&this.isInitMarkers&&this.maps.onReady(()=>{this.hideFrequentMarkers(),t.forEach(t=>{let e;switch(t.shortcutType){case o.j.Home:e=m.v.MarkerFrequentlyHome;break;case o.j.Office:e=m.v.MarkerFrequentlyOffice;break;case o.j.School:e=m.v.MarkerFrequentlySchool;break;default:e=m.v.MarkerFrequentlyNormal}this._mantleFrequentMarkers.push(this.createMantleMarker(t,e))})})}createMantleMarker(t,e,n=!0,i=0){const o=this.maps.createSimpleMarker({position:[t.px,t.py],icon:this.maps.createImageIcon(e,naver.maps.Position.CENTER),zIndex:R.gc.BOOKMARK-i},n);return this.addMantleMarkerEventListener(o,t),o}addMantleMarkerEventListener(t,e){t.addListener("click",t=>{if(this.status.isPanoramaViewerMode)return;if(this.status.isToolboxOn)return void naver.maps.Event.trigger(this.maps.engine,"click",Object.assign(Object.assign({},t),{latlng:{x:e.px,y:e.py,lng:()=>e.px,lat:()=>e.py}}));const n=Object.assign({source:m.w.BookmarkMarker},this.refineFeature(e));this.locationInfo.openSummaryCardForFavorite(n)})}refineFeature(t){if(null===t)return null;let e;const n=Object.assign(Object.assign(Object.assign({},void 0!==t.rcode&&{rcode:t.rcode}),void 0!==t.isDetailAddress&&{isDetailAddress:t.isDetailAddress}),void 0!==t.isNewAddress&&{isNewAddress:t.isNewAddress});if(t.shortcutType){switch(t.shortcutType){case o.j.Home:e=m.v.MarkerFrequentlyHome;break;case o.j.Office:e=m.v.MarkerFrequentlyOffice;break;case o.j.School:e=m.v.MarkerFrequentlySchool;break;default:e=m.v.MarkerFrequentlyNormal}return Object(h.point)([+t.px,+t.py],Object.assign({marker:e,frequentId:t.frequentId,id:(t.sid||t.stationId||t.key||"").toString(),type:t.type,key:t.key,address:t.address,shortcutType:t.shortcutType,x:t.px,y:t.py,__key:t.key},n))}{let i,r;switch(t.type){case o.e.Place:case o.e.Station:case o.e.Address:e=this.getFolderMarkerType(t.bookmarkId),i=(t.sid||t.stationId||t.key||t.bookmarkId||"").toString();break;case o.e.BusStopLane:e=m.v.MarkerMyTransit,i=(t.busId||"").toString(),r=t.stationId;break;default:e=m.v.MarkerMyTransit,i=(t.busId||t.stationId||"").toString()}return Object(h.point)([+t.px,+t.py],Object.assign({marker:e,id:i,type:t.type,key:t.key,stationId:r||null,bookmarkId:t.bookmarkId,address:t.address,x:t.px,y:t.py,__key:t.key},n))}}refineFeatures(t){const e=[];return t.forEach(t=>{null!==t&&e.push(this.refineFeature(t))}),e}mergeBookmarkList(){const t=this.getValidationFrequentPlace();this.list=[...t,...this.myPlaceList,...this.movementList].map(t=>Object.assign(Object.assign({},t),{key:d.a.generateKeyFromData(t)}))}getBookmarkListWithoutFrequent(){const t=this.getValidationFrequentPlace().map(t=>d.a.generateKeyFromData(t));return[...this.myPlaceList.filter(e=>!t.some(t=>t===d.a.generateKeyFromData(e))),...this.movementList.filter(e=>!t.some(t=>t===d.a.generateKeyFromData(e)))]}updateMovementList(t,e){if(e&&"all"!==e){const n=this.movementTypeMap[e],i=this.movementList.filter(t=>-1===n.indexOf(t.type));this.movementList=[...i,...t]}else this.movementList=t}emit(t,e){switch(t){case o.a.MyPlaceUpdated:this._myPlace$.next(this.myPlaceList);break;case o.a.FrequentPlaceUpdated:this._frequentPlace$.next(this.frequentPlacesList);break;case o.a.MovementUpdated:this._movement$.next(this.movementList);break;case o.a.FolderUpdated:this._folder$.next(this.folderList);break;case o.a.ListAllUpdated:this._myPlace$.next(this.myPlaceList),this._frequentPlace$.next(this.frequentPlacesList),this._movement$.next(this.movementList)}this._events.next({type:t,data:e})}isRouteChanged(t){let e=!1;return e=!this.prevParams||JSON.stringify(t.valueByOrder)!==JSON.stringify(this.prevParams.valueByOrder),this.prevParams=t,e}getVisibleMarkerList(t){return t.filter(t=>-1===this.filterMovementMarker.indexOf(t.type))}makeFrequentPlacesList(e){if(0===e.length)return this.getDefaultFrequentPlaceList();const n=t.findByShortcut(e,[o.j.Home]),i=t.findByShortcut(e,[o.j.Office,o.j.School]),r=[n||this.getDefaultFrequentPlace(o.j.Home),i||this.getDefaultFrequentPlace(o.j.Office)];return e.forEach(t=>{t.shortcutType===o.j.Etc&&r.push(t)}),r.length<R.pb&&r.push(this.getDefaultFrequentPlace(o.j.Etc)),r}getDefaultFrequentPlaceList(){return[this.getDefaultFrequentPlace(o.j.Home),this.getDefaultFrequentPlace(o.j.Office),this.getDefaultFrequentPlace(o.j.Etc)]}getDefaultFrequentPlace(t,e=!1){return{shortcutType:t,isDisabled:e,frequentId:null}}checkMigration(){return this.kvFarm.isMigrated().pipe(Object(C.a)(t=>(this.isMigrated=t,t?this.connectKvFarm().pipe(Object(v.a)(()=>t)):Object(a.a)(t))))}connectKvFarm(){return this.kvFarm.init(j.a.Favorite).pipe(Object(x.a)(t=>{this.topicInfo=t,this.subscribeKvFarm()}))}subscribeKvFarm(){this.topicInfo.connected$.getValue()&&(this.topicSubscription&&!this.topicSubscription.closed&&this.topicSubscription.unsubscribe(),this.topicSubscription=this.topicInfo.data$.subscribe(t=>{this.isReady.getValue()&&(this.timestampMap?t.forEach(({key:t,value:e})=>{if(this.timestampMap.get(t)===e)return;this.timestampMap.set(t,e);const n={keepAllMarkerTypes:!0};switch(t){case o.d.Place:const t=this.getCurrentFolderIdFromUrl();t&&this.fetchBookmark(o.m.MyPlaceInFolder,{keepAllMarkerTypes:!(t>-1),folderId:t,sort:this._bookmarksInCurrentFolderSort||o.c.LastUseTime});break;case o.d.Movement:const e=this.getMovementTypeFromUrl();this.fetchBookmark(o.m.Movement,Object.assign(Object.assign({},n),{movementType:e}));break;case o.d.Frequent:this.fetchBookmark(o.m.FrequentPlace,n)}}):this.timestampMap=new Map)}))}getCurrentFolderIdFromUrl(){const{module:t,folderId:e}=this.commonRoutes.getRouterParams();return"favorite"===t?parseInt(e,10):-1}getMovementTypeFromUrl(){const{module:t,movementType:e}=this.commonRoutes.getRouterParams();return"favorite"===t&&e?e:o.g.All}getVisibleMarkers(){const t=this.commonRoutes.getRouterParams(),{module:e,tabType:n,folderId:i,movementType:o}=t;if("favorite"===e){if("myPlace"===n&&i)return this.bookmarksInCurrentFolder;if("movement"===n&&o)return this.getCurrentMovementList(o)}return this.getBookmarkListWithoutFrequent()}updateTimestamp(t,e){if(!this.isMigrated||!this.topicInfo)return;const n=(null==e?void 0:e.lastUpdateTime)||Date.now();this.kvFarm.add(j.a.Favorite,t,`${n}`).subscribe()}getCurrentMovementList(t=o.g.All){return this.movementList.filter(e=>this.isEqualMovementType(e,t))}updateMarkerClustering(){this.markerClustering?this.markerClustering.setMarkers(this._mantleMarkersWithoutFrequent):this.markerClustering=this.maps.createClusteringMarker({markers:this._mantleMarkersWithoutFrequent,disableClickZoom:!1,minClusterSize:3,icons:[{content:'<div class="favorite_clustering"><div class="marker"></div><div class="count"></div></div>',anchor:[12,12.5]}],indexGenerator:[10],gridSize:100,stylingFunction:(t,e)=>{t.getZIndex()||t.setZIndex(1),t.getElement().querySelector(".count").innerHTML=`${e}`}})}requestUpdateBookmarkMarkers(t=this.getBookmarkListWithoutFrequent()){this.isShowFavorite()&&(this.asyncAction&&window.clearTimeout(this.asyncAction),this.asyncAction=window.setTimeout(()=>{window.requestAnimationFrame(()=>this.updateBookmarkMarkers(t)),this.asyncAction=null},250))}updateAsyncBookmarkMarkers(t){var e,n,i,o,r;return i=this,void 0,r=function*(){let i,o,r=0;const a=p.a.schedule(()=>{i=document.createElement("div"),i.classList.add("favorite_info"),o=document.createElement("div"),o.classList.add("info"),o.innerText=this.translate.instant("FAVORITE.INIT_FAVORITE_INFO"),i.appendChild(o),document.body.appendChild(i)},500),s=function(t,e){return W(this,arguments,function*(){const n=t.length;for(let i=0;i<n;i++){i%50==0&&(yield z(new Promise(t=>setTimeout(t,0))));const n=e(t[i],i);yield yield z(n)}})}(t,(t,e)=>this.createMantleMarker(t,t.stationId?m.v.MarkerMyTransit:this.getFolderMarkerType(t.bookmarkId),!1,e)),c=[];let l=null===(e=yield s.next())||void 0===e?void 0:e.value;for(;l;)c.push(l),r+=1,l=null===(n=yield s.next())||void 0===n?void 0:n.value;a&&!a.closed&&a.unsubscribe(),i&&document.body.removeChild(i),this._mantleMarkersWithoutFrequent=c,this.attachMapIfZoomChanged()},new((o=void 0)||(o=Promise))(function(t,e){function n(t){try{s(r.next(t))}catch(n){e(n)}}function a(t){try{s(r.throw(t))}catch(n){e(n)}}function s(e){var i;e.done?t(e.value):(i=e.value,i instanceof o?i:new o(function(t){t(i)})).then(n,a)}s((r=r.apply(i,[])).next())})}attachMapIfZoomChanged(){const t=this.markerZoomChangeDelay;this.markerZommChangedUpdateThread&&window.clearTimeout(this.markerZommChangedUpdateThread),this.markerZommChangedUpdateThread=window.setTimeout(()=>{this.commonRoutes.getRouterParams().keyByOrder.indexOf("bus-route")>-1||(window.requestAnimationFrame(()=>{this.isShowFavorite()&&this._mantleMarkersWithoutFrequent.forEach(t=>{const e=this.maps.isInboundMap(t.getPosition()),n=t.getMap();e?n?t.getVisible()||t.setVisible(!0):t.setMap(this.maps.engine):!e&&n&&t.setVisible(!1)})}),this.markerZoomChangeDelay=777)},t)}subscribeAttachMap(){this.markerAppender=this.maps.afterReady().pipe(Object(C.a)(()=>this.maps.events.orgMoveEnd)).subscribe(()=>{this.attachMapIfZoomChanged()})}unsubscribeAttachMap(){this.markerAppender&&!this.markerAppender.closed&&this.markerAppender.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(B.ic(i.a),B.ic(U.b),B.ic(L.a),B.ic(T.a),B.ic(g.e),B.ic(I.a),B.ic(f.a),B.ic(V.d),B.ic(b.b),B.ic(D.a),B.ic(y.a),B.ic(A.a),B.ic(F.h),B.ic(N.e))},t.\u0275prov=B.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},ZWtM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.STREETVIEW_VIEWER_ZOOMIN="streetview.viewer.zoomin",t.STREETVIEW_VIEWER_ZOOMOUT="streetview.viewer.zoomout",t.STREETVIEW_VIEWER_COMPASS="streetview.viewer.compass",t.STREETVIEW_VIEWER_COMPASSNORTH="streetview.viewer.compassnorth",t.STREETVIEW_VIEWER_SHARE="streetview.viewer.share",t.STREETVIEW_VIEWER_TOPHONE="streetview.viewer.tophone",t.STREETVIEW_VIEWER_SAVE="streetview.viewer.save",t.STREETVIEW_VIEWER_PRINT="streetview.viewer.print",t.STREETVIEW_VIEWER_EXIT="streetview.viewer.exit",t.STREETVIEW_MINIMAP_CLICK="streetview.minimap.click",t.STREETVIEW_MINIMAP_FREERESIZE="streetview.minimap.freeresize",t.STREETVIEW_MINIMAP_ZOOMIN="streetview.minimap.zoomin",t.STREETVIEW_MINIMAP_ZOOMOUT="streetview.minimap.zoomout",t.STREETVIEW_MINIMAP_MAXIMIZE="streetview.minimap.maximize",t.STREETVIEW_MINIMAP_VERTICALRESIZE="streetview.minimap.verticalresize",t.STREETVIEW_DATE_OPEN="streetview.date.open",t.STREETVIEW_DATE_FOLD="streetview.date.fold",t.STREETVIEW_DATE_LIST="streetview.date.list",t.STREETVIEW_DATE_RESET="streetview.date.reset",t.STREETVIEW_AROUND_NEARBIRDVIEW="streetview.around.nearbirdview",t.STREETVIEW_AROUND_LIST="streetview.around.list",t.STREETVIEW_AROUND_FOLD="streetview.around.fold",t.STREETVIEW_AROUND_OPEN="streetview.around.open",t.STREETVIEW_AROUND_PAGING="streetview.around.paging",t}({})},ZXKN:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=()=>{var t;return(null===(t=document.querySelector("shrinkable-layout"))||void 0===t?void 0:t.getBoundingClientRect())||{width:0,height:0,bottom:0,left:0,right:0,top:0}}},ZpGt:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("2yK0"),o=n("Qgge"),r=n("fXoL");let a=(()=>{class t{constructor(){this.popupPreload=new i.a({visible:!1}),this.popupCampaign=new i.a({visible:!1}),this.popupPromotion=new i.a({visible:!1,banners:[]}),this.popupDirectionsSettings=new i.a({action:o.a.CLOSE,visible:!1}),this.popupLocationInfoWidget=new i.a({action:o.a.CLOSE,visible:!1,data:null}),this.commonDialog=new i.a({action:o.a.OPEN,visible:!1,login:!1,data:null,marginBottom:0}),this.popupCctv=new i.a({action:o.a.CLOSE,visible:!1,data:null}),this.popupPhotoViewer=new i.a({action:o.a.CLOSE,visible:!1,index:-1,images:[]})}closeAllPopups(){this.closeCctvPopup(),this.closeLocationInfoWidgetPopup(),this.closeDirectionsSettingsPopup(),this.closePhotoViewerPopup(),this.closeCommonDialog()}openPreloadCommonPopup(){this.popupPreload.state.visible||this.popupPreload.setState({visible:!0})}openCampaignPopup(){this.popupCampaign.setState({visible:!0})}closeCampaignPopup(){this.popupCampaign.setState({visible:!1})}openPromotionPopup(t){this.popupPromotion.setState({visible:!0,banners:t})}closePromotionPopup(){this.popupPromotion.setState({visible:!1,banners:[]})}openDirectionsSettingsPopup(){this.popupDirectionsSettings.setState({action:o.a.OPEN,visible:!0})}closeDirectionsSettingsPopup(){this.popupDirectionsSettings.setState({action:o.a.CLOSE,visible:!1})}openLocationInfoWidgetPopup(t){this.popupLocationInfoWidget.setState({action:o.a.OPEN,visible:!0,data:t.data})}clickedBgLocationInfoWidgetPopup(){this.popupLocationInfoWidget.setState({action:o.a.CLICKED_BG,visible:!0})}closeLocationInfoWidgetPopup(){this.popupLocationInfoWidget.setState({action:o.a.CLOSE,visible:!1,data:null})}openCommonDialog(t){this.commonDialog.setState({action:o.a.OPEN,visible:!0,login:t.login,data:t.data,marginBottom:t.marginBottom})}closeCommonDialog(){this.commonDialog.setState({action:o.a.CLOSE,visible:!1,login:!1,data:null})}openCctvPopup(t){this.popupCctv.setState({action:o.a.OPEN,visible:!0,data:t.data})}closeCctvPopup(){this.popupCctv.setState({action:o.a.CLOSE,visible:!1,data:null})}openPhotoViewerPopup(t){this.popupPhotoViewer.setState({action:o.a.OPEN,visible:!0,index:t.index,images:t.images})}closePhotoViewerPopup(){this.popupPhotoViewer.setState({action:o.a.CLOSE,visible:!1,index:-1,images:[]})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},aJe0:function(t,e,n){"use strict";function i(){this._listeners={}}t.exports=i,i.prototype.on=function(t,e,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:n||this}),this},i.prototype.off=function(t,e){if(void 0===t)this._listeners={};else if(void 0===e)this._listeners[t]=[];else for(var n=this._listeners[t],i=0;i<n.length;)n[i].fn===e?n.splice(i,1):++i;return this},i.prototype.emit=function(t){var e=this._listeners[t];if(e){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<e.length;)e[i].fn.apply(e[i++].ctx,n)}return this}},aZEm:function(t,e,n){var i=n("3/2N"),o=n("/rf6"),r=n("cWyK"),a=n("QJ+7").default,s=r.featureEach,c=o.featureCollection;function l(t){var e=i(t);return e.insert=function(t){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:a(t),i.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach(function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:a(t),e.push(t)}):s(t,function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:a(t),e.push(t)}),i.prototype.load.call(this,e)},e.remove=function(t,e){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:a(t),i.prototype.remove.call(this,t,e)},e.clear=function(){return i.prototype.clear.call(this)},e.search=function(t){var e=i.prototype.search.call(this,this.toBBox(t));return c(e)},e.collides=function(t){return i.prototype.collides.call(this,this.toBBox(t))},e.all=function(){var t=i.prototype.all.call(this);return c(t)},e.toJSON=function(){return i.prototype.toJSON.call(this)},e.fromJSON=function(t){return i.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;if(t.bbox)e=t.bbox;else if(Array.isArray(t)&&4===t.length)e=t;else if(Array.isArray(t)&&6===t.length)e=[t[0],t[1],t[3],t[4]];else if("Feature"===t.type)e=a(t);else{if("FeatureCollection"!==t.type)throw new Error("invalid geojson");e=a(t)}return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}t.exports=l,t.exports.default=l},"adR+":function(t,e,n){"use strict";n.d(e,"a",function(){return _});var i=n("qKIp"),o=n("Q63R"),r=n("02YN"),a=n("jtHE"),s=n("LRne"),c=n("EY2u"),l=n("/RaO"),u=n("lJxs"),p=n("SxV6"),h=n("UXun"),d=n("eIep"),g=n("pLZG"),f=n("Pbce"),b=n("WvzF"),m=n("fXoL");let _=(()=>{class t{constructor(t,e,n){this.storage=t,this.visibility=e,this.api=n,this.sharedGetLoginStatus=this.getLoginStatus(),this._loginInfoEvent=new a.a(1),this._loginStatusEvent=new a.a(1),this._myLocationEvent=new a.a(1),this.initMyLocation(),this.observeChangeLoginInfo()}get loginInfo(){return this._loginInfo}set loginInfo(t){this._loginInfo=t,this.storage.set("NM_LOGINYN",t.rtn_cd)}get loginStatus(){return this._loginStatus}get myLocation(){return this._myLocation}get loginInfoEvent(){return this._loginInfoEvent}get loginStatusEvent(){return this._loginStatusEvent}get myLocationEvent(){return this.myLocation?Object(s.a)(this.myLocation):this._myLocationEvent.asObservable()}preloadLoginInfo(){this.api.getLoginInfo().subscribe(t=>{this.loginInfo=t,this.loginInfoEvent.next(this._loginInfo)})}preloadLoginStatus(){this.sharedGetLoginStatus.subscribe(t=>{this._loginStatus=t,this.loginStatusEvent.next(this._loginStatus)})}initMyLocation(){this.api.getCoordinates().subscribe(t=>{this._myLocation=t,this.setMyLocation(this._myLocation),this._myLocationEvent.next(this._myLocation)})}isAdultCheckOk(){return this.loginInfo?Object(s.a)("ADULTCHECK_OK"===this.loginInfo.adultcheck):this.loginInfoEvent.pipe(Object(u.a)(t=>"ADULTCHECK_OK"===t.adultcheck))}isLogin(){return this.loginStatus&&this.loginStatus.loginStatus?Object(s.a)("Y"===this.loginStatus.loginStatus):this.loginStatusEvent.pipe(Object(u.a)(t=>!!t&&"Y"===t.loginStatus),Object(p.a)())}getLoginInfo(){return this.api.getLoginInfo()}getLoginStatus(){return this.api.getLoginStatus().pipe(Object(h.a)(1))}goLoginPage(t=""){location.href=t?`https://nid.naver.com/nidlogin.login?url=${encodeURIComponent(Object(f.j)()+t)}`:`https://nid.naver.com/nidlogin.login?url=${encodeURIComponent(location.href)}`}goAdultLoginPage(t=location.href){location.href=`https://nid.naver.com/nidlogin.login?url=${encodeURIComponent(t)}`}goAdultRestore(t=location.href){location.href=`https://nid.naver.com/adultauth/adult_restore.nhn?url=${encodeURIComponent(t)}`}goAdultExclude(t=location.href){location.href=`https://nid.naver.com/adultauth/adult_exclude.nhn?url=${encodeURIComponent(t)}`}goRootPage(){location.replace("/")}getAvailableMyLocation(t){if(!t)return this._myLocation;if(t.some(t=>!!t.error))return this._myLocation;const e=t[0];return{address:[e.r1,e.r2,e.r3].map(t=>t.trim()).join(" "),lng:e.long,lat:e.lat}}observeChangeLoginInfo(){let t=!1;this.visibility.onVisibilityChange().pipe(Object(d.a)(e=>t?e?this.loginInfo&&this.loginInfo.rtn_cd!==this.storage.get("NM_LOGINYN")?Object(s.a)(e):c.a:this.storage.observe("NM_LOGINYN").pipe(Object(g.a)(t=>t.newValue!==t.oldValue)):(t=!0,c.a))).subscribe(()=>{this.goRootPage()})}setMyLocation(t){const e=Object(b.d)(t);this.storage.set("NM_LOCATION",Object.assign(Object.assign({},t),e))}getMyLocation(){const t=this.storage.get("NM_LOCATION");if(t){const e=Object(b.g)(t),n=Object(b.c)(t);return e?t:Object.assign(Object.assign({},t),n)}return Object.assign(Object.assign({},t),{lng:l.Sb.LNG,lat:l.Sb.LAT})}}return t.\u0275fac=function(e){return new(e||t)(m.ic(i.a),m.ic(r.a),m.ic(o.a))},t.\u0275prov=m.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},akSB:function(t,e,n){var i=n("AdPF"),o=n("0z79"),r=n("Cl5A"),a=n("CIKq");e.polling=function(t){var e=!1,n=!1,a=!1!==t.jsonp;if("undefined"!=typeof location){var s="https:"===location.protocol,c=location.port;c||(c=s?443:80),e=t.hostname!==location.hostname||c!==t.port,n=t.secure!==s}if(t.xdomain=e,t.xscheme=n,"open"in new i(t)&&!t.forceJSONP)return new o(t);if(!a)throw new Error("JSONP disabled");return new r(t)},e.websocket=a},b8Z8:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.ALL_STA_NAVERLOGO="all.STA.naverlogo",t.ALL_STA_HOME="all.STA.home",t.ALL_STA_SCH="all.STA.sch",t.ALL_STA_DRT="all.STA.drt",t.ALL_STA_BUS="all.STA.bus",t.ALL_STA_SUBWAY="all.STA.subway",t.ALL_STA_FAV="all.STA.fav",t.ALL_STA_SETTING="all.STA.setting",t.ALL_STA_LGICON="all.STA.lgicon",t.ALL_STA_PRICON="all.STA.pricon",t.ALL_STA_NAVERSV="all.STA.naversv",t.ALL_MAPSTYLE_COMMON="all.mapstyle.common",t.ALL_MAPSTYLE_TOPOGRAPHY="all.mapstyle.topography",t.ALL_MAPSTYLE_SATELLITE="all.mapstyle.satellite",t.ALL_MAPSTYLE_HYBRIDON="all.mapstyle.hybridon",t.ALL_MAPSTYLE_HYBRIDOFF="all.mapstyle.hybridoff",t.ALL_MRT_CADASTRALON="all.mrt.cadastralon",t.ALL_MRT_CADASTRALOFF="all.mrt.cadastraloff",t.ALL_MRT_PANOON="all.mrt.panoon",t.ALL_MRT_PANOOFF="all.mrt.panooff",t.ALL_MRT_FAVON="all.mrt.favon",t.ALL_MRT_FAVOFF="all.mrt.favoff",t.ALL_MRT_TRAFFICON="all.mrt.trafficon",t.ALL_MRT_TRAFFICOFF="all.mrt.trafficoff",t.ALL_MRT_CCTVON="all.mrt.cctvon",t.ALL_MRT_CCTVOFF="all.mrt.cctvoff",t.ALL_MRT_BICKINGON="all.mrt.bikingon",t.ALL_MRT_BICKINGOFF="all.mrt.bickingoff",t.ALL_MRT_TRAILON="all.mrt.trailon",t.ALL_MRT_TRAILOFF="all.mrt.trailoff",t.ALL_MRT_WEATHERON="all.mrt.weatheron",t.ALL_MRT_WEATHEROFF="all.mrt.weatheroff",t.ALL_MRT_DISTANCEON="all.mrt.distanceon",t.ALL_MRT_DISTANCEOFF="all.mrt.distanceoff",t.ALL_MRT_AREAON="all.mrt.areaon",t.ALL_MRT_AREAOFF="all.mrt.areaoff",t.ALL_MRT_RADIUSON="all.mrt.radiuson",t.ALL_MRT_RADIUSOFF="all.mrt.radiusoff",t.ALL_MRT_ERASER="all.mrt.eraser",t.ALL_MRT_FOLD="all.mrt.fold",t.ALL_MRT_OPEN="all.mrt.open",t.ALL_MRT_SHARE="all.mrt.share",t.ALL_MRT_SAVE="all.mrt.save",t.ALL_MRT_PRINT="all.mrt.print",t.ALL_MRT_THEMEON="all.mrt.themeon",t.ALL_MRT_THEMEOFF="all.mrt.themeoff",t.ALL_SLIDER_CURRENTLOCATION="all.slider.currentlocation",t.ALL_SLIDER_ZOOMIN="all.slider.zoomin",t.ALL_SLIDER_ZOOMOUT="all.slider.zoomout",t.ALL_SLIDER_HOLDER="all.slider.holder",t.ALL_SLIDER_LV20="all.slider.lv20",t.ALL_SLIDER_LV19="all.slider.lv19",t.ALL_SLIDER_LV18="all.slider.lv18",t.ALL_SLIDER_LV17="all.slider.lv17",t.ALL_SLIDER_LV16="all.slider.lv16",t.ALL_SLIDER_LV15="all.slider.lv15",t.ALL_SLIDER_LV14="all.slider.lv14",t.ALL_SLIDER_LV13="all.slider.lv13",t.ALL_SLIDER_LV12="all.slider.lv12",t.ALL_SLIDER_LV11="all.slider.lv11",t.ALL_SLIDER_LV10="all.slider.lv10",t.ALL_SLIDER_LV9="all.slider.lv9",t.ALL_SLIDER_LV8="all.slider.lv8",t.ALL_SLIDER_LV7="all.slider.lv7",t.ALL_SLIDER_LV6="all.slider.lv6",t.ALL_SLIDER_TREALESTATE="all.slider.trealestate",t.ALL_SLIDER_TSTREEET="all.slider.tstreeet",t.ALL_SLIDER_TDONG="all.slider.tdong",t.ALL_SLIDER_TEUP="all.slider.teup",t.ALL_SLIDER_TSI="all.slider.tsi",t.ALL_SLIDER_TDO="all.slider.tdo",t.ALL_RIGHTCK_DEPART="all.rightck.depart",t.ALL_RIGHTCK_REDEPART="all.rightck.redepart",t.ALL_RIGHTCK_VIA1="all.rightck.via1",t.ALL_RIGHTCK_VIA2="all.rightck.via2",t.ALL_RIGHTCK_VIA3="all.rightck.via3",t.ALL_RIGHTCK_VIA4="all.rightck.via4",t.ALL_RIGHTCK_VIA5="all.rightck.via5",t.ALL_RIGHTCK_ARRIVAL="all.rightck.arrival",t.ALL_RIGHTCK_REARRIVAL="all.rightck.rearrival",t.ALL_RIGHTCK_FINDADDRESS="all.rightck.findaddress",t.ALL_RIGHTCK_DISTANCE="all.rightck.distance",t.ALL_RIGHTCK_AREA="all.rightck.area",t.ALL_RIGHTCK_RADIUS="all.rightck.radius",t.ALL_RIGHTCK_REGISTERLOCATION="all.rightck.registerlocation",t.ALL_RIGHTCK_USERFDBCK="all.rightck.userfdbck",t.ALL_PANOLAYER_STREETVIEW="all.panolayer.streetview",t.ALL_PANOLAYER_BIRDVIEW="all.panolayer.birdview",t.ALL_PANOLAYER_UNDERWATERVIEW="all.panolayer.underwaterview",t.ALL_TRAFFICLAYER_TFLINE="all.trafficlayer.tfline",t.ALL_TRAFFICLAYER_ROAD="all.trafficlayer.road",t.ALL_TRAFFICLAYER_CLOSE="all.trafficlayer.close",t.ALL_ACCLAYER_ACCIDENT="all.acclayer.accident",t.ALL_ACCLAYER_CLOSE="all.acclayer.close",t.ALL_CCTVLAYER_CCTV="all.cctvlayer.cctv",t.ALL_CCTVLAYER_PRE="all.cctvlayer.pre",t.ALL_CCTVLAYER_NEXT="all.cctvlayer.next",t.ALL_CCTVLAYER_CLOSE="all.cctvlayer.close",t.ALL_WEALAYER_WEATHER="all.wealayer.weather",t.ALL_WEALAYER_FCAST="all.wealayer.fcast",t.ALL_WEALAYER_CLOSE="all.wealayer.close",t.ALL_DISTLAYER_DISTANCE="all.distlayer.distance",t.ALL_DISTLAYER_CLOSE="all.distlayer.close",t.ALL_AREALAYER_AREA="all.arealayer.area",t.ALL_AREALAYER_CLOSE="all.arealayer.close",t.ALL_RADILAYER_RADIUS="all.radilayer.radius",t.ALL_RADILAYER_CLOSE="all.radilayer.close",t.ALL_CADALEGEND_MINI="all.cadalegend.mini",t.ALL_CADALEGEND_MORE="all.cadalegend.more",t.ALL_CADALEGEND_FOLD="all.cadalegend.fold",t.ALL_PANOLEGEND_MINI="all.panolegend.mini",t.ALL_TFLEGEND_MINI="all.tflegend.mini",t.ALL_TFLEGEND_REFRESH="all.tflegend.refresh",t.ALL_TFLEGEND_ACCIDENTON="all.tflegend.accidenton",t.ALL_TFLEGEND_ACCIDENTOFF="all.tflegend.accidentoff",t.ALL_BIKLEGEND_MINI="all.biklegend.mini",t.ALL_BIKLEGEND_MORE="all.biklegend.more",t.ALL_BIKLEGEND_FOLD="all.biklegend.fold",t.ALL_TRALEGEND_MINI="all.tralegend.mini",t.ALL_TRALEGEND_MORE="all.tralegend.more",t.ALL_TRALEGEND_FOLD="all.tralegend.fold",t.ALL_WEALEGEND_MINI="all.wealegend.mini",t.ALL_WEALEGEND_MORE="all.wealegend.more",t.ALL_WEALEGEND_FOLD="all.wealegend.fold",t.ALL_LEGENDMIN_OPEN="all.legendmin.open",t.ALL_LEFTCK_ADDRESS="all.leftck.address",t.ALL_LEFTCK_POI="all.leftck.poi",t.ALL_LEFTCK_MARKER="all.leftck.marker",t.ALL_LEFTLAYER_ADRESS="all.leftlayer.adress",t.ALL_LEFTLAYER_PANO="all.leftlayer.pano",t.ALL_LEFTLAYER_FAV="all.leftlayer.fav",t.ALL_LEFTLAYER_SHARE="all.leftlayer.share",t.ALL_LEFTLAYER_DEPART="all.leftlayer.depart",t.ALL_LEFTLAYER_ARRIVE="all.leftlayer.arrive",t.ALL_LEFTLAYER_CLOSE="all.leftlayer.close",t.ALL_LEFTSHARE_URLFIELD="all.leftshare.urlfield",t.ALL_LEFTSHARE_URLCOPY="all.leftshare.urlcopy",t.ALL_LEFTSHARE_BLOG="all.leftshare.blog",t.ALL_LEFTSHARE_CAFE="all.leftshare.cafe",t.ALL_LEFTSHARE_BAND="all.leftshare.band",t.ALL_LEFTSHARE_LINE="all.leftshare.line",t.ALL_LEFTSHARE_MAIL="all.leftshare.mail",t.ALL_LEFTSHARE_FACEBOOK="all.leftshare.facebook",t.ALL_LEFTSHARE_KAKAOTALK="all.leftshare.kakaotalk",t.ALL_LEFTSHARE_TWITTER="all.leftshare.twitter",t.ALL_LEFTSHARE_CLOSE="all.leftshare.close",t.ALL_LEFTLOGIN_LOGIN="all.leftlogin.login",t.ALL_LEFTLOGIN_CLOSE="all.leftlogin.close",t.ALL_ADDLIST_CLOSE="all.addlist.close",t.ALL_ADDLIST_NEWLIST="all.addlist.newlist",t.ALL_ADDLIST_DEFAULTLIST="all.addlist.defaultlist",t.ALL_ADDLIST_USERLIST="all.addlist.userlist",t.ALL_ADDLIST_NICKNAMEINPUT="all.addlist.nicknameinput",t.ALL_ADDLIST_FIELDDEL="all.addlist.fielddel",t.ALL_ADDLIST_DONE="all.addlist.done",t.ALL_EDITLIST_CLOSE="all.editlist.close",t.ALL_EDITLIST_NEWLIST="all.editlist.newlist",t.ALL_EDITLIST_DONE="all.editlist.done",t.ALL_ADDNEWLIST_CLOSE="all.addnewlist.close",t.ALL_ADDNEWLIST_COL1="all.addnewlist.col1",t.ALL_ADDNEWLIST_COL2="all.addnewlist.col2",t.ALL_ADDNEWLIST_COL3="all.addnewlist.col3",t.ALL_ADDNEWLIST_COL4="all.addnewlist.col4",t.ALL_ADDNEWLIST_COL5="all.addnewlist.col5",t.ALL_ADDNEWLIST_COL6="all.addnewlist.col6",t.ALL_ADDNEWLIST_COL7="all.addnewlist.col7",t.ALL_ADDNEWLIST_COL8="all.addnewlist.col8",t.ALL_ADDNEWLIST_COL9="all.addnewlist.col9",t.ALL_ADDNEWLIST_COL10="all.addnewlist.col10",t.ALL_ADDNEWLIST_COL11="all.addnewlist.col11",t.ALL_ADDNEWLIST_COL12="all.addnewlist.col12",t.ALL_ADDNEWLIST_NAME="all.addnewlist.name",t.ALL_ADDNEWLIST_FIELDDEL="all.addnewlist.fielddel",t.ALL_ADDNEWLIST_DONE="all.addnewlist.done",t.ALL_PANEL_UNFOLD="all.panel.unfold",t.ALL_PANEL_FOLD="all.panel.fold",t.ALL_PANEL_CLOSE="all.panel.close",t.ALL_SMCARD_CLICK="all.smcard.click",t.ALL_SMCARD_DEPART="all.smcard.depart",t.ALL_SMCARD_ARRIVAL="all.smcard.arrival",t.ALL_SMCARD_SHARE="all.smcard.share",t.ALL_SMCARD_PANO="all.smcard.pano",t.ALL_SMCARD_SAVE="all.smcard.save",t}({})},bDA7:function(t,e,n){"use strict";var i=e;function o(){i.util._configure(),i.Writer._configure(i.BufferWriter),i.Reader._configure(i.BufferReader)}i.build="minimal",i.Writer=n("DIMq"),i.BufferWriter=n("3G9Y"),i.Reader=n("IRA2"),i.BufferReader=n("lWSR"),i.util=n("6Tgl"),i.rpc=n("AbGV"),i.roots=n("Bko/"),i.configure=o,o()},bLT3:function(t,e,n){"use strict";var i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=n("/rf6"),r=n("AKIq"),a=i(n("A/RR"));e.default=function t(e,n,i){void 0===i&&(i={});var s=r.getGeom(e),c=r.getGeom(n);if("Polygon"===s.type&&"Polygon"===c.type){var l=a.intersection(s.coordinates,c.coordinates);if(null===l||0===l.length)return null;if(1===l.length){var u=l[0][0][0],p=l[0][0][l[0][0].length-1];return u[0]===p[0]&&u[1]===p[1]?o.polygon(l[0],i.properties):null}return o.multiPolygon(l,i.properties)}if("MultiPolygon"===s.type){for(var h=[],d=0,g=s.coordinates;d<g.length;d++){var f=t(r.getGeom(o.polygon(g[d])),c);if(f){var b=r.getGeom(f);if("Polygon"===b.type)h.push(b.coordinates);else{if("MultiPolygon"!==b.type)throw new Error("intersection is invalid");h=h.concat(b.coordinates)}}}return 0===h.length?null:1===h.length?o.polygon(h[0],i.properties):o.multiPolygon(h,i.properties)}if("MultiPolygon"===c.type)return t(c,s);throw new Error("poly1 and poly2 must be either polygons or multiPolygons")}},bmvG:function(t,e,n){"use strict";n.r(e),n.d(e,"LayoutModule",function(){return Ji});var i=n("ofXK"),o=n("tyNb"),r=n("ZpGt"),a=n("AAPk"),s=n("VRyK"),c=n("xgIS"),l=n("FQSa"),u=n("jtLz"),p=n("dlD/"),h=n("tSqg"),d=n("8Vp+"),g=n("cCfc"),f=n("0URC"),b=n("HRiQ"),m=n("eIep"),_=n("lJxs"),y=n("pLZG"),O=n("vkgz"),v=n("UFSi"),C=n("fXoL");let P=(()=>{class t{constructor(){this.currentActiveModule=null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=C.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var M=function(t){return t.Home="",t.Search="search",t.Directions="directions",t.Bus="bus",t.Subway="subway",t.Favorite="favorite",t.Settings="settings",t}({}),x=n("qkFu"),w=n("X2Jw"),k=n("9VJ2"),S=n("Em1E"),E=n("Ytve"),I=n("rHdf"),R=n("ApIJ"),T=n("CJka"),A=n("lPxD"),L=n("tF80"),j=n("z6kb"),D=n("XrBI"),F=n("2Vo4"),N=n("LRne"),B=n("Q63R"),U=n("wO+i"),V=n("rS+x"),z=n("sYmb");let W=(()=>{class t{constructor(t,e,n){this.maps=t,this.api=e,this.translate=n,this._poiClick=new F.a(null),this._poiContextMenu=new F.a(null)}get poiClick(){return this._poiClick.getValue()}set poiClick(t){this._poiClick.next(t)}get poiContextMenu(){return this._poiContextMenu.getValue()}set poiContextMenu(t){this._poiContextMenu.next(t)}poiClickAsObservable(){return this._poiClick.asObservable()}poiContextMenuAsObservable(){return this._poiContextMenu.asObservable()}updatePoiAndAddressForContextMenu(t,e){this.updatePoiAndAddress(t,e,[V.m.ADDR,V.m.ROAD_ADDR]).subscribe(t=>{this.poiContextMenu=t})}updatePoiAndAddressForClick(t,e){this.updatePoiAndAddress(t,e,[V.m.ADDR,V.m.ROAD_ADDR]).subscribe(t=>{this.poiClick=t})}updatePoiAndAddress(t,e,n){const i=this.maps.unproject(t),{lng:o,lat:r}=i,a=this.maps.queryRenderedFeatures({x:o,y:r},{filter:["has","mid"]}).shift();if(a){const t=a.properties.mid,e=a.properties.name_dp;return this.api.getGeocode(o,r,n).pipe(Object(U.a)("results"),Object(_.a)(n=>{const{address:i,shortAddress:a}=this.refineAddress(n);return{mid:t,name:e,address:i,shortAddress:a,coordinates:{lng:o,lat:r}}}))}return Object(N.a)(null)}refineAddress(t){const e=t.filter(t=>t.name===V.m.ADDR).shift(),n=t.filter(t=>t.name===V.m.ROAD_ADDR).shift();if(!e&&!n){const t=this.translate.instant("DIRECTIONS.NO_ADDRESS");return{address:t,shortAddress:["",t]}}const i=[],o=[];if(e.region.area1&&e.region.area1.name&&i.push(e.region.area1.name),e.region.area2&&e.region.area2.name&&i.push(e.region.area2.name),e.region.area3&&e.region.area3.name&&i.push(e.region.area3.name),e.region.area4&&e.region.area4.name&&i.push(e.region.area4.name),e.region.area1&&e.region.area1.name&&e.region.area2&&e.region.area2.name&&o.push(`${e.region.area1.name} ${e.region.area2.name}`),n){if(n.land.addition0.value)return o.push(n.land.addition0.value),{shortAddress:o,address:n.land.addition0.value};const t=[];n.land.name&&(i.push(n.land.name),t.push(n.land.name)),n.land.number1&&(i.push(n.land.number1),t.push(n.land.number1)),o.push(t.join(" "))}else{if(!e.land.number1||!e.land.type)return{address:i.join(" "),shortAddress:o};switch(e.land.type){case V.k.MOUNTAIN:i.push(this.translate.instant("ADDRESS.WITH_SAN",{value:e.land.number1})),o.push(this.translate.instant("ADDRESS.WITH_SAN",{value:e.land.number1}));break;case V.k.LAND:if(!e.land.number2){i.push(e.land.number1),o.push(e.land.number1);break}i.push(`${e.land.number1}-${e.land.number2}`),o.push(`${e.land.number1}-${e.land.number2}`)}}return{address:i.join(" "),shortAddress:o}}}return t.\u0275fac=function(e){return new(e||t)(C.ic(D.a),C.ic(B.a),C.ic(z.d))},t.\u0275prov=C.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var H=n("NALf"),q=n("ENmB"),Y=n("rRUm"),J=n("vmh1"),G=n("8qY4"),X=n("Pbce"),K=n("ZPLZ"),Z=n("MHgl"),$=n("qKIp"),Q=n("/RaO"),tt=n("WvzF"),et=n("/rf6"),nt=n("/SBe"),it=n("MGUr"),ot=n("l7P3"),rt=n("b8Z8"),at=n("wESO"),st=n("iTV6"),ct=n("5Cmx"),lt=n("CxMe"),ut=n("Kdsb"),pt=n("eNwd"),ht=n("JplU"),dt=n("zqdW"),gt=n("VzcW");let ft=(()=>{class t{constructor(t,e,n,i,o,r,a,s){this.el=t,this.renderer=e,this.globalLayout=n,this.route=i,this.member=o,this.loader=r,this.nClickService=a,this.maps=s,this.subs=[],window.gnb_service="map",window.gnb_template="gnb_utf8",window.gnb_logout=Object(X.j)(),window.gnb_brightness=1,window.gnb_one_naver=0,window.gnb_item_hide_option=0,window.gnb_login_on_top=!0}ngOnInit(){this.maps.onReady(()=>{this.loader.loadJavascript("https://ssl.pstatic.net/static.gn/templates/gnb_utf8.nhn").subscribe(()=>{window.getGNB(),this.enableCloseGnbAllLayers();const t=()=>{this.subs.push(Object(c.a)(this.el.nativeElement.querySelector("#gnb_my_namebox"),"click").subscribe(t=>{this.nClickService.nClick(t,rt.a.ALL_STA_PRICON)}),Object(c.a)(this.el.nativeElement.querySelector("#gnb_login_layer"),"click").subscribe(t=>{this.nClickService.nClick(t,rt.a.ALL_STA_LGICON)}),Object(c.a)(this.el.nativeElement.querySelector("#gnb_service_layer"),"click").subscribe(t=>{this.nClickService.nClick(t,rt.a.ALL_STA_NAVERSV)}))};pt.a.schedule(()=>{this.el.nativeElement.querySelector(".gnb_name").style.display="none",this.el.nativeElement.querySelector("#gnb_mail_layer").style.display="none",this.el.nativeElement.querySelector("#gnb_login_button .gnb_txt").classList.add("blind"),setTimeout(t,100)})})})}ngOnDestroy(){this.sub&&this.sub(),this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[]}goHome(){location.href="/"}enableCloseGnbAllLayers(){this.sub=this.renderer.listen("body","click",()=>{window.gnbAllLayerClose()})}}return t.\u0275fac=function(e){return new(e||t)(C.Yb(C.o),C.Yb(C.L),C.Yb(E.b),C.Yb(R.e),C.Yb(L.a),C.Yb(dt.a),C.Yb(ht.a),C.Yb(D.a))},t.\u0275cmp=C.Sb({type:t,selectors:[["gnb-widget"]],decls:1,vars:0,consts:[["id","gnb","stopPropagation",""]],template:function(t,e){1&t&&C.Zb(0,"div",0)},directives:[gt.a],styles:['[_nghost-%COMP%]     #gnb_login_layer .gnb_btn_login, [_nghost-%COMP%]     #gnb_service_layer .gnb_service .gnb_icon{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/home.png);background-size:508px 492px}.retina   [_nghost-%COMP%]     #gnb_login_layer .gnb_btn_login, .retina   [_nghost-%COMP%]     #gnb_service_layer .gnb_service .gnb_icon{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/home@2x.png)}[_nghost-%COMP%]{border-top:1px solid rgba(0,0,0,.15)}[_nghost-%COMP%]     #gnb input{-webkit-appearance:textfield}[_nghost-%COMP%]     #gnb input[type=checkbox]{-webkit-appearance:checkbox}[_nghost-%COMP%]     #gnb_notice_layer{display:none!important}[_nghost-%COMP%]     #gnb_my_layer{position:relative;width:100%;height:22px;text-align:center;margin:20px 0 0}[_nghost-%COMP%]     #gnb_my_layer   #gnb_my_namebox{position:absolute;top:0;left:0;right:0;bottom:0;width:22px;height:22px;margin:auto;padding:0}[_nghost-%COMP%]     #gnb_my_layer   #gnb_my_namebox img{width:100%;height:100%}[_nghost-%COMP%]     #gnb_my_layer   #gnb_my_namebox .ico_arrow{left:100%;top:8px;margin-left:22px;transform:rotate(-90deg)}[_nghost-%COMP%]     #gnb_my_layer   #gnb_profile_filter_mask{display:none!important}[_nghost-%COMP%]     #gnb_my_layer #gnb_my_lyr{position:absolute;left:100%;bottom:-48px;right:auto;top:auto;margin-left:8px;text-align:left}[_nghost-%COMP%]     #gnb_my_layer #gnb_my_lyr_iframe{display:none!important}[_nghost-%COMP%]     #gnb_my_layer .gnb_my{position:relative}[_nghost-%COMP%]     #gnb_my_layer .gnb_my:after{position:absolute;top:0;left:0;right:0;bottom:0;border:1px solid #e8e8e8;border-radius:50%;content:""}[_nghost-%COMP%]     #gnb_login_layer{position:relative;float:none!important;width:100%;padding:0;margin:23px auto 0!important;height:22px;text-align:center}[_nghost-%COMP%]     #gnb_login_layer .gnb_btn_login{overflow:hidden;display:inline-block;width:22px;height:22px;font-size:0;color:transparent;vertical-align:top;background-position:-468px -351px}[_nghost-%COMP%]     #gnb_login_layer .gnb_bdr, [_nghost-%COMP%]     #gnb_login_layer .gnb_bg{display:none!important}[_nghost-%COMP%]     #gnb_service_layer{float:none!important;width:100%;height:16px;margin:14px auto 0!important}[_nghost-%COMP%]     #gnb_service_layer .gnb_service{width:auto;height:auto;padding:0;text-align:center}[_nghost-%COMP%]     #gnb_service_layer .gnb_service .gnb_icon{overflow:hidden;display:inline-block;width:16px;height:16px;font-size:0;color:transparent;vertical-align:top;background-position:-492px -351px}[_nghost-%COMP%]     #gnb_service_layer .gnb_service .ico_arrow{position:absolute;left:100%;top:auto;bottom:7px;margin-left:7px;transform:rotate(-90deg)}[_nghost-%COMP%]     #gnb_service_lyr_iframe, [_nghost-%COMP%]     #gnb_svc_more_iframe{display:none!important}[_nghost-%COMP%]     #gnb_service_lyr{position:absolute;left:calc(100% + 12px);bottom:0;top:auto;margin:0 0 -12px;right:auto}[_nghost-%COMP%]     #gnb_svc_more{position:absolute;left:100%;bottom:0;top:auto;right:auto;margin-bottom:-2px}[_nghost-%COMP%]     #gnb_mail_layer{display:none!important}']}),t})();function bt(t,e){1&t&&(C.ec(0,"span",2),C.Uc(1,"\uc120\ud0dd\ub428"),C.dc())}function mt(t,e){1&t&&(C.ec(0,"span",2),C.Uc(1,"\uc120\ud0dd\ub428"),C.dc())}function _t(t,e){1&t&&(C.ec(0,"span",2),C.Uc(1,"\uc120\ud0dd\ub428"),C.dc())}function yt(t,e){1&t&&(C.ec(0,"span",2),C.Uc(1,"\uc120\ud0dd\ub428"),C.dc())}function Ot(t,e){1&t&&(C.ec(0,"span",2),C.Uc(1,"\uc120\ud0dd\ub428"),C.dc())}function vt(t,e){1&t&&(C.ec(0,"span",2),C.Uc(1,"\uc120\ud0dd\ub428"),C.dc())}function Ct(t,e){1&t&&(C.ec(0,"span",2),C.Uc(1,"\uc120\ud0dd\ub428"),C.dc())}let Pt=(()=>{class t{constructor(t,e,n,i,o){this.route=t,this.lastUrlManager=e,this.logService=n,this.store=i,this.reportFacade=o,this.CommonRoutesPath=R.c,this.NClickCodeAll=rt.a,this.isFold$=Object(ct.r)(this.store),this.subs=[],this.isFirst=!0}get isHome(){return[R.c.Home,R.c.Search,R.c.SmartAround].includes(this.currentGnbType)}get isDirections(){return this.currentGnbType===R.c.Directions}get isBus(){return this.currentGnbType===R.c.Bus}get isSubway(){return this.currentGnbType===R.c.Subway}get isTrain(){return this.currentGnbType===R.c.Train}get isFavorite(){return this.currentGnbType===R.c.Favorite}get isMore(){return this.currentGnbType===R.c.More}ngOnInit(){this.subs.push(this.route.firedNavigationStart.subscribe(t=>{this.currentGnbType=t}))}ngOnDestroy(){this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[]}navigate(t,e){e&&e.preventDefault(),this.reportFacade.closeAll();const n=this.lastUrlManager.getUrl(t);if(Object(ct.d)(this.store)&&this.store.dispatch(Object(ct.p)()),this.isSameRouterModule(t)){if(!this.route.getRouterParams().module&&t===R.c.Home)return void(window.location.href="/");this.markTime("from"),this.route.navigate([t]).then(()=>this.markTime("to")),this.lastUrlManager.deleteUrl(t)}else this.markTime("from"),this.route.navigate(n||[t]).then(()=>this.markTime("to"))}getActivate(t){return this.isSameRouterModule(t)||this.isActivateSearchModule(t)}isSameRouterModule(t){return this.route.getRouterParams().module===t||!this.route.getRouterParams().module&&t===R.c.Home}isActivateSearchModule(t){return t===R.c.Search&&this.route.getRouterParams().module===R.c.Entry}markTime(t){if(!this.isFirst)return;if("from"===t)return this.fromUrl=window.location.pathname,void performance.mark("CLICK_FIRST_GNB:START");performance.mark("CLICK_FIRST_GNB:END"),performance.measure("CLICK_FIRST_GNB","CLICK_FIRST_GNB:START","CLICK_FIRST_GNB:END");const e=performance.getEntriesByName("CLICK_FIRST_GNB","measure").find(()=>!0);e&&(this.logService.writeClickGnb({from:this.fromUrl,to:window.location.pathname,duration:e.duration}),this.fromUrl=null,this.isFirst=!1)}}return t.\u0275fac=function(e){return new(e||t)(C.Yb(R.e),C.Yb(at.a),C.Yb(st.a),C.Yb(ot.h),C.Yb(nt.a))},t.\u0275cmp=C.Sb({type:t,selectors:[["navbar"]],decls:52,vars:57,consts:[[1,"logo_box"],["href","https://www.naver.com",1,"link_logo",3,"nClick"],[1,"blind"],[1,"scroll_area"],[1,"scroll_box"],[1,"list_navbar"],[1,"item_navbar"],["href","",1,"link_navbar","home",3,"nClick","click"],[1,"navbar_text"],["class","blind",4,"ngIf"],["href","",1,"link_navbar","directions",3,"nClick","click"],["href","",1,"link_navbar","bus",3,"nClick","click"],["href","",1,"link_navbar","subway",3,"nClick","click"],["href","",1,"link_navbar","train",3,"nClick","click"],["href","",1,"link_navbar","favorite",3,"nClick","click"],["href","",1,"link_navbar","settings",3,"nClick","click"]],template:function(t,e){1&t&&(C.ec(0,"h1",0),C.ec(1,"a",1),C.ec(2,"span",2),C.Uc(3),C.pc(4,"translate"),C.dc(),C.dc(),C.dc(),C.ec(5,"perfect-scrollbar",3),C.ec(6,"div",4),C.ec(7,"ul",5),C.pc(8,"async"),C.ec(9,"li",6),C.ec(10,"a",7),C.lc("click",function(t){return e.navigate(e.CommonRoutesPath.Home,t)}),C.ec(11,"span",8),C.Uc(12),C.pc(13,"translate"),C.dc(),C.Sc(14,bt,2,0,"span",9),C.dc(),C.dc(),C.ec(15,"li",6),C.ec(16,"a",10),C.lc("click",function(t){return e.navigate(e.CommonRoutesPath.Directions,t)}),C.ec(17,"span",8),C.Uc(18),C.pc(19,"translate"),C.dc(),C.Sc(20,mt,2,0,"span",9),C.dc(),C.dc(),C.ec(21,"li",6),C.ec(22,"a",11),C.lc("click",function(t){return e.navigate(e.CommonRoutesPath.Bus,t)}),C.ec(23,"span",8),C.Uc(24),C.pc(25,"translate"),C.dc(),C.Sc(26,_t,2,0,"span",9),C.dc(),C.dc(),C.ec(27,"li",6),C.ec(28,"a",12),C.lc("click",function(t){return e.navigate(e.CommonRoutesPath.Subway,t)}),C.ec(29,"span",8),C.Uc(30),C.pc(31,"translate"),C.dc(),C.Sc(32,yt,2,0,"span",9),C.dc(),C.dc(),C.ec(33,"li",6),C.ec(34,"a",13),C.lc("click",function(t){return e.navigate(e.CommonRoutesPath.Train,t)}),C.ec(35,"span",8),C.Uc(36),C.pc(37,"translate"),C.dc(),C.Sc(38,Ot,2,0,"span",9),C.dc(),C.dc(),C.ec(39,"li",6),C.ec(40,"a",14),C.lc("click",function(t){return e.navigate(e.CommonRoutesPath.Favorite,t)}),C.ec(41,"span",8),C.Uc(42),C.pc(43,"translate"),C.dc(),C.Sc(44,vt,2,0,"span",9),C.dc(),C.dc(),C.ec(45,"li",6),C.ec(46,"a",15),C.lc("click",function(t){return e.navigate(e.CommonRoutesPath.More,t)}),C.ec(47,"span",8),C.Uc(48),C.pc(49,"translate"),C.dc(),C.Sc(50,Ct,2,0,"span",9),C.dc(),C.dc(),C.dc(),C.dc(),C.dc(),C.Zb(51,"gnb-widget")),2&t&&(C.Jb(1),C.wc("nClick",e.NClickCodeAll.ALL_STA_NAVERLOGO),C.Jb(2),C.Wc("",C.qc(4,39,"COMMON.NAVER_MAP")," "),C.Jb(4),C.Qb("-fold",C.qc(8,41,e.isFold$)),C.Jb(3),C.Qb("active",e.isHome),C.wc("nClick",e.NClickCodeAll.ALL_STA_HOME),C.Jb(2),C.Vc(C.qc(13,43,"COMMON.HOME")),C.Jb(2),C.wc("ngIf",e.isHome),C.Jb(2),C.Qb("active",e.isDirections),C.wc("nClick",e.NClickCodeAll.ALL_STA_DRT),C.Jb(2),C.Vc(C.qc(19,45,"COMMON.DIRECTIONS")),C.Jb(2),C.wc("ngIf",e.isDirections),C.Jb(2),C.Qb("active",e.isBus),C.wc("nClick",e.NClickCodeAll.ALL_STA_BUS),C.Jb(2),C.Vc(C.qc(25,47,"COMMON.BUS")),C.Jb(2),C.wc("ngIf",e.isBus),C.Jb(2),C.Qb("active",e.isSubway),C.wc("nClick",e.NClickCodeAll.ALL_STA_SUBWAY),C.Jb(2),C.Vc(C.qc(31,49,"COMMON.SUBWAY")),C.Jb(2),C.wc("ngIf",e.isSubway),C.Jb(2),C.Qb("active",e.isTrain),C.wc("nClick",e.NClickCodeAll.ALL_STA_FAV),C.Jb(2),C.Vc(C.qc(37,51,"COMMON.TRAIN")),C.Jb(2),C.wc("ngIf",e.isTrain),C.Jb(2),C.Qb("active",e.isFavorite),C.wc("nClick",e.NClickCodeAll.ALL_STA_FAV),C.Jb(2),C.Vc(C.qc(43,53,"COMMON.FAVORITE")),C.Jb(2),C.wc("ngIf",e.isFavorite),C.Jb(2),C.Qb("active",e.isMore),C.wc("nClick",e.NClickCodeAll.ALL_STA_SETTING),C.Jb(2),C.Vc(C.qc(49,55,"COMMON.MORE")),C.Jb(2),C.wc("ngIf",e.isMore))},directives:[lt.a,ut.b,i.o,ft],pipes:[z.c,i.b],styles:['[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.bus.active[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.bus[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.bus[_ngcontent-%COMP%]:hover:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.directions.active[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.directions[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.directions[_ngcontent-%COMP%]:hover:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.favorite.active[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.favorite[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.favorite[_ngcontent-%COMP%]:hover:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.home.active[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.home[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.home[_ngcontent-%COMP%]:hover:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.settings.active[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.settings[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.settings[_ngcontent-%COMP%]:hover:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.subway.active[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.subway[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.subway[_ngcontent-%COMP%]:hover:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.train.active[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.train[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.train[_ngcontent-%COMP%]:hover:before, [_nghost-%COMP%]   .logo_box[_ngcontent-%COMP%]   .link_logo[_ngcontent-%COMP%]:before{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/home.png);background-size:508px 492px}.retina   [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.bus.active[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.bus[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.bus[_ngcontent-%COMP%]:hover:before, .retina   [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.directions.active[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.directions[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.directions[_ngcontent-%COMP%]:hover:before, .retina   [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.favorite.active[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.favorite[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.favorite[_ngcontent-%COMP%]:hover:before, .retina   [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.home.active[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.home[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.home[_ngcontent-%COMP%]:hover:before, .retina   [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.settings.active[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.settings[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.settings[_ngcontent-%COMP%]:hover:before, .retina   [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.subway.active[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.subway[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.subway[_ngcontent-%COMP%]:hover:before, .retina   [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.train.active[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.train[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.train[_ngcontent-%COMP%]:hover:before, .retina   [_nghost-%COMP%]   .logo_box[_ngcontent-%COMP%]   .link_logo[_ngcontent-%COMP%]:before{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/home@2x.png)}[_nghost-%COMP%]{display:flex;flex-direction:column;width:63px;height:100%;background-color:#fff}[_nghost-%COMP%]   .logo_box[_ngcontent-%COMP%]{display:flex;flex:0 0 auto;justify-content:center;align-items:center;height:76px;border-bottom:1px solid rgba(0,0,0,.15);box-sizing:border-box}[_nghost-%COMP%]   .logo_box[_ngcontent-%COMP%]   .link_logo[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;padding:10px;font-size:1px;line-height:1px}[_nghost-%COMP%]   .logo_box[_ngcontent-%COMP%]   .link_logo[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:21px;height:21px;font-size:0;color:transparent;vertical-align:top;background-position:-468px -392px;content:""}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]{width:63px}[_nghost-%COMP%]   .list_navbar.-fold[_ngcontent-%COMP%]   .link_navbar[_ngcontent-%COMP%]{z-index:0}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar[_ngcontent-%COMP%]{display:block;position:relative;z-index:10;padding:13px 1px 11px 0;color:#333;text-align:center}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar[_ngcontent-%COMP%]:before{content:""}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar[_ngcontent-%COMP%]:after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1;background:#0475f4}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar[_ngcontent-%COMP%]:hover{color:#0475f4}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.active[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.active[_ngcontent-%COMP%]:after{content:""}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.home[_ngcontent-%COMP%]:before{background-position:-256px -371px}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.home[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.home[_ngcontent-%COMP%]:hover:before{overflow:hidden;display:inline-block;width:62px;height:24px;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.home[_ngcontent-%COMP%]:hover:before{background-position:-192px -371px}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.home.active[_ngcontent-%COMP%]:before{background-position:-128px -371px}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.directions[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.home.active[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:62px;height:24px;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.directions[_ngcontent-%COMP%]:before{background-position:-256px -345px}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.directions[_ngcontent-%COMP%]:hover:before{overflow:hidden;display:inline-block;width:62px;height:24px;font-size:0;color:transparent;vertical-align:top;background-position:-192px -345px}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.directions.active[_ngcontent-%COMP%]:before{background-position:-128px -345px}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.bus[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.directions.active[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:62px;height:24px;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.bus[_ngcontent-%COMP%]:before{background-position:-64px -345px}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.bus[_ngcontent-%COMP%]:hover:before{background-position:0 -345px}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.bus.active[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.bus[_ngcontent-%COMP%]:hover:before{overflow:hidden;display:inline-block;width:62px;height:24px;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.bus.active[_ngcontent-%COMP%]:before{background-position:-84px -56px}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.subway[_ngcontent-%COMP%]:before{background-position:-256px -397px}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.subway[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.subway[_ngcontent-%COMP%]:hover:before{overflow:hidden;display:inline-block;width:62px;height:24px;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.subway[_ngcontent-%COMP%]:hover:before{background-position:-192px -397px}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.subway.active[_ngcontent-%COMP%]:before{background-position:-128px -397px}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.favorite[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.subway.active[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:62px;height:24px;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.favorite[_ngcontent-%COMP%]:before{background-position:-64px -371px}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.favorite[_ngcontent-%COMP%]:hover:before{overflow:hidden;display:inline-block;width:62px;height:24px;font-size:0;color:transparent;vertical-align:top;background-position:0 -371px}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.favorite.active[_ngcontent-%COMP%]:before{background-position:-320px -345px}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.favorite.active[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.settings[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:62px;height:24px;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.settings[_ngcontent-%COMP%]:before{background-position:-64px -397px}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.settings[_ngcontent-%COMP%]:hover:before{overflow:hidden;display:inline-block;width:62px;height:24px;font-size:0;color:transparent;vertical-align:top;background-position:0 -397px}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.settings.active[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:62px;height:24px;font-size:0;color:transparent;vertical-align:top;background-position:-320px -371px}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.train[_ngcontent-%COMP%]:before{background-position:-48px -423px}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.train[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.train[_ngcontent-%COMP%]:hover:before{overflow:hidden;display:inline-block;width:46px;height:24px;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.train[_ngcontent-%COMP%]:hover:before{background-position:0 -423px}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .link_navbar.train.active[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:46px;height:24px;font-size:0;color:transparent;vertical-align:top;background-position:-152px -96px}[_nghost-%COMP%]   .list_navbar[_ngcontent-%COMP%]   .navbar_text[_ngcontent-%COMP%]{display:block;min-height:13px;margin-top:3px;font-size:12px;line-height:15px;letter-spacing:-.44px}[_nghost-%COMP%]   .scroll_area[_ngcontent-%COMP%]{margin-bottom:auto}[_nghost-%COMP%]   gnb-widget[_ngcontent-%COMP%]{flex:0 0 103px}']}),t})();var Mt=n("R0Ic");const xt=Object(Mt.m)("messageTransition",[Object(Mt.j)("void",Object(Mt.k)({transform:"translate(-50%, 100%)",display:"none"})),Object(Mt.j)("*",Object(Mt.k)({transform:"translate(-50%, 0%)"})),Object(Mt.j)("0",Object(Mt.k)({transform:"translate(-50%, 100%)",display:"none"})),Object(Mt.j)("1",Object(Mt.k)({transform:"translate(-50%, 0%)"})),Object(Mt.l)("1 => 0",[Object(Mt.k)({transform:"translate(-50%, 0%)"}),Object(Mt.e)("0.8s ease-in-out",Object(Mt.k)({transform:"translate(-50%, 100%)"}))]),Object(Mt.l)("0 => 1",[Object(Mt.k)({display:"inline-block"}),Object(Mt.k)({transform:"translate(-50%, 100%)"}),Object(Mt.e)("0.2s ease-in-out",Object(Mt.k)({transform:"translate(-50%, 0%)"}))])]);function wt(t,e){1&t&&(C.ec(0,"div",0),C.ec(1,"button",3),C.ec(2,"span",4),C.Uc(3,"\ucd5c\uc2e0 \ubc84\uc804 \uc5c5\ub370\uc774\ud2b8 \ud558\uae30"),C.dc(),C.dc(),C.dc())}let kt=(()=>{class t{constructor(t,e,n,i){this.msgService=t,this.zone=e,this.uaParser=n,this.utils=i,this.message="",this.visibility=!1,this.queue=[],this.sub=this.msgService.change.pipe(Object(y.a)(t=>t.type===x.a.Open||t.type===x.a.OpenWithChangeText)).subscribe(t=>{t.type!==x.a.Open&&this.visibility?this.updateMessage(t.data.message):this.showMessage(t.data.message,t.data.time,t.data.useQueue)})}ngOnDestroy(){this.sub.unsubscribe(),this.sub=null}close(){clearTimeout(this.timeoutIndex),this.visibility=!1}updateMessage(t){this.visibility&&this.zone.run(()=>{this.message=t})}isIE(){return this.uaParser.isIe11}showMessage(t,e,n=!0){this.isIE()?this.showMessageForIE(t):this.visibility?(this.visibility=!1,clearTimeout(this.timeoutIndex),n||(this.queue.length=0,this.queue=[]),this.queue.push({message:t,time:e})):(this.visibility=!0,this.message=t,this.timeoutIndex=this.utils.nextTick(()=>{this.visibility=!1},e))}showMessageFromQueue(){if(0===this.queue.length)return;const t=this.queue.shift();this.showMessage(t.message,t.time)}showMessageForIE(t){this.visibility=!0,this.message=t,this.utils.nextTick(()=>{this.visibility=!1},Q.ec)}onTransitionDone(){this.isIE()||this.visibility||setTimeout(()=>this.showMessageFromQueue(),0)}}return t.\u0275fac=function(e){return new(e||t)(C.Yb(x.b),C.Yb(C.F),C.Yb(T.a),C.Yb(I.a))},t.\u0275cmp=C.Sb({type:t,selectors:[["message"]],hostVars:1,hostBindings:function(t,e){1&t&&C.Qc("@messageTransition.done",function(){return e.onTransitionDone()}),2&t&&C.Rc("@messageTransition",e.visibility)},decls:3,vars:2,consts:[[1,"message_area"],[1,"message",3,"innerHTML"],["class","message_area",4,"ngIf"],["type","button",1,"btn_update"],[1,"message"]],template:function(t,e){1&t&&(C.ec(0,"div",0),C.Zb(1,"span",1),C.dc(),C.Sc(2,wt,4,0,"div",2)),2&t&&(C.Jb(1),C.wc("innerHTML",e.message,C.Kc),C.Jb(1),C.wc("ngIf",!1))},directives:[i.o],styles:['[_nghost-%COMP%]   .message_area[_ngcontent-%COMP%]   .btn_update[_ngcontent-%COMP%]:after{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/popup.png);background-size:201px 160px}.retina   [_nghost-%COMP%]   .message_area[_ngcontent-%COMP%]   .btn_update[_ngcontent-%COMP%]:after{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/popup@2x.png)}[_nghost-%COMP%]   .message_area[_ngcontent-%COMP%]{position:relative;padding:7px 12px;border-radius:4px;background-color:rgba(29,146,255,.9);box-sizing:border-box;font-size:0}[_nghost-%COMP%]   .message_area[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{display:inline-block;font-size:13px;font-weight:400;line-height:18px;text-align:center;color:#fff;vertical-align:top}[_nghost-%COMP%]   .message_area[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]     b{font-weight:500;color:#4a90e2}[_nghost-%COMP%]   .message_area[_ngcontent-%COMP%]   .btn_update[_ngcontent-%COMP%]{padding:2px 0;letter-spacing:-.5px}[_nghost-%COMP%]   .message_area[_ngcontent-%COMP%]   .btn_update[_ngcontent-%COMP%]:after{overflow:hidden;display:inline-block;width:7px;height:11px;font-size:0;color:transparent;vertical-align:top;background-position:-160px -141px;margin:3px 0 0 5px;content:""}'],data:{animation:[xt]}}),t})();var St=n("o0su"),Et=n("MwMu"),It=n("5yaL"),Rt=n("k67y"),Tt=n("jtHE"),At=n("EY2u"),Lt=n("SxV6"),jt=n("tS1D"),Dt=n("JIr8"),Ft=n("joil"),Nt=n("lDLV");function Bt(t,e){if(1&t){const t=C.fc();C.ec(0,"li",11),C.lc("click",function(n){C.Jc(t);const i=e.$implicit;return C.oc(3).clickItem(n,i)}),C.ec(1,"button",12),C.Uc(2),C.dc(),C.dc()}if(2&t){const t=e.$implicit;C.Jb(1),C.Nb("btn btn_context",t.key,""),C.Jb(1),C.Vc(t.name)}}function Ut(t,e){if(1&t&&(C.ec(0,"ul",9),C.Sc(1,Bt,3,4,"li",10),C.dc()),2&t){const t=C.oc(2);C.Qb("double",2===(null==t.directionItems?null:t.directionItems.length)),C.Jb(1),C.wc("ngForOf",t.directionItems)}}function Vt(t,e){if(1&t){const t=C.fc();C.ec(0,"li",11),C.lc("click",function(n){C.Jc(t);const i=e.$implicit;return C.oc(3).clickItem(n,i)}),C.ec(1,"button",12),C.Uc(2),C.dc(),C.dc()}if(2&t){const t=e.$implicit;C.Jb(1),C.Nb("btn btn_context",t.key,""),C.Jb(1),C.Vc(t.name)}}function zt(t,e){if(1&t&&(C.ec(0,"ul",3),C.Sc(1,Vt,3,4,"li",10),C.dc()),2&t){const t=C.oc(2);C.Jb(1),C.wc("ngForOf",t.measureItems)}}function Wt(t,e){if(1&t){const t=C.fc();C.ec(0,"div",1),C.lc("mousedown",function(e){return C.Jc(t),C.oc().onMouseDown(e)})("touchstart",function(e){return C.Jc(t),C.oc().onMouseDown(e)})("contextmenu",function(e){return C.Jc(t),C.oc().onContextMenu(e)}),C.Sc(1,Ut,2,3,"ul",2),C.ec(2,"ul",3),C.ec(3,"li",4),C.ec(4,"button",5),C.lc("click",function(){return C.Jc(t),C.oc().moveToAddress()}),C.Uc(5),C.pc(6,"translate"),C.dc(),C.dc(),C.dc(),C.Sc(7,zt,2,1,"ul",6),C.ec(8,"ul",3),C.ec(9,"li",4),C.ec(10,"button",7),C.lc("click",function(){return C.Jc(t),C.oc().moveToSmartplace()}),C.Uc(11),C.pc(12,"translate"),C.dc(),C.dc(),C.ec(13,"li",4),C.ec(14,"button",8),C.lc("click",function(){return C.Jc(t),C.oc().moveToReport()}),C.Uc(15),C.pc(16,"translate"),C.dc(),C.dc(),C.dc(),C.dc()}if(2&t){const t=C.oc();C.Pc("top",t.y,"px")("left",t.x,"px"),C.Jb(1),C.wc("ngIf",(null==t.directionItems?null:t.directionItems.length)>0),C.Jb(3),C.wc("nClick",t.NClickCodeAll.ALL_RIGHTCK_FINDADDRESS),C.Jb(1),C.Wc(" ",C.qc(6,12,"CONTEXT.ADDRESS_PLACE")," "),C.Jb(2),C.wc("ngIf",(null==t.measureItems?null:t.measureItems.length)>0),C.Jb(3),C.wc("nClick",t.NClickCodeAll.ALL_RIGHTCK_REGISTERLOCATION),C.Jb(1),C.Wc(" ",C.qc(12,14,"CONTEXT.ENTRY_INFO")," "),C.Jb(3),C.wc("nClick",t.NClickCodeAll.ALL_RIGHTCK_USERFDBCK),C.Jb(1),C.Wc(" ",C.qc(16,16,"CONTEXT.REPORT")," ")}}let Ht=(()=>{class t{constructor(t,e,n,i,o,r,a,s,c,l){this.commonUtils=t,this.contextMenu=e,this.commonRoutes=n,this.locationInfo=i,this.translate=o,this.logService=r,this.nClickService=a,this.shortcut=s,this.cd=c,this.reportFacade=l,this.isShowing$=this.contextMenu.status,this.NClickCodeAll=rt.a,this.x=-1e3,this.y=-1e3,this.directionItems=[],this.measureItems=[],this.contextMenuReady=new Tt.a(1),this.subs=[]}ngOnInit(){this.subs=[this.contextMenu.menuListChanged.subscribe(t=>{this.filterItems(t)}),this.contextMenu.status.pipe(Object(y.a)(t=>(this.contextMenuReady.next(!1),this.x=-1e3,this.y=-1e3,t)),Object(m.a)(()=>{const{point:t,lngLat:e}=this.contextMenu.metaInfo;return this.point=t,this.lngLat=e,this.locationInfo.getLocationInfoByCoordinates(this.lngLat.lng,this.lngLat.lat)})).subscribe(t=>{this.adjstPosition(),this.address=this.getAddress(t),this.addressType=t&&t.addr?"jibun":"",this.contextMenuReady.next(!0)}),this.shortcut.keydown.pipe(Object(y.a)(t=>t.type===V.r.Escape)).subscribe(t=>{t.data.e.preventDefault(),this.contextMenu.hide()})]}ngOnDestroy(){this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[]}clickItem(t,e){e.cb&&(this.clickLog(t,e),e.lngLat=this.lngLat,e.point=this.point,this.doWhenContextMenuReady(()=>e.cb(e))),this.contextMenu.hide()}onMouseDown(t){t.stopPropagation()}onContextMenu(t){t.preventDefault()}moveToSmartplace(){window.open(`${Q.ld}?addr=${this.address}`,"blank"),this.contextMenu.hide()}moveToReport(){this.contextMenu.hide(),this.commonRoutes.navigate(["settings"]),this.reportFacade.showReportList(Nt.d.Home,Nt.c.ShrinkableLayout)}moveToAddress(){this.doWhenContextMenuReady(()=>{if(!this.lngLat||!Object(tt.g)(this.lngLat))return;const{lng:t,lat:e}=Object(tt.d)(this.lngLat);this.contextMenu.hide(),this.commonRoutes.navigate(["entry",V.h.Address,`${t},${e},${this.address},${this.addressType}`])})}clickLog(t,e){const n=this.commonRoutes.getRouterParams();let i;switch(e.key){case It.b.setStart:i=n.start&&n.start!==Q.z?rt.a.ALL_RIGHTCK_REDEPART:rt.a.ALL_RIGHTCK_DEPART;break;case It.b.setGoal:i=n.goal&&n.goal!==Q.z?rt.a.ALL_RIGHTCK_REARRIVAL:rt.a.ALL_RIGHTCK_ARRIVAL;break;case It.b.addWaypoint:if(n.via&&n.via!==Q.z)switch(n.via.split(Q.C).length){case 0:i=rt.a.ALL_RIGHTCK_VIA1;break;case 1:i=rt.a.ALL_RIGHTCK_VIA2;break;case 2:i=rt.a.ALL_RIGHTCK_VIA3;break;case 3:i=rt.a.ALL_RIGHTCK_VIA4;break;case 4:i=rt.a.ALL_RIGHTCK_VIA5}else i=rt.a.ALL_RIGHTCK_VIA1;break;case It.b.measureDistance:i=rt.a.ALL_RIGHTCK_DISTANCE;break;case It.b.deleteDistance:break;case It.b.measureArea:i=rt.a.ALL_RIGHTCK_AREA;break;case It.b.deleteArea:break;case It.b.measureRadius:i=rt.a.ALL_RIGHTCK_RADIUS}i&&this.nClickService.nClick(t,i)}getAddress(t){return t&&t.addr?this.commonUtils.getAddressByGeoCodeInfo(t.addr):""}filterItems(t){this.directionItems=[],this.measureItems=[],t.forEach(t=>{switch(t.key){case It.b.setStart:case It.b.setGoal:case It.b.addWaypoint:this.directionItems.push(t);break;case It.b.measureDistance:case It.b.deleteDistance:case It.b.measureArea:case It.b.deleteArea:case It.b.measureRadius:case It.b.deleteRadius:this.measureItems.push(t)}})}doWhenContextMenuReady(t){this.contextMenuReady.pipe(Object(y.a)(t=>t),Object(Lt.a)(),Object(jt.a)(5e3),Object(Dt.a)(t=>(this.logService.logWithLogger(Ft.b.Common,"ContextMenuComponent","doWhenContextMenuReady",t,"timeout",Object(v.b)()),At.a))).subscribe(()=>t())}adjstPosition(){const t=document.body.querySelector(".context-menu");if(!t)return;const e=t.clientWidth+Q.s,n=e+this.point.x>window.innerWidth;this.x=n?window.innerWidth-e:this.point.x||0;const i=t.clientHeight,o=i+this.point.y>window.innerHeight;this.y=o?window.innerHeight-i:this.point.y||0,this.updateTemplateManually()}updateTemplateManually(){this.cd.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(C.Yb(I.a),C.Yb(h.b),C.Yb(R.e),C.Yb(St.h),C.Yb(z.d),C.Yb(st.a),C.Yb(ht.a),C.Yb(Rt.a),C.Yb(C.i),C.Yb(nt.a))},t.\u0275cmp=C.Sb({type:t,selectors:[["context-menu"]],decls:2,vars:3,consts:[["class","context-menu",3,"top","left","mousedown","touchstart","contextmenu",4,"ngIf"],[1,"context-menu",3,"mousedown","touchstart","contextmenu"],["class","list_context direction",3,"double",4,"ngIf"],[1,"list_context"],[1,"item_context"],["type","button",1,"btn","btn_address",3,"nClick","click"],["class","list_context",4,"ngIf"],["type","button",1,"link_context","entry",3,"nClick","click"],["type","button",1,"link_context","voc",3,"nClick","click"],[1,"list_context","direction"],["class","item_context",3,"click",4,"ngFor","ngForOf"],[1,"item_context",3,"click"],["type","button"]],template:function(t,e){1&t&&(C.Sc(0,Wt,17,18,"div",0),C.pc(1,"async")),2&t&&C.wc("ngIf",C.qc(1,1,e.isShowing$))},directives:[i.o,lt.a,i.n],pipes:[i.b,z.c],styles:['[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context.direction[_ngcontent-%COMP%]   .btn.btn_context0[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context.direction[_ngcontent-%COMP%]   .btn.btn_context1[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context.direction[_ngcontent-%COMP%]   .btn.btn_context2[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_address[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_context4[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_context5[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_context6[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_context7[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_context8[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_context9[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_favorite[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .link_context.entry[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .link_context.voc[_ngcontent-%COMP%]:before{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/home.png);background-size:508px 492px}.retina   [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context.direction[_ngcontent-%COMP%]   .btn.btn_context0[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context.direction[_ngcontent-%COMP%]   .btn.btn_context1[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context.direction[_ngcontent-%COMP%]   .btn.btn_context2[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_address[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_context4[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_context5[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_context6[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_context7[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_context8[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_context9[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_favorite[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .link_context.entry[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .link_context.voc[_ngcontent-%COMP%]:before{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/home@2x.png)}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]{display:block;position:absolute;width:174px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:2px;box-shadow:0 2px 3px 0 rgba(0,0,0,.1);box-sizing:border-box;background-clip:padding-box;z-index:300}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%] + .list_context[_ngcontent-%COMP%]{border-top:1px solid #e8e8e8}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context.direction[_ngcontent-%COMP%]{display:table;width:100%;padding:5px 7px;table-layout:fixed;box-sizing:border-box}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context.direction.double[_ngcontent-%COMP%]   .item_context[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:5px 0}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context.direction[_ngcontent-%COMP%]   .item_context[_ngcontent-%COMP%]{display:table-cell}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context.direction[_ngcontent-%COMP%]   .item_context[_ngcontent-%COMP%] + .item_context[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context.direction[_ngcontent-%COMP%]   .item_context[_ngcontent-%COMP%] + .item_context[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;bottom:0;width:1px;height:9px;margin:auto;background-color:#e8e8e8;content:""}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context.direction[_ngcontent-%COMP%]   .item_context[_ngcontent-%COMP%]:hover + .item_context[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:after{content:normal}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context.direction[_ngcontent-%COMP%]   .item_context[_ngcontent-%COMP%]:hover   .btn[_ngcontent-%COMP%]:after{content:normal!important}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context.direction[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:5px 2px 5px 0;text-align:center}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context.direction[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{border-radius:6px;background-color:#f0f0f0}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context.direction[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:before{margin-right:1px}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context.direction[_ngcontent-%COMP%]   .btn.btn_context0[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:18px;height:18px;font-size:0;color:transparent;vertical-align:top;background-position:-244px -449px}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context.direction[_ngcontent-%COMP%]   .btn.btn_context1[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:18px;height:18px;font-size:0;color:transparent;vertical-align:top;background-position:-184px -449px}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context.direction[_ngcontent-%COMP%]   .btn.btn_context2[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:18px;height:18px;font-size:0;color:transparent;vertical-align:top;background-position:-284px -449px}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction){padding:7px 0}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .item_context[_ngcontent-%COMP%]{padding:0 7px}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn[_ngcontent-%COMP%], [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .link_context[_ngcontent-%COMP%]{padding:5px 6px;text-align:left;box-sizing:border-box}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .link_context[_ngcontent-%COMP%]:hover{border-radius:6px;background-color:#f0f0f0}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .link_context[_ngcontent-%COMP%]:before{margin-right:8px}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .link_context[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .link_context.entry[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:18px;height:18px;font-size:0;color:transparent;vertical-align:top;background-position:-124px -449px}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .link_context.voc[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:18px;height:18px;font-size:0;color:transparent;vertical-align:top;background-position:-264px -449px}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_context4[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:18px;height:18px;font-size:0;color:transparent;vertical-align:top;background-position:-104px -449px}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_context5[_ngcontent-%COMP%]{color:#0475f4}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_context5[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:18px;height:18px;font-size:0;color:transparent;vertical-align:top;background-position:-84px -449px}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_context6[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:18px;height:18px;font-size:0;color:transparent;vertical-align:top;background-position:-64px -449px}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_context7[_ngcontent-%COMP%]{color:#0475f4}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_context7[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:18px;height:18px;font-size:0;color:transparent;vertical-align:top;background-position:-44px -449px}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_context8[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:18px;height:18px;font-size:0;color:transparent;vertical-align:top;background-position:-224px -449px}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_context9[_ngcontent-%COMP%]{color:#0475f4}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_context9[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:18px;height:18px;font-size:0;color:transparent;vertical-align:top;background-position:-204px -449px}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_address[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:18px;height:18px;font-size:0;color:transparent;vertical-align:top;background-position:-490px -415px}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]:not(.direction)   .btn.btn_favorite[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:18px;height:18px;font-size:0;color:transparent;vertical-align:top;background-position:-164px -449px}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]   .item_context[_ngcontent-%COMP%]{font-size:13px;line-height:17px;color:#333}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]   .link_context[_ngcontent-%COMP%]{width:100%;font-size:13px;line-height:18px}[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]   .list_context[_ngcontent-%COMP%]   .link_context[_ngcontent-%COMP%]:before{content:""}']}),t})();var qt=n("YgFX"),Yt=n("tMAK"),Jt=n("Joaz"),Gt=n("JGFM"),Xt=n("BE5q");const Kt=["listIndoor"],Zt=["scrollInner"],$t=["indoorfloor"];function Qt(t,e){if(1&t){const t=C.fc();C.ec(0,"button",10),C.lc("click",function(e){return C.Jc(t),C.oc().scrollUp(e)}),C.Uc(1),C.pc(2,"translate"),C.dc()}if(2&t){const t=C.oc();C.wc("disabled",t.isScrollTop),C.Jb(1),C.Wc(" ",C.qc(2,2,"INDOOR.PREV")," ")}}function te(t,e){1&t&&(C.ec(0,"span",13),C.Uc(1),C.pc(2,"translate"),C.dc()),2&t&&(C.Jb(1),C.Wc(" ",C.qc(2,1,"INDOOR.CONNECTED_FLOOR")," "))}function ee(t,e){if(1&t){const t=C.fc();C.ec(0,"li"),C.ec(1,"button",11),C.lc("click",function(n){C.Jc(t);const i=e.$implicit;return C.oc().changeFloor(n,i.z)}),C.Uc(2),C.Sc(3,te,3,3,"span",12),C.dc(),C.dc()}if(2&t){const t=e.$implicit,n=C.oc();C.Nb("item_indoor floor_",t.z,""),C.Jb(1),C.Qb("active",t.z===n.currentFloor),C.Jb(1),C.Wc(" ",t.f," "),C.Jb(1),C.wc("ngIf",n.isConnectedFloor(t))}}function ne(t,e){if(1&t){const t=C.fc();C.ec(0,"button",14),C.lc("click",function(e){return C.Jc(t),C.oc().scrollDown(e)}),C.Uc(1),C.pc(2,"translate"),C.dc()}if(2&t){const t=C.oc();C.wc("disabled",t.isScrollBottom),C.Jb(1),C.Wc(" ",C.qc(2,2,"INDOOR.NEXT")," ")}}function ie(t,e){if(1&t&&(C.cc(0),C.Uc(1),C.pc(2,"translate"),C.bc()),2&t){const t=C.oc(2);C.Jb(1),C.Xc("",C.qc(2,2,"INDOOR.INDOOR")," ",t.floorList[0].f,"")}}function oe(t,e){if(1&t&&(C.cc(0),C.Uc(1),C.pc(2,"translate"),C.bc()),2&t){const t=C.oc(2);C.Jb(1),C.Yc("",C.qc(2,3,"INDOOR.INDOOR")," ",t.floorList[t.floorList.length-1].f," ~ ",t.floorList[0].f,"")}}function re(t,e){if(1&t&&(C.ec(0,"span",15),C.Sc(1,ie,3,4,"ng-container",16),C.Sc(2,oe,3,5,"ng-container",16),C.dc()),2&t){const t=C.oc();C.Jb(1),C.wc("ngIf",1===t.floorList.length),C.Jb(1),C.wc("ngIf",t.floorList.length>1)}}let ae=(()=>{class t{constructor(t,e,n,i,o,r,a){this.indoor=t,this.route=e,this.status=n,this.mapsLayoutService=i,this.panoramaService=o,this.nClickService=r,this.zone=a,this.showFloorList=!1,this._left=16,this._floorList=[],this.isOriginFloor=!0,this.currentFloor="",this.subs=[],this.subs.push(t.change.subscribe(t=>{this.zone.run(()=>{t.type!==Yt.a.Deactivate?(this.indoorLoading=!0,this.screenHeight=window.innerHeight,this.showFloorList=!0,this.currentFloor=t.data.currentFloor,this.floorList=t.data.floorList.reverse(),this.scrollToCurrentFloor()):this.clear()})}),this.route.events.pipe(Object(y.a)(()=>!!this.currentFloor),Object(U.a)("data")).subscribe(()=>{this.zone.run(()=>{this.heightFloor(),this.scrollToCurrentFloor()})}),this.panoramaService.events.mode.subscribe(t=>{switch(t){case Jt.c.ViewerToEntry:this.isPanorama=!1;break;case Jt.c.Viewer:this.isPanorama=!0}}))}set left(t){this._left=t+16}get floorList(){return this._floorList}set floorList(t){this._floorList=t,this.heightFloor()}get hasFloorMoreThenOfDisplayLimit(){return!!this.floorList&&this.floorList.length>this.displayLimit}get isScrollTop(){return 0===this.scrollTop}get isScrollBottom(){return this.scrollTop>=this.scrollBottom}get isListIndoorElement(){return!(!this.listIndoor||!this.listIndoor.nativeElement)}get isScrollInnerElement(){return!(!this.scrollInner||!this.scrollInner.nativeElement)}get isMiniMapFloat(){return this.mapsLayoutService.layout===l.d.Float}ngOnDestroy(){this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[]}clear(){this.showFloorList=!1,this.currentFloor="",this.floorList=[],this.indoorLoading=!1,this.screenExceed=!1,this.isOriginFloor=!0,this.floorHeight=null,this.scrollTop=0,this.scrollBottom=0,this.displayLimit=null}changeFloor(t,e){this.currentFloor!==e&&(this.currentFloor=e,this.indoor.changeFloor(e),this.nClickService.nClick(t,Gt.a.INDOOR_FLOORPANEL_FLOORS))}onScroll(){this.zone.run(()=>this.scrollTop=this.listIndoor.nativeElement.scrollTop)}scrollUp(t){this.isListIndoorElement&&(this.listScrollTo(0),this.nClickService.nClick(t,Gt.a.INDOOR_FLOORPANEL_UPSIDE))}scrollDown(t){this.isListIndoorElement&&(this.listScrollTo(this.listIndoor.nativeElement.scrollHeight-this.listIndoor.nativeElement.offsetHeight-2),this.nClickService.nClick(t,Gt.a.INDOOR_FLOORPANEL_DOWNSIDE))}isConnectedFloor(t){if(t.c&&t.c.length>0)for(const e of t.c)if(e.z===t.z)return!0;return!1}scrollToCurrentFloor(){this.listScrollToItem(this.currentFloor)}listScrollToItem(t){if(!this.isScrollInnerElement)return;const e=this.floorList.findIndex(e=>e.z===t);if(-1===e)return;const n=this.getListScrollToItemTop(e);this.listScrollTo(n)}getListScrollToItemTop(t){if(this.displayLimit===Q.vb){if(!this.hasFloorMoreThenOfDisplayLimit||t+Q.tb+1>=this.floorList.length)return this.scrollBottom;if(t<=Q.tb)return 0}const e=Math.floor(this.displayLimit/2)*Q.ub,n=t*Q.ub-e;return n>=this.scrollBottom?this.scrollBottom-Q.ub:n}listScrollTo(t){this.isListIndoorElement&&pt.a.schedule(()=>{this.zone.run(()=>{this.scrollTop=t,this.listIndoor.nativeElement.scrollTo?this.listIndoor.nativeElement.scrollTo({top:t,behavior:"smooth"}):this.listIndoor.nativeElement.scrollTop=t})})}onResize(t){this.screenHeight=t.target.innerHeight,this.heightFloor()}heightFloor(){const t=this.getDiff(),e=this.screenHeight-Q.zb-Q.Ab-t,n=this.floorList.length,i=n>=8?Q.sb:0;this.isOriginFloor=!1,e-i<Q.ub?(this.floorHeight=Q.ub,this.displayLimit=1):e-i>=Q.wb?(this.floorHeight=Q.wb,this.displayLimit=Q.vb,this.isOriginFloor=!0):(this.displayLimit=Math.floor((e-i)/Q.ub),this.floorHeight=this.displayLimit*Q.ub),this.listHeight=Q.ub*n,this.scrollBottom=(n-this.displayLimit)*Q.ub}getDiff(){const t=this.route.getRouterParams();return!t||t.valueByOrder.length>1?0:("search"===t.module?Q.Cb:Q.xb)+Q.Bb-Q.Ab}}return t.\u0275fac=function(e){return new(e||t)(C.Yb(Yt.b),C.Yb(R.e),C.Yb(j.e),C.Yb(Xt.a),C.Yb(Jt.f),C.Yb(ht.a),C.Yb(C.F))},t.\u0275cmp=C.Sb({type:t,selectors:[["indoor-floor"]],viewQuery:function(t,e){if(1&t&&(C.ad(Kt,3),C.ad(Zt,3),C.ad($t,3)),2&t){let t;C.Fc(t=C.mc())&&(e.listIndoor=t.first),C.Fc(t=C.mc())&&(e.scrollInner=t.first),C.Fc(t=C.mc())&&(e.indoorFloor=t.first)}},hostVars:10,hostBindings:function(t,e){1&t&&C.lc("resize",function(t){return e.onResize(t)},!1,C.Ic),2&t&&(C.Pc("left",e._left,"px"),C.Qb("float",e.isMiniMapFloat)("screen_exceed",e.screenExceed)("isloading",e.indoorLoading)("panorama",e.isPanorama))},inputs:{left:"left"},decls:11,vars:10,consts:[["indoorfloor",""],["type","button","class","btn_up",3,"disabled","click",4,"ngIf"],[1,"scroll_area",3,"scroll"],["listIndoor",""],[1,"scroll_inner"],["scrollInner",""],[1,"list_indoor"],[3,"class",4,"ngFor","ngForOf"],["type","button","class","btn_down",3,"disabled","click",4,"ngIf"],["class","indoor_text",4,"ngIf"],["type","button",1,"btn_up",3,"disabled","click"],["type","button",1,"btn_indoor",3,"click"],["class","connected_floor",4,"ngIf"],[1,"connected_floor"],["type","button",1,"btn_down",3,"disabled","click"],[1,"indoor_text"],[4,"ngIf"]],template:function(t,e){1&t&&(C.ec(0,"div",null,0),C.Sc(2,Qt,3,4,"button",1),C.ec(3,"div",2,3),C.lc("scroll",function(){return e.onScroll()}),C.ec(5,"div",4,5),C.ec(7,"ul",6),C.Sc(8,ee,4,7,"li",7),C.dc(),C.dc(),C.dc(),C.Sc(9,ne,3,4,"button",8),C.Sc(10,re,3,2,"span",9),C.dc()),2&t&&(C.Qb("hide",!e.showFloorList),C.Jb(2),C.wc("ngIf",e.hasFloorMoreThenOfDisplayLimit),C.Jb(1),C.Pc("max-height",e.floorHeight>0?e.floorHeight:null,"px"),C.Jb(2),C.Pc("height",e.listHeight,"px"),C.Jb(3),C.wc("ngForOf",e.floorList),C.Jb(1),C.wc("ngIf",e.hasFloorMoreThenOfDisplayLimit),C.Jb(1),C.wc("ngIf",(null==e.floorList?null:e.floorList.length)>0))},directives:[i.o,i.n],pipes:[z.c],styles:['[_nghost-%COMP%]   .btn_down[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .btn_down[_ngcontent-%COMP%]:not(:disabled):hover:before, [_nghost-%COMP%]   .btn_up[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .btn_up[_ngcontent-%COMP%]:not(:disabled):hover:before{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/home.png);background-size:508px 492px}.retina   [_nghost-%COMP%]   .btn_down[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .btn_down[_ngcontent-%COMP%]:not(:disabled):hover:before, .retina   [_nghost-%COMP%]   .btn_up[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .btn_up[_ngcontent-%COMP%]:not(:disabled):hover:before{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/home@2x.png)}[_nghost-%COMP%]{position:absolute;left:16px;bottom:30px;z-index:20;visibility:hidden;border-radius:4px;background-color:#fff;border:1px solid rgba(0,0,0,.2);box-shadow:0 2px 3px 0 rgba(0,0,0,.1)}.panel[_nghost-%COMP%]{left:406px}.screen_exceed[_nghost-%COMP%]{top:469px;bottom:auto}.isloading[_nghost-%COMP%]{visibility:visible}.panorama[_nghost-%COMP%]{left:auto;right:10px;bottom:70px}.float[_nghost-%COMP%]{display:none}[_nghost-%COMP%]   .scroll_area[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto;overflow:-moz-scrollbars-none;-ms-overflow-style:none;width:42px;max-height:266px;border-top:1px solid #e9e9e9;border-bottom:1px solid #e9e9e9}[_nghost-%COMP%]   .scroll_area[_ngcontent-%COMP%]::-webkit-scrollbar{display:none!important}[_nghost-%COMP%]   .scroll_area[_ngcontent-%COMP%]   .scroll_inner[_ngcontent-%COMP%]{width:42px}[_nghost-%COMP%]   .hide[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .btn_indoor[_ngcontent-%COMP%]{position:relative;display:block;width:42px;height:40px;font-size:14px;color:#555;line-height:18px;text-align:center;box-sizing:border-box}[_nghost-%COMP%]   .btn_indoor[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;color:#0475f4}[_nghost-%COMP%]   .btn_indoor[_ngcontent-%COMP%]:hover   .connected_floor[_ngcontent-%COMP%]{color:#0475f4}[_nghost-%COMP%]   .btn_indoor.active[_ngcontent-%COMP%]{background-color:#0475f4;color:#fff}[_nghost-%COMP%]   .btn_indoor.active[_ngcontent-%COMP%]   .connected_floor[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]   .connected_floor[_ngcontent-%COMP%]{display:block;margin-top:-2px;font-size:10px;line-height:13px;letter-spacing:-.3px;color:#555;white-space:nowrap}[_nghost-%COMP%]   .btn_down[_ngcontent-%COMP%], [_nghost-%COMP%]   .btn_up[_ngcontent-%COMP%]{overflow:hidden;position:relative;width:42px;height:22px;color:transparent}[_nghost-%COMP%]   .btn_down[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .btn_up[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:14px;height:14px;font-size:0;color:transparent;vertical-align:top;background-position:-494px -275px;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;content:""}[_nghost-%COMP%]   .btn_down[_ngcontent-%COMP%]:not(:disabled):hover:before, [_nghost-%COMP%]   .btn_up[_ngcontent-%COMP%]:not(:disabled):hover:before{overflow:hidden;display:inline-block;width:14px;height:14px;font-size:0;color:transparent;vertical-align:top;background-position:-494px -249px}[_nghost-%COMP%]   .btn_down[_ngcontent-%COMP%]:disabled:before, [_nghost-%COMP%]   .btn_up[_ngcontent-%COMP%]:disabled:before{opacity:.3}[_nghost-%COMP%]   .btn_up[_ngcontent-%COMP%]{top:0}[_nghost-%COMP%]   .btn_up[_ngcontent-%COMP%]:before{transform:rotate(180deg)}[_nghost-%COMP%]   .btn_bottom[_ngcontent-%COMP%]{bottom:0}[_nghost-%COMP%]   .btn_up[_ngcontent-%COMP%]:not(:disabled):hover ~ .indoor_text[_ngcontent-%COMP%]{display:block;top:0}[_nghost-%COMP%]   .btn_down[_ngcontent-%COMP%]:not(:disabled):hover ~ .indoor_text[_ngcontent-%COMP%]{display:block;bottom:0}[_nghost-%COMP%]   .indoor_text[_ngcontent-%COMP%]{display:none;position:absolute;left:100%;padding:0 12px;height:24px;margin-left:12px;border-radius:12px;box-shadow:0 1px 3px 0 rgba(0,0,0,.1);background-color:#343437;font-size:12px;line-height:23px;color:#fff;white-space:nowrap}']}),t})();var se=n("POnT"),ce=n("+sev"),le=n("iQxS"),ue=n("/B5r"),pe=n("Bf4L");function he(t,e){if(1&t){const t=C.fc();C.ec(0,"button",2),C.lc("click",function(e){return C.Jc(t),C.oc().toggleMinimisePopup(e)}),C.Uc(1),C.pc(2,"translate"),C.dc()}2&t&&(C.Jb(1),C.Wc(" ",C.qc(2,1,"LEGEND.TITLE"),"\n"))}const de=function(t){return{km:t}},ge=function(t,e){return{minKm:t,maxKm:e}};function fe(t,e){if(1&t){const t=C.fc();C.ec(0,"div",15),C.ec(1,"div",16),C.ec(2,"strong",17),C.Uc(3),C.pc(4,"translate"),C.dc(),C.ec(5,"div",18),C.ec(6,"span",19),C.Uc(7),C.pc(8,"dateTimeFormat"),C.dc(),C.ec(9,"button",20),C.lc("click",function(e){return C.Jc(t),C.oc(2).refreshTraffic(e)}),C.Uc(10),C.pc(11,"translate"),C.dc(),C.dc(),C.dc(),C.ec(12,"div",21),C.ec(13,"ul",22),C.ec(14,"li",23),C.Uc(15),C.pc(16,"translate"),C.ec(17,"div",24),C.ec(18,"dl",25),C.ec(19,"dt",26),C.Uc(20),C.pc(21,"translate"),C.dc(),C.Zb(22,"dd",27),C.pc(23,"translate"),C.ec(24,"dt",26),C.Uc(25),C.pc(26,"translate"),C.dc(),C.Zb(27,"dd",27),C.pc(28,"translate"),C.ec(29,"dt",26),C.Uc(30),C.pc(31,"translate"),C.dc(),C.Zb(32,"dd",27),C.pc(33,"translate"),C.ec(34,"dt",26),C.Uc(35),C.pc(36,"translate"),C.dc(),C.Zb(37,"dd",27),C.pc(38,"translate"),C.dc(),C.dc(),C.dc(),C.ec(39,"li",28),C.Uc(40),C.pc(41,"translate"),C.ec(42,"div",24),C.ec(43,"dl",25),C.ec(44,"dt",26),C.Uc(45),C.pc(46,"translate"),C.dc(),C.Zb(47,"dd",27),C.pc(48,"translate"),C.ec(49,"dt",26),C.Uc(50),C.pc(51,"translate"),C.dc(),C.Zb(52,"dd",27),C.pc(53,"translate"),C.ec(54,"dt",26),C.Uc(55),C.pc(56,"translate"),C.dc(),C.Zb(57,"dd",27),C.pc(58,"translate"),C.ec(59,"dt",26),C.Uc(60),C.pc(61,"translate"),C.dc(),C.Zb(62,"dd",27),C.pc(63,"translate"),C.dc(),C.dc(),C.dc(),C.ec(64,"li",29),C.Uc(65),C.pc(66,"translate"),C.ec(67,"div",24),C.ec(68,"dl",25),C.ec(69,"dt",26),C.Uc(70),C.pc(71,"translate"),C.dc(),C.Zb(72,"dd",27),C.pc(73,"translate"),C.ec(74,"dt",26),C.Uc(75),C.pc(76,"translate"),C.dc(),C.Zb(77,"dd",27),C.pc(78,"translate"),C.ec(79,"dt",26),C.Uc(80),C.pc(81,"translate"),C.dc(),C.Zb(82,"dd",27),C.pc(83,"translate"),C.ec(84,"dt",26),C.Uc(85),C.pc(86,"translate"),C.dc(),C.Zb(87,"dd",27),C.pc(88,"translate"),C.dc(),C.dc(),C.dc(),C.dc(),C.ec(89,"div",18),C.ec(90,"button",30),C.lc("click",function(e){return C.Jc(t),C.oc(2).toggleAccident(e)}),C.Uc(91),C.pc(92,"translate"),C.dc(),C.dc(),C.dc(),C.ec(93,"div",31),C.Uc(94),C.pc(95,"translate"),C.dc(),C.dc()}if(2&t){const t=C.oc(2);C.Jb(3),C.Vc(C.qc(4,36,"LEGEND.TRAFFIC.REAL")),C.Jb(4),C.Vc(C.rc(8,38,t.currentDate,"yyyy.MM.dd (eee) HH:mm")),C.Jb(2),C.Qb("loading",t.isTrafficLoading),C.Jb(1),C.Wc(" ",C.qc(11,41,"LEGEND.TRAFFIC.REFRESH")," "),C.Jb(5),C.Wc(" ",C.qc(16,43,"LEGEND.TRAFFIC.SMOOTH")," "),C.Jb(5),C.Vc(C.qc(21,45,"LEGEND.TRAFFIC.GENERAL_ROAD")),C.Jb(2),C.wc("innerHTML",C.rc(23,47,"LEGEND.TRAFFIC.OVER",C.Bc(113,de,t.TRAFFIC_LEGEND_NORMAL.GENERAL_ROAD.MAX)),C.Kc),C.Jb(3),C.Vc(C.qc(26,50,"LEGEND.TRAFFIC.NATIONAL_ROAD")),C.Jb(2),C.wc("innerHTML",C.rc(28,52,"LEGEND.TRAFFIC.OVER",C.Bc(115,de,t.TRAFFIC_LEGEND_NORMAL.NATIONAL_ROAD.MAX)),C.Kc),C.Jb(3),C.Vc(C.qc(31,55,"LEGEND.TRAFFIC.CITY_EXPRESSWAY")),C.Jb(2),C.wc("innerHTML",C.rc(33,57,"LEGEND.TRAFFIC.OVER",C.Bc(117,de,t.TRAFFIC_LEGEND_NORMAL.CITY_EXPRESSWAY.MAX)),C.Kc),C.Jb(3),C.Vc(C.qc(36,60,"LEGEND.TRAFFIC.EXPRESSWAY")),C.Jb(2),C.wc("innerHTML",C.rc(38,62,"LEGEND.TRAFFIC.OVER",C.Bc(119,de,t.TRAFFIC_LEGEND_NORMAL.EXPRESSWAY.MAX)),C.Kc),C.Jb(3),C.Wc(" ",C.qc(41,65,"LEGEND.TRAFFIC.SLOW")," "),C.Jb(5),C.Vc(C.qc(46,67,"LEGEND.TRAFFIC.GENERAL_ROAD")),C.Jb(2),C.wc("innerHTML",C.rc(48,69,"LEGEND.TRAFFIC.BETWEEN_UNDER",C.Cc(121,ge,t.TRAFFIC_LEGEND_NORMAL.GENERAL_ROAD.MIN,t.TRAFFIC_LEGEND_NORMAL.GENERAL_ROAD.MAX)),C.Kc),C.Jb(3),C.Vc(C.qc(51,72,"LEGEND.TRAFFIC.NATIONAL_ROAD")),C.Jb(2),C.wc("innerHTML",C.rc(53,74,"LEGEND.TRAFFIC.BETWEEN_UNDER",C.Cc(124,ge,t.TRAFFIC_LEGEND_NORMAL.NATIONAL_ROAD.MIN,t.TRAFFIC_LEGEND_NORMAL.NATIONAL_ROAD.MAX)),C.Kc),C.Jb(3),C.Vc(C.qc(56,77,"LEGEND.TRAFFIC.CITY_EXPRESSWAY")),C.Jb(2),C.wc("innerHTML",C.rc(58,79,"LEGEND.TRAFFIC.BETWEEN_UNDER",C.Cc(127,ge,t.TRAFFIC_LEGEND_NORMAL.CITY_EXPRESSWAY.MIN,t.TRAFFIC_LEGEND_NORMAL.CITY_EXPRESSWAY.MAX)),C.Kc),C.Jb(3),C.Vc(C.qc(61,82,"LEGEND.TRAFFIC.EXPRESSWAY")),C.Jb(2),C.wc("innerHTML",C.rc(63,84,"LEGEND.TRAFFIC.BETWEEN_UNDER",C.Cc(130,ge,t.TRAFFIC_LEGEND_NORMAL.EXPRESSWAY.MIN,t.TRAFFIC_LEGEND_NORMAL.EXPRESSWAY.MAX)),C.Kc),C.Jb(3),C.Wc(" ",C.qc(66,87,"LEGEND.TRAFFIC.CONGESTION")," "),C.Jb(5),C.Vc(C.qc(71,89,"LEGEND.TRAFFIC.GENERAL_ROAD")),C.Jb(2),C.wc("innerHTML",C.rc(73,91,"LEGEND.TRAFFIC.UNDER",C.Bc(133,de,t.TRAFFIC_LEGEND_NORMAL.GENERAL_ROAD.MIN)),C.Kc),C.Jb(3),C.Vc(C.qc(76,94,"LEGEND.TRAFFIC.NATIONAL_ROAD")),C.Jb(2),C.wc("innerHTML",C.rc(78,96,"LEGEND.TRAFFIC.UNDER",C.Bc(135,de,t.TRAFFIC_LEGEND_NORMAL.NATIONAL_ROAD.MIN)),C.Kc),C.Jb(3),C.Vc(C.qc(81,99,"LEGEND.TRAFFIC.CITY_EXPRESSWAY")),C.Jb(2),C.wc("innerHTML",C.rc(83,101,"LEGEND.TRAFFIC.UNDER",C.Bc(137,de,t.TRAFFIC_LEGEND_NORMAL.CITY_EXPRESSWAY.MIN)),C.Kc),C.Jb(3),C.Vc(C.qc(86,104,"LEGEND.TRAFFIC.EXPRESSWAY")),C.Jb(2),C.wc("innerHTML",C.rc(88,106,"LEGEND.TRAFFIC.UNDER",C.Bc(139,de,t.TRAFFIC_LEGEND_NORMAL.EXPRESSWAY.MIN)),C.Kc),C.Jb(3),C.Qb("active",t.isAccident),C.Jb(1),C.Wc(" ",C.qc(92,109,"LEGEND.TRAFFIC.ACCIDENT")," "),C.Jb(3),C.Wc("\xb7 ",C.qc(95,111,"LEGEND.TRAFFIC.CAUTION"),"")}}function be(t,e){if(1&t){const t=C.fc();C.ec(0,"li",38),C.ec(1,"a",39),C.lc("click",function(){C.Jc(t);const n=e.$implicit;return C.oc(3).onClickSubTab(n)}),C.Uc(2),C.pc(3,"translate"),C.pc(4,"uppercase"),C.dc(),C.dc()}if(2&t){const t=e.$implicit,n=C.oc(3);C.Jb(1),C.Qb("active",n.currentSubTab===t),C.Jb(1),C.Vc(C.qc(3,3,C.qc(4,5,"LEGEND.LAND."+t)))}}function me(t,e){1&t&&(C.cc(0),C.Zb(1,"img",40),C.pc(2,"imageAutoRatio"),C.ec(3,"ul",4),C.ec(4,"li"),C.Uc(5,"\ub300\ud45c\uc9c0\ubc88"),C.dc(),C.ec(6,"li"),C.Uc(7,"\uc9c0\ubc88"),C.dc(),C.ec(8,"li"),C.Uc(9,"\ub3c5\ub9bd\uc9c0\ubc88"),C.dc(),C.ec(10,"li"),C.Uc(11,"\uc9c0\uc801\uacbd\uacc4"),C.dc(),C.ec(12,"li"),C.Uc(13,"\uc2dc\ub3c4\uacbd\uacc4"),C.dc(),C.ec(14,"li"),C.Uc(15,"\uc2dc\uad70\uad6c\uacbd\uacc4"),C.dc(),C.ec(16,"li"),C.Uc(17,"\ud589\uc815\ub3d9\uacbd\uacc4"),C.dc(),C.ec(18,"li"),C.Uc(19,"\ubc95\uc815\ub3d9\uacbd\uacc4"),C.dc(),C.ec(20,"li"),C.Uc(21,"\uc74d\uba74\uacbd\uacc4"),C.dc(),C.ec(22,"li"),C.Uc(23,"\ub9ac\uacbd\uacc4"),C.dc(),C.dc(),C.bc()),2&t&&(C.Jb(1),C.wc("src",C.qc(2,1,"home:legend-popup_cadastral1"),C.Lc))}function _e(t,e){1&t&&(C.cc(0),C.Zb(1,"img",41),C.pc(2,"imageAutoRatio"),C.ec(3,"ul",4),C.ec(4,"li"),C.Uc(5,"\ud0dd\uc9c0\uac1c\ubc1c\uc9c0\uad6c"),C.dc(),C.ec(6,"li"),C.Uc(7,"\uc2e0\ub3c4\uc2dc"),C.dc(),C.ec(8,"li"),C.Uc(9,"\uc815\ube44\uad6c\uc5ed"),C.dc(),C.ec(10,"li"),C.Uc(11,"\ubcf4\uae08\uc790\ub9ac\uac1c\ubc1c\uc9c0\uad6c"),C.dc(),C.ec(12,"li"),C.Uc(13,"\ub274\ud0c0\uc6b4\uc9c0\uad6c"),C.dc(),C.ec(14,"li"),C.Uc(15,"\ub3c4\uc2dc\uac1c\ubc1c\uad6c\uc5ed"),C.dc(),C.ec(16,"li"),C.Uc(17,"\uacbd\uc81c\uc790\uc720\uad6c\uc5ed"),C.dc(),C.ec(18,"li"),C.Uc(19,"\uc7ac\uac1c\ubc1c\uc9c0\uc5ed"),C.dc(),C.ec(20,"li"),C.Uc(21,"\uc8fc\ud0dd\uc7ac\uac1c\ubc1c"),C.dc(),C.ec(22,"li"),C.Uc(23,"\uc7ac\uc815\ube44\ucd09\uc9c4\uc9c0\uad6c"),C.dc(),C.dc(),C.bc()),2&t&&(C.Jb(1),C.wc("src",C.qc(2,1,"home:legend-popup_cadastral2"),C.Lc))}function ye(t,e){1&t&&(C.cc(0),C.Zb(1,"img",42),C.pc(2,"imageAutoRatio"),C.ec(3,"ul",4),C.ec(4,"li"),C.Uc(5,"\uc804\uc6a9\uc8fc\uac70\uc9c0\uc5ed"),C.dc(),C.ec(6,"li"),C.Uc(7,"\uc77c\ubc18\uc8fc\uac70\uc9c0\uc5ed"),C.dc(),C.ec(8,"li"),C.Uc(9,"\uc900\uc8fc\uac70\uc9c0\uc5ed"),C.dc(),C.ec(10,"li"),C.Uc(11,"\uc0c1\uc5c5\uc9c0\uc5ed"),C.dc(),C.ec(12,"li"),C.Uc(13,"\uc911\uc2ec\uc0c1\uc5c5\uc9c0\uc5ed"),C.dc(),C.ec(14,"li"),C.Uc(15,"\uacf5\uc5c5\uc9c0\uc5ed"),C.dc(),C.ec(16,"li"),C.Uc(17,"\ub179\uc9c0\uc9c0\uc5ed"),C.dc(),C.ec(18,"li"),C.Uc(19,"\uad00\ub9ac\uc9c0\uc5ed"),C.dc(),C.ec(20,"li"),C.Uc(21,"\ub18d\ub9bc\uc9c0\uc5ed"),C.dc(),C.ec(22,"li"),C.Uc(23,"\uc790\uc5f0\ud658\uacbd\ubcf4\uc804\uc9c0\uc5ed"),C.dc(),C.dc(),C.bc()),2&t&&(C.Jb(1),C.wc("src",C.qc(2,1,"home:legend-popup_cadastral3"),C.Lc))}function Oe(t,e){1&t&&(C.Zb(0,"img",45),C.pc(1,"imageAutoRatio")),2&t&&C.wc("src",C.qc(1,1,"home:legend-popup_cadastral4_fold"),C.Lc)}function ve(t,e){1&t&&(C.Zb(0,"img",46),C.pc(1,"imageAutoRatio")),2&t&&C.wc("src",C.qc(1,1,"home:legend-popup_cadastral4"),C.Lc)}function Ce(t,e){if(1&t&&(C.cc(0),C.Sc(1,Oe,2,3,"img",43),C.Sc(2,ve,2,3,"img",44),C.ec(3,"ul",4),C.ec(4,"li"),C.Uc(5,"\uc7a5\uae30\uacc4\ud68d\ub3c4\ub85c"),C.dc(),C.ec(6,"li"),C.Uc(7,"\uc608\uc815\uace0\uc18d\ub3c4\ub85c"),C.dc(),C.ec(8,"li"),C.Uc(9,"\uacf5\uc0ac\uc911\uace0\uc18d\ub3c4\ub85c1"),C.dc(),C.ec(10,"li"),C.Uc(11,"\uacf5\uc0ac\uc911\uace0\uc18d\ub3c4\ub85c2"),C.dc(),C.ec(12,"li"),C.Uc(13,"\uc608\uc815\xb7\uacf5\uc0ac\uc911\uad6d\ub3c4"),C.dc(),C.ec(14,"li"),C.Uc(15,"\uc608\uc815\xb7\uacf5\uc0ac\uc911\uc9c0\ubc29\ub3c4"),C.dc(),C.ec(16,"li"),C.Uc(17,"\uc608\uc815\xb7\uacf5\uc0ac\uc911\uc77c\ubc18\ub3c4\ub85c"),C.dc(),C.ec(18,"li"),C.Uc(19,"\uc608\uc815\ucca0\ub3c4"),C.dc(),C.ec(20,"li"),C.Uc(21,"\uacf5\uc0ac\uc911\ucca0\ub3c4"),C.dc(),C.ec(22,"li"),C.Uc(23,"\uacf5\uc0ac\uc911\uc9c0\ud558\ucca0"),C.dc(),C.dc(),C.bc()),2&t){const t=C.oc(3);C.Jb(1),C.wc("ngIf",t.isBtnFold),C.Jb(1),C.wc("ngIf",!t.isBtnFold)}}function Pe(t,e){1&t&&(C.cc(0),C.Zb(1,"img",47),C.pc(2,"imageAutoRatio"),C.ec(3,"ul",4),C.ec(4,"li"),C.Uc(5,"\uae30\uc5c5\ub3c4\uc2dc"),C.dc(),C.ec(6,"li"),C.Uc(7,"\ud601\uc2e0\ub3c4\uc2dc"),C.dc(),C.ec(8,"li"),C.Uc(9,"\uad6d\uac00\uc0b0\uc5c5\ub2e8\uc9c0"),C.dc(),C.ec(10,"li"),C.Uc(11,"\uacbd\uc81c\uc790\uc720\uad6c\uc5ed"),C.dc(),C.ec(12,"li"),C.Uc(13,"\ud601\uc2e0\ud074\ub7ec\uc2a4\ud130"),C.dc(),C.ec(14,"li"),C.Uc(15,"\ucca8\ub2e8\uc0b0\uc5c5\ub2e8\uc9c0"),C.dc(),C.ec(16,"li"),C.Uc(17,"\uc2e0\ub3c4\uc2dc"),C.dc(),C.ec(18,"li"),C.Uc(19,"\ubc31\ub450\ub300\uac04"),C.dc(),C.ec(20,"li"),C.Uc(21,"4\ub300\uac15"),C.dc(),C.ec(22,"li"),C.Uc(23,"\uc218\uc790\uc6d0\ubcf4\uc874\uad6c\uc5ed"),C.dc(),C.dc(),C.bc()),2&t&&(C.Jb(1),C.wc("src",C.qc(2,1,"home:legend-popup_cadastral5"),C.Lc))}function Me(t,e){if(1&t&&(C.ec(0,"div",32),C.ec(1,"ul",33),C.Sc(2,be,5,7,"li",34),C.dc(),C.ec(3,"div",35),C.ec(4,"div",36),C.Sc(5,me,24,3,"ng-container",37),C.Sc(6,_e,24,3,"ng-container",37),C.Sc(7,ye,24,3,"ng-container",37),C.Sc(8,Ce,24,2,"ng-container",37),C.Sc(9,Pe,24,3,"ng-container",37),C.dc(),C.dc(),C.dc()),2&t){const t=C.oc(2);C.Jb(2),C.wc("ngForOf",t.subLandTabs),C.Jb(1),C.wc("ngSwitch",t.currentSubTab),C.Jb(1),C.Qb("fold",t.isBtnFold),C.Jb(1),C.wc("ngSwitchCase",t.legendPopupLandType.LegnedPopupLandType1),C.Jb(1),C.wc("ngSwitchCase",t.legendPopupLandType.LegnedPopupLandType2),C.Jb(1),C.wc("ngSwitchCase",t.legendPopupLandType.LegnedPopupLandType3),C.Jb(1),C.wc("ngSwitchCase",t.legendPopupLandType.LegnedPopupLandType4),C.Jb(1),C.wc("ngSwitchCase",t.legendPopupLandType.LegnedPopupLandType5)}}function xe(t,e){if(1&t){const t=C.fc();C.ec(0,"li",38),C.ec(1,"a",39),C.lc("click",function(){C.Jc(t);const n=e.$implicit;return C.oc(3).onClickSubTab(n)}),C.Uc(2),C.pc(3,"translate"),C.pc(4,"uppercase"),C.dc(),C.dc()}if(2&t){const t=e.$implicit,n=C.oc(3);C.Jb(1),C.Qb("active",n.currentSubTab===t),C.Jb(1),C.Vc(C.qc(3,3,C.qc(4,5,"LEGEND.BIKE."+t)))}}function we(t,e){1&t&&(C.cc(0),C.Zb(1,"img",49),C.pc(2,"imageAutoRatio"),C.ec(3,"ul",4),C.ec(4,"li"),C.Uc(5,"\uc790\uc804\uac70 \uc804\uc6a9\ub3c4\ub85c"),C.dc(),C.ec(6,"li"),C.Uc(7,"\uc9c4\uc785\ubc29\uc9c0\ub300"),C.dc(),C.ec(8,"li"),C.Uc(9,"\uacf5\uc0ac\uc911\ud45c\uc2dc"),C.dc(),C.ec(10,"li"),C.Uc(11,"\ubcf4\ud589\uc790 \uacb8\uc6a9\ub3c4\ub85c"),C.dc(),C.ec(12,"li"),C.Uc(13,"\ubc29\uc9c0\ud131"),C.dc(),C.ec(14,"li"),C.Uc(15,"\ud1b5\ud589\ubd88\uac00 \ub3c4\ub85c"),C.dc(),C.dc(),C.bc()),2&t&&(C.Jb(1),C.wc("src",C.qc(2,1,"home:legend-popup_bike1"),C.Lc))}function ke(t,e){1&t&&(C.cc(0),C.Zb(1,"img",50),C.pc(2,"imageAutoRatio"),C.ec(3,"ul",4),C.ec(4,"li"),C.Uc(5,"\uacc4\ub2e8"),C.dc(),C.ec(6,"li"),C.Uc(7,"\ud1a0\ub07c\uad74\xb7\uc9c0\ud558\ub3c4"),C.dc(),C.ec(8,"li"),C.Uc(9,"\uc778\ub3c4"),C.dc(),C.ec(10,"li"),C.Uc(11,"\uad50\ub7c9"),C.dc(),C.ec(12,"li"),C.Uc(13,"\uacbd\uc0ac\ub85c\uc721\uad50"),C.dc(),C.ec(14,"li"),C.Uc(15,"\uc5d8\ub9ac\ubca0\uc774\ud130"),C.dc(),C.ec(16,"li"),C.Uc(17,"\ucc28\ub3c4"),C.dc(),C.ec(18,"li"),C.Uc(19,"\ub300\ud45c\uc9c4\uc785\ub85c"),C.dc(),C.dc(),C.bc()),2&t&&(C.Jb(1),C.wc("src",C.qc(2,1,"home:legend-popup_bike2"),C.Lc))}function Se(t,e){1&t&&(C.cc(0),C.Zb(1,"img",51),C.pc(2,"imageAutoRatio"),C.ec(3,"ul",4),C.ec(4,"li"),C.Uc(5,"\ud654\uc7a5\uc2e4"),C.dc(),C.ec(6,"li"),C.Uc(7,"\uc790\uc804\uac70 \ub300\uc5ec"),C.dc(),C.ec(8,"li"),C.Uc(9,"\uae09\uc218 \uc0e4\uc6cc"),C.dc(),C.ec(10,"li"),C.Uc(11,"\uacf5\uae30\uc8fc\uc785"),C.dc(),C.ec(12,"li"),C.Uc(13,"\ud310\ub9e4 \uc218\ub9ac\uc810"),C.dc(),C.ec(14,"li"),C.Uc(15,"\ub9e4\uc810"),C.dc(),C.ec(16,"li"),C.Uc(17,"\uc790\uc804\uac70 \ubcf4\uad00"),C.dc(),C.ec(18,"li"),C.Uc(19,"\ud734\uc9c0\ud1b5"),C.dc(),C.ec(20,"li"),C.Uc(21,"\uc27c\ud130\xb7\ubca4\uce58\xb7\ud3b8\uc0c1"),C.dc(),C.dc(),C.bc()),2&t&&(C.Jb(1),C.wc("src",C.qc(2,1,"home:legend-popup_bike3"),C.Lc))}function Ee(t,e){if(1&t&&(C.ec(0,"div",48),C.ec(1,"ul",33),C.Sc(2,xe,5,7,"li",34),C.dc(),C.ec(3,"div",35),C.ec(4,"div",36),C.Sc(5,we,16,3,"ng-container",37),C.Sc(6,ke,20,3,"ng-container",37),C.Sc(7,Se,22,3,"ng-container",37),C.dc(),C.dc(),C.dc()),2&t){const t=C.oc(2);C.Jb(2),C.wc("ngForOf",t.subBikeTabs),C.Jb(1),C.wc("ngSwitch",t.currentSubTab),C.Jb(1),C.Qb("fold",t.isBtnFold),C.Jb(1),C.wc("ngSwitchCase",t.legendPopupBikeType.LegnedPopupBikeType1),C.Jb(1),C.wc("ngSwitchCase",t.legendPopupBikeType.LegnedPopupBikeType2),C.Jb(1),C.wc("ngSwitchCase",t.legendPopupBikeType.LegnedPopupBikeType3)}}function Ie(t,e){if(1&t){const t=C.fc();C.ec(0,"li",38),C.ec(1,"a",39),C.lc("click",function(){C.Jc(t);const n=e.$implicit;return C.oc(3).onClickSubTab(n)}),C.Uc(2),C.pc(3,"translate"),C.pc(4,"uppercase"),C.dc(),C.dc()}if(2&t){const t=e.$implicit,n=C.oc(3);C.Jb(1),C.Qb("active",n.currentSubTab===t),C.Jb(1),C.Vc(C.qc(3,3,C.qc(4,5,"LEGEND.MOUNTAIN."+t)))}}function Re(t,e){1&t&&(C.cc(0),C.Zb(1,"img",53),C.pc(2,"imageAutoRatio"),C.ec(3,"ul",4),C.ec(4,"li"),C.Uc(5,"\ucd9c\ubc1c\uc810"),C.dc(),C.ec(6,"li"),C.Uc(7,"\uc8fc\uc694\ub4f1\uc0b0\ub85c"),C.dc(),C.ec(8,"li"),C.Uc(9,"\ubcf4\uc870\ub4f1\uc0b0\ub85c"),C.dc(),C.ec(10,"li"),C.Uc(11,"\uac70\ub9ac\xb7\uc18c\uc694\uc2dc\uac04"),C.dc(),C.ec(12,"li"),C.Uc(13,"\uae30\uc810/\ubd84\uae30\uc810"),C.dc(),C.ec(14,"li"),C.Uc(15,"\ube44\ubc94\uc815\ud0d0\ubc29\ub85c"),C.dc(),C.ec(16,"li"),C.Uc(17,"\uc0b0\ubd88\ubc29\uc9c0\ud0d0\ubc29\ub85c \ud1b5\uc81c\uad6c\uac04"),C.dc(),C.dc(),C.bc()),2&t&&(C.Jb(1),C.wc("src",C.qc(2,1,"home:legend-popup_mountain1"),C.Lc))}function Te(t,e){1&t&&(C.cc(0),C.Zb(1,"img",54),C.pc(2,"imageAutoRatio"),C.ec(3,"ul",4),C.ec(4,"li"),C.Uc(5,"\ud654\uc7a5\uc2e4"),C.dc(),C.ec(6,"li"),C.Uc(7,"\uac10\uc2dc\ucd08\uc18c"),C.dc(),C.ec(8,"li"),C.Uc(9,"\uc0b0\uc7a5"),C.dc(),C.ec(10,"li"),C.Uc(11,"\uc704\ud5d8\uad6c\uac04"),C.dc(),C.ec(12,"li"),C.Uc(13,"\uc27c\ud130"),C.dc(),C.ec(14,"li"),C.Uc(15,"\uacc4\ub2e8"),C.dc(),C.ec(16,"li"),C.Uc(17,"\uc815\uc790"),C.dc(),C.ec(18,"li"),C.Uc(19,"\ud45c\uc9c0\ud310"),C.dc(),C.ec(20,"li"),C.Uc(21,"\ub300\ud53c\uc18c"),C.dc(),C.ec(22,"li"),C.Uc(23,"\uc548\ub0b4\uc18c"),C.dc(),C.ec(24,"li"),C.Uc(25,"\ub9e4\ud45c\uc18c"),C.dc(),C.ec(26,"li"),C.Uc(27,"\ud734\uac8c\uc18c"),C.dc(),C.ec(28,"li"),C.Uc(29,"\uc0d8\uc57d\uc218"),C.dc(),C.ec(30,"li"),C.Uc(31,"\ucca0\ud0d1"),C.dc(),C.ec(32,"li"),C.Uc(33,"\ud45c\uace0"),C.dc(),C.ec(34,"li"),C.Uc(35,"\uccb4\ub825\ub2e8\ub828\uc7a5"),C.dc(),C.dc(),C.bc()),2&t&&(C.Jb(1),C.wc("src",C.qc(2,1,"home:legend-popup_mountain2"),C.Lc))}function Ae(t,e){if(1&t&&(C.ec(0,"div",52),C.ec(1,"ul",33),C.Sc(2,Ie,5,7,"li",34),C.dc(),C.ec(3,"div",35),C.ec(4,"div",36),C.Sc(5,Re,18,3,"ng-container",37),C.Sc(6,Te,36,3,"ng-container",37),C.dc(),C.dc(),C.dc()),2&t){const t=C.oc(2);C.Jb(2),C.wc("ngForOf",t.subMountainTabs),C.Jb(1),C.wc("ngSwitch",t.currentSubTab),C.Jb(1),C.Qb("fold",t.isBtnFold),C.Jb(1),C.wc("ngSwitchCase",t.legendPopupMountainType.LegnedPopupMountainType1),C.Jb(1),C.wc("ngSwitchCase",t.legendPopupMountainType.LegnedPopupMountainType2)}}function Le(t,e){if(1&t&&(C.ec(0,"div",55),C.ec(1,"div",56),C.ec(2,"div",36),C.Zb(3,"img",57),C.pc(4,"imageAutoRatio"),C.ec(5,"ul",4),C.ec(6,"li"),C.Uc(7,"\uc88b\uc74c 30\u338d/m\xb3\uc774\ud558"),C.dc(),C.ec(8,"li"),C.Uc(9,"\ubcf4\ud1b5 31~80\u338d/m\xb3\uc774\ud558"),C.dc(),C.ec(10,"li"),C.Uc(11,"\ub098\uc068 81~150\u338d/m\xb3\uc774\ud558"),C.dc(),C.ec(12,"li"),C.Uc(13,"\ub9e4\uc6b0\ub098\uc068 151\u338d/m\xb3\uc774\uc0c1"),C.dc(),C.dc(),C.ec(14,"ul",4),C.ec(15,"li"),C.Uc(16,"\uc88b\uc74c 15\u338d/m\xb3\uc774\ud558"),C.dc(),C.ec(17,"li"),C.Uc(18,"\ubcf4\ud1b5 16~35\u338d/m\xb3\uc774\ud558"),C.dc(),C.ec(19,"li"),C.Uc(20,"\ub098\uc068 36~75\u338d/m\xb3\uc774\ud558"),C.dc(),C.ec(21,"li"),C.Uc(22,"\ub9e4\uc6b0\ub098\uc068 76\u338d/m\xb3\uc774\uc0c1"),C.dc(),C.dc(),C.ec(23,"ul",4),C.ec(24,"li"),C.Uc(25,"\uc88b\uc74c 0.030ppm\uc774\ud558"),C.dc(),C.ec(26,"li"),C.Uc(27,"\ubcf4\ud1b5 0.031~0.090ppm\uc774\ud558"),C.dc(),C.ec(28,"li"),C.Uc(29,"\ub098\uc068 0.091~0.150ppm\uc774\ud558"),C.dc(),C.ec(30,"li"),C.Uc(31,"\ub9e4\uc6b0\ub098\uc068 0.151ppm\uc774\uc0c1"),C.dc(),C.dc(),C.ec(32,"ul",4),C.ec(33,"li"),C.Uc(34,"\uc88b\uc74c 2\uc774\ud558"),C.dc(),C.ec(35,"li"),C.Uc(36,"\ubcf4\ud1b5 3~5\uc774\ud558"),C.dc(),C.ec(37,"li"),C.Uc(38,"\ub192\uc74c 6~7\uc774\ud558"),C.dc(),C.ec(39,"li"),C.Uc(40,"\ub9e4\uc6b0\ub192\uc74c 8~10\uc774\ud558"),C.dc(),C.ec(41,"li"),C.Uc(42,"\uc704\ud5d8 11\uc774\uc0c1"),C.dc(),C.dc(),C.dc(),C.ec(43,"div",58),C.ec(44,"dl",59),C.ec(45,"dt",26),C.Uc(46),C.pc(47,"translate"),C.dc(),C.ec(48,"dd",60),C.ec(49,"a",61),C.Uc(50),C.pc(51,"translate"),C.dc(),C.ec(52,"a",62),C.Uc(53),C.pc(54,"translate"),C.dc(),C.dc(),C.dc(),C.dc(),C.dc(),C.dc()),2&t){const t=C.oc(2);C.Jb(2),C.Qb("fold",t.isBtnFold),C.Jb(1),C.wc("src",C.qc(4,6,"home:legend-popup_weather"),C.Lc),C.Jb(43),C.Vc(C.qc(47,8,"LEGEND.WEATHER.OFFER")),C.Jb(4),C.Vc(C.qc(51,10,"LEGEND.WEATHER.KECO")),C.Jb(3),C.Vc(C.qc(54,12,"LEGEND.WEATHER.AIR_KOREA"))}}function je(t,e){1&t&&(C.ec(0,"div",63),C.ec(1,"div",56),C.ec(2,"p",64),C.Uc(3),C.pc(4,"translate"),C.dc(),C.ec(5,"ul",65),C.ec(6,"li",66),C.ec(7,"span",67),C.Uc(8),C.pc(9,"translate"),C.dc(),C.dc(),C.ec(10,"li",68),C.ec(11,"span",69),C.Uc(12),C.pc(13,"translate"),C.dc(),C.dc(),C.ec(14,"li",70),C.ec(15,"span",71),C.Uc(16),C.pc(17,"translate"),C.dc(),C.ec(18,"div",24),C.ec(19,"strong",72),C.Uc(20),C.pc(21,"translate"),C.dc(),C.ec(22,"div",73),C.ec(23,"span",25),C.Uc(24),C.pc(25,"translate"),C.dc(),C.ec(26,"span",25),C.Uc(27),C.pc(28,"translate"),C.pc(29,"translate"),C.dc(),C.dc(),C.dc(),C.dc(),C.dc(),C.dc(),C.dc()),2&t&&(C.Jb(3),C.Wc(" ",C.qc(4,8,"LEGEND.PANORAMA.HELP")," "),C.Jb(5),C.Vc(C.qc(9,10,"LEGEND.PANORAMA.ROAD")),C.Jb(4),C.Vc(C.qc(13,12,"LEGEND.PANORAMA.SKY")),C.Jb(4),C.Vc(C.qc(17,14,"LEGEND.PANORAMA.SEA")),C.Jb(4),C.Vc(C.qc(21,16,"LEGEND.PANORAMA.TOOLTIP")),C.Jb(4),C.Vc(C.qc(25,18,"LEGEND.PANORAMA.EXAMPLE")),C.Jb(3),C.Xc("",C.qc(28,20,"LEGEND.PANORAMA.EXAMPLE_TEXT1")," , ",C.qc(29,22,"LEGEND.PANORAMA.EXAMPLE_TEXT2"),""))}function De(t,e){1&t&&(C.cc(0),C.Uc(1),C.pc(2,"translate"),C.bc()),2&t&&(C.Jb(1),C.Vc(C.qc(2,1,"COMMON.MORE")))}function Fe(t,e){1&t&&(C.cc(0),C.Uc(1),C.pc(2,"translate"),C.bc()),2&t&&(C.Jb(1),C.Vc(C.qc(2,1,"COMMON.SHRINK")))}function Ne(t,e){if(1&t){const t=C.fc();C.ec(0,"button",74),C.lc("click",function(e){return C.Jc(t),C.oc(2).toggleFold(e)}),C.Sc(1,De,3,3,"ng-container",75),C.Sc(2,Fe,3,3,"ng-container",75),C.dc()}if(2&t){const t=C.oc(2);C.Qb("fold",t.isBtnFold),C.Jb(1),C.wc("ngIf",t.isBtnFold),C.Jb(1),C.wc("ngIf",!t.isBtnFold)}}function Be(t,e){if(1&t){const t=C.fc();C.ec(0,"div",3),C.ec(1,"strong",4),C.Uc(2),C.pc(3,"translate"),C.dc(),C.ec(4,"div",5),C.ec(5,"button",6),C.lc("click",function(e){return C.Jc(t),C.oc().toggleMinimisePopup(e)}),C.Uc(6),C.pc(7,"translate"),C.dc(),C.dc(),C.cc(8,7),C.Sc(9,fe,96,141,"div",8),C.Sc(10,Me,10,9,"div",9),C.Sc(11,Ee,8,7,"div",10),C.Sc(12,Ae,7,6,"div",11),C.Sc(13,Le,55,14,"div",12),C.Sc(14,je,30,24,"div",13),C.bc(),C.Sc(15,Ne,3,4,"button",14),C.dc()}if(2&t){const t=C.oc();C.Jb(2),C.Vc(C.qc(3,10,"LEGEND.TITLE")),C.Jb(4),C.Vc(C.qc(7,12,"COMMON.MINIMISE")),C.Jb(2),C.wc("ngSwitch",t.currentTab),C.Jb(1),C.wc("ngSwitchCase",t.mapLayer.Traffic),C.Jb(1),C.wc("ngSwitchCase",t.mapLayer.LandParcel),C.Jb(1),C.wc("ngSwitchCase",t.mapLayer.Bike),C.Jb(1),C.wc("ngSwitchCase",t.mapLayer.Mountain),C.Jb(1),C.wc("ngSwitchCase",t.mapLayer.Weather),C.Jb(1),C.wc("ngSwitchCase",t.mapLayer.Panorama),C.Jb(1),C.wc("ngIf",t.currentTab!==t.mapLayer.Traffic&&t.currentTab!==t.mapLayer.Panorama)}}let Ue=(()=>{class t{constructor(t,e,n,i,o,r,a,s){this.cartoManager=t,this.legendPopup=e,this.commonRoutes=n,this.accident=i,this.localStorage=o,this.nClickService=r,this.utils=a,this.mapsService=s,this.mapLayer=ce.f,this.TRAFFIC_LEGEND_NORMAL=Q.jd,this.legendPopupLandType=St.e,this.legendPopupBikeType=St.c,this.legendPopupMountainType=St.f,this.isBtnFold=!0,this.isMinimise=!1,this.currentDate=Date.now(),this.isTrafficLoading=!1,this.subLandTabs=[St.e.LegnedPopupLandType1,St.e.LegnedPopupLandType2,St.e.LegnedPopupLandType3,St.e.LegnedPopupLandType4,St.e.LegnedPopupLandType5],this.subBikeTabs=[St.c.LegnedPopupBikeType1,St.c.LegnedPopupBikeType2,St.c.LegnedPopupBikeType3],this.subMountainTabs=[St.f.LegnedPopupMountainType1,St.f.LegnedPopupMountainType2],this.subs=[]}get isAccident(){return this.accident.active}ngOnInit(){this.onClickTab(this.legendPopup.getActivatedLastLayer()),this.subs.push(this.legendPopup.events.pipe(Object(y.a)(t=>t.type===St.d.Show)).subscribe(t=>{this.onClickTab(t.layer)}))}ngOnDestroy(){this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[]}onClickTab(t){if(this.currentTab!==t)switch(this.currentTab=t,this.currentTab){case ce.f.LandParcel:this.currentSubTab=this.subLandTabs[0];break;case ce.f.Bike:this.currentSubTab=this.subBikeTabs[0];break;case ce.f.Mountain:this.currentSubTab=this.subMountainTabs[0];break;default:this.currentSubTab=null}}onClickSubTab(t){this.currentSubTab!==t&&(this.currentSubTab=t)}toggleFold(t){this.isBtnFold=!this.isBtnFold,this.foldLog(t)}toggleMinimisePopup(t){if(this.isMinimise=!this.isMinimise,this.isMinimise)return this.legendPopup.minimise(),void this.minimiseLog(t);this.legendPopup.restore(),this.minimiseLog(t)}toggleAccident(t){if(this.isAccident)return this.accident.deactivate(),void this.nClickService.nClick(t,rt.a.ALL_TFLEGEND_ACCIDENTOFF);this.accident.activate(),this.nClickService.nClick(t,rt.a.ALL_TFLEGEND_ACCIDENTON)}refreshTraffic(t){this.currentDate=Date.now(),this.isTrafficLoading=!0,this.utils.nextTick(()=>this.isTrafficLoading=!1,500),this.nClickService.nClick(t,rt.a.ALL_TFLEGEND_REFRESH),this.mapsService.refreshTraffic(),this.accident.updateAccidentInfo()}isDeactivatedAllLayer(){return 0===this.commonRoutes.getRouterParams().coordinates.mapLayers.filter(t=>Q.Db.includes(t)).length}foldLog(t){let e=null;switch(this.currentTab){case ce.f.LandParcel:e=this.isBtnFold?rt.a.ALL_CADALEGEND_FOLD:rt.a.ALL_CADALEGEND_MORE;break;case ce.f.Bike:e=this.isBtnFold?rt.a.ALL_BIKLEGEND_FOLD:rt.a.ALL_BIKLEGEND_MORE;break;case ce.f.Mountain:e=this.isBtnFold?rt.a.ALL_TRALEGEND_MORE:rt.a.ALL_TRALEGEND_FOLD;break;case ce.f.Weather:e=this.isBtnFold?rt.a.ALL_WEALEGEND_FOLD:rt.a.ALL_WEALEGEND_MORE}e&&this.nClickService.nClick(t,e)}minimiseLog(t){let e=null;if(this.isMinimise)switch(this.currentTab){case ce.f.LandParcel:e=rt.a.ALL_CADALEGEND_MINI;break;case ce.f.Bike:e=rt.a.ALL_BIKLEGEND_MINI;break;case ce.f.Mountain:e=rt.a.ALL_TRALEGEND_MINI;break;case ce.f.Weather:e=rt.a.ALL_WEALEGEND_MINI;break;case ce.f.Traffic:e=rt.a.ALL_TFLEGEND_MINI;break;case ce.f.Panorama:e=rt.a.ALL_PANOLEGEND_MINI}else e=rt.a.ALL_LEGENDMIN_OPEN;e&&this.nClickService.nClick(t,e)}}return t.\u0275fac=function(e){return new(e||t)(C.Yb(se.a),C.Yb(St.g),C.Yb(R.e),C.Yb(Et.a),C.Yb($.a),C.Yb(ht.a),C.Yb(I.a),C.Yb(D.a))},t.\u0275cmp=C.Sb({type:t,selectors:[["legend-popup"]],decls:2,vars:2,consts:[["class","btn_legend","type","button",3,"click",4,"ngIf"],["class","legend_area",4,"ngIf"],["type","button",1,"btn_legend",3,"click"],[1,"legend_area"],[1,"blind"],[1,"btn_area"],[1,"btn_minimize",3,"click"],[3,"ngSwitch"],["role","tabpanel","class","panel_area traffic",4,"ngSwitchCase"],["role","tabpanel","class","panel_area land",4,"ngSwitchCase"],["role","tabpanel","class","panel_area bike",4,"ngSwitchCase"],["role","tabpanel","class","panel_area mountain",4,"ngSwitchCase"],["role","tabpanel","class","panel_area weather",4,"ngSwitchCase"],["role","tabpanel","class","panel_area panorama",4,"ngSwitchCase"],["type","button","class","btn_more",3,"fold","click",4,"ngIf"],["role","tabpanel",1,"panel_area","traffic"],[1,"title_box"],[1,"title"],[1,"btn_box"],[1,"time"],["type","button",1,"btn_refresh",3,"click"],[1,"subpanel_box"],[1,"list_graph"],[1,"item_graph","graph1"],[1,"tooltip_box"],[1,"tooltip_text"],[1,"term"],[1,"description",3,"innerHTML"],[1,"item_graph","graph2"],[1,"item_graph","graph3"],["type","button",1,"btn","btn_accident",3,"click"],[1,"caution_box"],["role","tabpanel",1,"panel_area","land"],["role","tablist",1,"list_tab_sub"],["class","item_tab",4,"ngFor","ngForOf"],["role","tabpanel",1,"subpanel_box",3,"ngSwitch"],[1,"img_box"],[4,"ngSwitchCase"],[1,"item_tab"],["role","tab","href","","preventDefault","",1,"link_tab",3,"click"],["width","310","height","126","alt","\uc9c0\ubc88\xb7\uacbd\uacc4",3,"src"],["width","310","height","126","alt","\uac1c\ubc1c",3,"src"],["width","310","height","126","alt","\uc6a9\ub3c4",3,"src"],["width","310","height","60","alt","\ub3c4\ub85c\xb7\ucca0\ub3c4",3,"src",4,"ngIf"],["width","310","height","126","alt","\ub3c4\ub85c\xb7\ucca0\ub3c4",3,"src",4,"ngIf"],["width","310","height","60","alt","\ub3c4\ub85c\xb7\ucca0\ub3c4",3,"src"],["width","310","height","126","alt","\ub3c4\ub85c\xb7\ucca0\ub3c4",3,"src"],["width","310","height","126","alt","\uad6d\ud1a0\uacc4\ud68d",3,"src"],["role","tabpanel",1,"panel_area","bike"],["width","310","height","126","alt","\ub3c4\ub85c\uc548\ub0b4",3,"src"],["width","310","height","126","alt","\uc9c4\uc785\ub85c",3,"src"],["width","310","height","126","alt","\ud3b8\uc758\uc2dc\uc124",3,"src"],["role","tabpanel",1,"panel_area","mountain"],["width","310","height","148","alt","\ub4f1\uc0b0\ub85c",3,"src"],["width","310","height","148","alt","\uc9c4\uc785\ub85c",3,"src"],["role","tabpanel",1,"panel_area","weather"],["role","tabpanel",1,"subpanel_box"],["width","310","height","169","alt","\ubbf8\uc138\uba3c\uc9c0",3,"src"],[1,"extra_box"],[1,"text"],[1,"description"],["href","https://www.keco.or.kr","target","_blank",1,"link_text"],["href","http://www.airkorea.or.kr","target","_blank",1,"link_text"],["role","tabpanel",1,"panel_area","panorama"],[1,"text_box"],[1,"list_panorama"],[1,"item_panorama"],[1,"icon","icon_road"],[1,"item_panorama","sky"],[1,"icon","icon_sky"],[1,"item_panorama","sea"],[1,"icon","icon_sea"],[1,"tooltip_title"],[1,"tooltip_text_box"],["type","button",1,"btn_more",3,"click"],[4,"ngIf"]],template:function(t,e){1&t&&(C.Sc(0,he,3,3,"button",0),C.Sc(1,Be,16,14,"div",1)),2&t&&(C.wc("ngIf",e.isMinimise),C.Jb(1),C.wc("ngIf",!e.isMinimise))},directives:[i.o,i.q,i.r,i.n,le.a],pipes:[z.c,ue.a,i.x,pe.a],styles:['[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .btn_more[_ngcontent-%COMP%]:after, [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%] > .btn_box[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]:after, [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%] > .btn_box[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:after, [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%] > .btn_box[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:after{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/common.png);background-size:256px 225px}.retina   [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .btn_more[_ngcontent-%COMP%]:after, .retina   [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%] > .btn_box[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]:after, .retina   [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%] > .btn_box[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:after, .retina   [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%] > .btn_box[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:after{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/common@2x.png)}[_nghost-%COMP%]   .btn_legend[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_minimize[_ngcontent-%COMP%], [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.panorama[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_panorama[_ngcontent-%COMP%]   .item_panorama[_ngcontent-%COMP%]   .icon_road[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.panorama[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_panorama[_ngcontent-%COMP%]   .item_panorama[_ngcontent-%COMP%]   .icon_sea[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.panorama[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_panorama[_ngcontent-%COMP%]   .item_panorama[_ngcontent-%COMP%]   .icon_sky[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%] > .btn_box[_ngcontent-%COMP%]   .btn.btn_accident[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .title_box[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_refresh[_ngcontent-%COMP%]{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/home.png);background-size:508px 492px}.retina   [_nghost-%COMP%]   .btn_legend[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_minimize[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.panorama[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_panorama[_ngcontent-%COMP%]   .item_panorama[_ngcontent-%COMP%]   .icon_road[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.panorama[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_panorama[_ngcontent-%COMP%]   .item_panorama[_ngcontent-%COMP%]   .icon_sea[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.panorama[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_panorama[_ngcontent-%COMP%]   .item_panorama[_ngcontent-%COMP%]   .icon_sky[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%] > .btn_box[_ngcontent-%COMP%]   .btn.btn_accident[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .title_box[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_refresh[_ngcontent-%COMP%]{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/home@2x.png)}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.panorama[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_panorama[_ngcontent-%COMP%]   .tooltip_box[_ngcontent-%COMP%]:after, [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .tooltip_box[_ngcontent-%COMP%]:after{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/popup.png);background-size:201px 160px}.retina   [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.panorama[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_panorama[_ngcontent-%COMP%]   .tooltip_box[_ngcontent-%COMP%]:after, .retina   [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .tooltip_box[_ngcontent-%COMP%]:after{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/popup@2x.png)}[_nghost-%COMP%]{position:absolute;right:61px;bottom:30px;z-index:100}[_nghost-%COMP%]   .btn_legend[_ngcontent-%COMP%]{width:81px;height:30px;border:1px solid rgba(0,0,0,.2);border-radius:2px;background-color:#fff;font-size:12px;color:#333;letter-spacing:-.3px;box-shadow:0 1px 3px 0 rgba(0,0,0,.1);background-clip:padding-box}[_nghost-%COMP%]   .btn_legend[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:14px;height:14px;font-size:0;color:transparent;vertical-align:top;background-position:-452px -194px;margin-right:4px;content:""}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:310px;border-radius:4px;box-shadow:0 1px 3px 0 rgba(0,0,0,.1);background-clip:padding-box;background-color:#fff;border:1px solid rgba(0,0,0,.2)}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .btn_area[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_minimize[_ngcontent-%COMP%]{overflow:hidden;display:inline-block;width:20px;height:20px;font-size:0;color:transparent;vertical-align:top;background-position:-428px -398px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .btn_more[_ngcontent-%COMP%]{position:absolute;right:8px;bottom:8px;padding:4px 6px;font-size:10px;line-height:12px;color:#777}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .btn_more[_ngcontent-%COMP%]:after{overflow:hidden;display:inline-block;width:7px;height:5px;font-size:0;color:transparent;vertical-align:top;background-position:-240px -220px;margin-left:5px;vertical-align:2px;content:""}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .btn_more.fold[_ngcontent-%COMP%]:after{transform:rotate(180deg)}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .img_box[_ngcontent-%COMP%]{margin-top:-2px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .img_box.fold[_ngcontent-%COMP%]{overflow:hidden;height:50px;margin-bottom:8px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]{padding:14px 12px 10px 16px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .title_box[_ngcontent-%COMP%]{font-size:12px;line-height:15px;letter-spacing:-.4px;color:#333}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .title_box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-right:5px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .title_box[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .title_box[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:11px;line-height:15px;color:#888;letter-spacing:-.5px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .title_box[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_refresh[_ngcontent-%COMP%]{overflow:hidden;display:inline-block;width:14px;height:15px;font-size:0;color:transparent;vertical-align:top;background-position:-494px -223px;margin-left:3px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .title_box[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_refresh.loading[_ngcontent-%COMP%]{-webkit-animation:loading .5s linear infinite;animation:loading .5s linear infinite}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]{margin-top:6px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]:after{display:block;clear:both;content:""}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]{float:left;margin-top:6px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .item_graph[_ngcontent-%COMP%]{display:inline-block;position:relative;padding-top:2px;min-width:50px;font-size:11px;line-height:13px;letter-spacing:-.4px;vertical-align:top;cursor:pointer}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .item_graph.graph1[_ngcontent-%COMP%]{border-top:2px solid #0bbe39}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .item_graph.graph1[_ngcontent-%COMP%]:hover{color:#0bbe39}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .item_graph.graph2[_ngcontent-%COMP%]{border-top:2px solid #ffc700;text-align:center}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .item_graph.graph2[_ngcontent-%COMP%]:hover{color:#ffc700}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .item_graph.graph3[_ngcontent-%COMP%]{border-top:2px solid #de2121;text-align:right}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .item_graph.graph3[_ngcontent-%COMP%]:hover{color:#de2121}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .item_graph[_ngcontent-%COMP%] + .item_graph[_ngcontent-%COMP%]{margin-left:2px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .item_graph[_ngcontent-%COMP%]:hover   .tooltip_box[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .tooltip_box[_ngcontent-%COMP%]{display:none;position:absolute;bottom:100%;left:50%;margin-bottom:12px;padding:9px 12px;box-shadow:0 0 2px 0 rgba(0,0,0,.2),0 1px 2px 0 rgba(0,0,0,.1);border-radius:2px;background-color:#fff;font-size:11px;line-height:15px;text-align:left;transform:translateX(-50%)}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .tooltip_box[_ngcontent-%COMP%]:after{position:absolute;bottom:-10px;left:0;right:0;margin:0 auto;overflow:hidden;display:inline-block;width:10px;height:11px;font-size:0;color:transparent;vertical-align:top;background-position:-134px -79px;content:""}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .tooltip_box[_ngcontent-%COMP%]   .tooltip_text[_ngcontent-%COMP%]{display:-ms-grid;display:grid;-ms-grid-columns:75px auto;grid-template-columns:72px auto}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .tooltip_box[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]:first-of-type, [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .tooltip_box[_ngcontent-%COMP%]   .term[_ngcontent-%COMP%]:first-of-type{-ms-grid-row:1}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .tooltip_box[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]:nth-of-type(2), [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .tooltip_box[_ngcontent-%COMP%]   .term[_ngcontent-%COMP%]:nth-of-type(2){-ms-grid-row:2}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .tooltip_box[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]:nth-of-type(3), [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .tooltip_box[_ngcontent-%COMP%]   .term[_ngcontent-%COMP%]:nth-of-type(3){-ms-grid-row:3}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .tooltip_box[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]:nth-of-type(4), [_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .tooltip_box[_ngcontent-%COMP%]   .term[_ngcontent-%COMP%]:nth-of-type(4){-ms-grid-row:4}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .tooltip_box[_ngcontent-%COMP%]   .term[_ngcontent-%COMP%]{-ms-grid-column:1;color:#555;letter-spacing:-.5px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .tooltip_box[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{-ms-grid-column:2;color:#333;white-space:nowrap}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_graph[_ngcontent-%COMP%]   .tooltip_box[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]     span{font-weight:600}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%] > .btn_box[_ngcontent-%COMP%]{overflow:hidden;margin-left:21px;text-align:right}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%] > .btn_box[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:3px 7px 5px;font-size:14px;line-height:20px;letter-spacing:-.6px;color:#333}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%] > .btn_box[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:5px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%] > .btn_box[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;border-radius:6px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%] > .btn_box[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:after{overflow:hidden;display:inline-block;width:16px;height:16px;font-size:0;color:transparent;vertical-align:top;background-position:-240px -100px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%] > .btn_box[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:before{margin-right:5px;content:""}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%] > .btn_box[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]{color:#0475f4}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%] > .btn_box[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]:after{overflow:hidden;display:inline-block;width:16px;height:16px;font-size:0;color:transparent;vertical-align:top;background-position:-240px -82px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%] > .btn_box[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:after{overflow:hidden;display:inline-block;width:16px;height:16px;font-size:0;color:transparent;vertical-align:top;background-position:-240px -118px;margin:2px 0 0 5px;content:""}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%] > .btn_box[_ngcontent-%COMP%]   .btn.btn_accident[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:20px;height:20px;font-size:0;color:transparent;vertical-align:top;background-position:-120px -84px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.traffic[_ngcontent-%COMP%]   .caution_box[_ngcontent-%COMP%]{font-size:10px;line-height:12px;letter-spacing:-.3px;color:#888}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.weather[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]{padding-top:10px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.weather[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .img_box.fold[_ngcontent-%COMP%]{height:41px;margin-bottom:0}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.weather[_ngcontent-%COMP%]   .extra_box[_ngcontent-%COMP%]{padding:9px 16px 12px;font-size:0}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.weather[_ngcontent-%COMP%]   .extra_box[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:inline-block;font-size:11px;line-height:13px;color:#767676}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.weather[_ngcontent-%COMP%]   .extra_box[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%] + .text[_ngcontent-%COMP%]{margin-top:6px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.weather[_ngcontent-%COMP%]   .extra_box[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .term[_ngcontent-%COMP%]{float:left;margin-right:4px;color:#969696}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.weather[_ngcontent-%COMP%]   .extra_box[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.weather[_ngcontent-%COMP%]   .extra_box[_ngcontent-%COMP%]   .link_text[_ngcontent-%COMP%]{color:#0068c3}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.weather[_ngcontent-%COMP%]   .extra_box[_ngcontent-%COMP%]   .link_text[_ngcontent-%COMP%] + .link_text[_ngcontent-%COMP%]{margin-left:3px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.panorama[_ngcontent-%COMP%]{padding:14px 16px 23px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.panorama[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]{display:block;margin-right:15px;font-size:11px;line-height:13px;letter-spacing:-.3px;color:#888}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.panorama[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_panorama[_ngcontent-%COMP%]{margin-top:19px;font-size:0}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.panorama[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_panorama[_ngcontent-%COMP%]   .item_panorama[_ngcontent-%COMP%]{display:inline-block;position:relative;width:33.33%;text-align:center;vertical-align:top}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.panorama[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_panorama[_ngcontent-%COMP%]   .item_panorama.sea[_ngcontent-%COMP%]:hover   .tooltip_box[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.panorama[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_panorama[_ngcontent-%COMP%]   .item_panorama[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:12px;line-height:16px;color:#333;letter-spacing:-.4px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.panorama[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_panorama[_ngcontent-%COMP%]   .item_panorama[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{margin-right:4px;content:""}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.panorama[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_panorama[_ngcontent-%COMP%]   .item_panorama[_ngcontent-%COMP%]   .icon_road[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:16px;height:16px;font-size:0;color:transparent;vertical-align:top;background-position:-450px -398px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.panorama[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_panorama[_ngcontent-%COMP%]   .item_panorama[_ngcontent-%COMP%]   .icon_sky[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:16px;height:16px;font-size:0;color:transparent;vertical-align:top;background-position:-37px -471px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.panorama[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_panorama[_ngcontent-%COMP%]   .item_panorama[_ngcontent-%COMP%]   .icon_sea[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:16px;height:16px;font-size:0;color:transparent;vertical-align:top;background-position:-19px -471px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.panorama[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_panorama[_ngcontent-%COMP%]   .tooltip_box[_ngcontent-%COMP%]{display:none;position:absolute;bottom:100%;right:-16px;width:190px;margin-bottom:12px;padding:10px 10px 15px 16px;box-shadow:0 0 2px 0 rgba(0,0,0,.2),0 1px 2px 0 rgba(0,0,0,.1);border-radius:2px;background-color:#fff;font-size:12px;color:#333;line-height:15px;box-sizing:border-box;letter-spacing:-.5px;text-align:left}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.panorama[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_panorama[_ngcontent-%COMP%]   .tooltip_box[_ngcontent-%COMP%]:after{overflow:hidden;display:inline-block;width:10px;height:11px;font-size:0;color:transparent;vertical-align:top;background-position:-134px -79px;position:absolute;bottom:-10px;right:54px;content:""}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.panorama[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_panorama[_ngcontent-%COMP%]   .tooltip_box[_ngcontent-%COMP%]   .tooltip_text_box[_ngcontent-%COMP%]{margin-top:5px;font-size:11px;line-height:13px;color:#767676}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .panel_area.panorama[_ngcontent-%COMP%]   .subpanel_box[_ngcontent-%COMP%]   .list_panorama[_ngcontent-%COMP%]   .tooltip_box[_ngcontent-%COMP%]   .tooltip_text_box[_ngcontent-%COMP%]   .tooltip_text[_ngcontent-%COMP%] + .tooltip_text[_ngcontent-%COMP%]:before{display:inline-block;width:1px;height:8px;background-color:#e2e2e2;margin:-1px 6px 1px;vertical-align:-1px;content:""}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .list_tab_sub[_ngcontent-%COMP%]{padding:12px 16px 0;font-size:0}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .list_tab_sub[_ngcontent-%COMP%]   .item_tab[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .list_tab_sub[_ngcontent-%COMP%]   .item_tab[_ngcontent-%COMP%] + .item_tab[_ngcontent-%COMP%]{margin-left:10px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .list_tab_sub[_ngcontent-%COMP%]   .item_tab[_ngcontent-%COMP%]   .link_tab[_ngcontent-%COMP%]{display:block;font-size:12px;color:#666;letter-spacing:-.4px}[_nghost-%COMP%]   .legend_area[_ngcontent-%COMP%]   .list_tab_sub[_ngcontent-%COMP%]   .item_tab[_ngcontent-%COMP%]   .link_tab.active[_ngcontent-%COMP%]{font-weight:700;color:#0475f4}']}),t})();const Ve=["TRAFFIC_POPUP.NO_INFORMATION","TRAFFIC_POPUP.GOOD","TRAFFIC_POPUP.SLOW","TRAFFIC_POPUP.DELAY","TRAFFIC_POPUP.CONGESTION"];var ze=function(t){return t.ShowPopup="ShowPopup",t}({}),We=n("eSxo"),He=n.n(We);let qe=(()=>{class t{constructor(t,e,n,i,o,r,a,s){this.api=t,this.maps=e,this.logger=n,this.uaParser=i,this.status=o,this.messageService=r,this.nClickService=a,this.translate=s,this.events=new C.q,this.subs=[],this.hasImage=!1}activate(){this.status.isTrafficMode=!0,this.subs.push(this.maps.events.click.pipe(Object(y.a)(()=>!this.status.isPanoramaMode&&!this.status.isMeasureMode)).subscribe(t=>{const e=t.features;if((null==e?void 0:e.length)>0)return;const n=t.lngLat;n&&this.onClick(t,n)}))}deactivate(){this.status.isTrafficMode=!1,this.subs.forEach(t=>{t.unsubscribe()}),this.subs=[]}loadArrowImage(){this.hasImage||this.maps.loadImage(`assets/img/popup/traffic-arrow${this.uaParser.retina?"@2x":""}.png`,(t,e)=>{this.hasImage=!0,this.maps.addImage("traffic-arrow",e)})}onClick(t,e){const n=e.lng.toString(),i=e.lat.toString(),o=this.maps.getCttVersion(),r=this.maps.getZoom().toString(),a=this.api.getNearestCttInfo({x:n,y:i,level:r,rtsVersion:o}).pipe(Object(Dt.a)(t=>(a.unsubscribe(),this.logger.log(Ft.b.Common,"TrafficService","getNearestCttInfo",t,"http error"),this.messageService.openThroughTranslation("COMMON.TEMPORARY_ERROR"),At.a))).subscribe(n=>{a.unsubscribe(),n&&(n.coordinate=e,n.geometry.coordinates=this.convertCoordinates(e,n.geometry.coordinates),n.properties.state_name=this.translate.instant(Ve[n.properties.state]),this.showPopup(n),this.nClickService.nClick(t,rt.a.ALL_TRAFFICLAYER_TFLINE))})}convertCoordinates(t,e){if(!e)return;if("number"==typeof e[0][0])return e;let n,i=0;const o=e.length,r=Object(et.point)([t.lng,t.lat]);for(let a=0;a<o;a++){const t=[...e[a]],o=Object(et.lineString)(t),s=He()(o,r);n&&s.properties.dist<n.properties.dist&&(i=a,n=s),n=s}return e[i]}showPopup(t){t&&this.events.emit({data:t,type:ze.ShowPopup})}}return t.\u0275fac=function(e){return new(e||t)(C.ic(B.a),C.ic(D.a),C.ic(st.a),C.ic(T.a),C.ic(j.e),C.ic(x.b),C.ic(ht.a),C.ic(z.d))},t.\u0275prov=C.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Ye=n("HOHK"),Je=n("F9IH");let Ge=(()=>{class t{transform(t){if(!t)return"";let e=!0,n=parseInt(t,10);n>=1e3&&(e=!1,n/=1e3);const i=e?"m":"km";return`${n.toString()}${i}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=C.Xb({name:"toTrafficDistance",type:t,pure:!0}),t})(),Xe=(()=>{class t{constructor(t){this.translate=t}transform(t){if(!t)return"";let e=!0,n=0,i=parseInt(t,10);i>=60&&(e=!1,n=Math.floor(i/60),i%=60);const o=this.translate.instant("TRAFFIC_POPUP.ABOUNT"),r=this.translate.instant("TRAFFIC_POPUP.HOUR"),a=this.translate.instant("TRAFFIC_POPUP.MINUTE");return e?`${o} ${i.toString()}${a}`:`${o} ${n.toString()}${r}${0===i?"":` ${i.toString()}${a}`}`}}return t.\u0275fac=function(e){return new(e||t)(C.Yb(z.d))},t.\u0275pipe=C.Xb({name:"toTrafficDuration",type:t,pure:!0}),t})();function Ke(t,e){if(1&t&&(C.ec(0,"div",14),C.ec(1,"span"),C.Uc(2),C.dc(),C.ec(3,"span",15),C.Uc(4),C.pc(5,"translate"),C.ec(6,"span",11),C.Uc(7),C.dc(),C.dc(),C.dc()),2&t){const t=C.oc(2);C.Jb(1),C.Nb("level level",null==t.contents?null:t.contents.properties.state,""),C.Jb(1),C.Vc(null==t.contents?null:t.contents.properties.state_name),C.Jb(2),C.Vc(C.qc(5,6,"TRAFFIC_POPUP.ABOUNT")),C.Jb(3),C.Wc("",null==t.contents?null:t.contents.properties.speed," km/h")}}function Ze(t,e){1&t&&(C.ec(0,"div",14),C.ec(1,"span",16),C.Uc(2),C.pc(3,"translate"),C.dc(),C.ec(4,"span",15),C.Uc(5),C.pc(6,"translate"),C.dc(),C.dc()),2&t&&(C.Jb(2),C.Vc(C.qc(3,2,"TRAFFIC_POPUP.UNCONFIRMED")),C.Jb(3),C.Vc(C.qc(6,4,"TRAFFIC_POPUP.UNCONFIRMED_NOTICE")))}function $e(t,e){if(1&t&&(C.ec(0,"div",17),C.ec(1,"span",18),C.Uc(2),C.dc(),C.ec(3,"span",18),C.Uc(4),C.dc(),C.dc()),2&t){const t=C.oc(2);C.Jb(2),C.Vc(null==t.contents?null:t.contents.properties.sp_name),C.Jb(2),C.Vc(null==t.contents?null:t.contents.properties.ep_name)}}function Qe(t,e){if(1&t&&(C.ec(0,"li",10),C.Uc(1),C.pc(2,"translate"),C.ec(3,"span",11),C.Uc(4),C.pc(5,"toTrafficDuration"),C.dc(),C.dc()),2&t){const t=C.oc(2);C.Jb(1),C.Wc(" ",C.qc(2,2,"TRAFFIC_POPUP.DURATION")," "),C.Jb(3),C.Vc(C.qc(5,4,null==t.contents?null:t.contents.properties.req_minute))}}function tn(t,e){if(1&t&&(C.ec(0,"div",19),C.ec(1,"span",20),C.ec(2,"span",21),C.Uc(3),C.pc(4,"translate"),C.dc(),C.Uc(5),C.dc(),C.dc()),2&t){const t=C.oc(2);C.Jb(3),C.Vc(C.qc(4,2,"TRAFFIC.ROAD_NAME")),C.Jb(2),C.Vc(null==t.contents?null:t.contents.properties.rd_name)}}function en(t,e){if(1&t){const t=C.fc();C.ec(0,"nm-map-popup",1,2),C.lc("changed",function(e){return C.Jc(t),C.oc().onChange(e)}),C.ec(2,"div",3),C.ec(3,"button",4),C.lc("click",function(){return C.Jc(t),C.Gc(1).close()}),C.Uc(4,"\ub2eb\uae30"),C.dc(),C.ec(5,"div",5),C.Sc(6,Ke,8,8,"div",6),C.Sc(7,Ze,7,6,"div",6),C.ec(8,"div",7),C.Sc(9,$e,5,2,"div",8),C.ec(10,"ul",9),C.ec(11,"li",10),C.Uc(12),C.pc(13,"translate"),C.ec(14,"span",11),C.Uc(15),C.pc(16,"translate"),C.dc(),C.dc(),C.Sc(17,Qe,6,6,"li",12),C.ec(18,"li",10),C.Uc(19),C.pc(20,"translate"),C.ec(21,"span",11),C.Uc(22),C.pc(23,"toTrafficDistance"),C.dc(),C.dc(),C.dc(),C.dc(),C.Sc(24,tn,6,4,"div",13),C.dc(),C.dc(),C.dc()}if(2&t){const t=C.oc();C.wc("lngLat",t.lngLat),C.Jb(6),C.wc("ngIf",!t.isUnknownData),C.Jb(1),C.wc("ngIf",t.isUnknownData),C.Jb(2),C.wc("ngIf",(null==t.contents?null:t.contents.properties.sp_name)&&(null==t.contents?null:t.contents.properties.ep_name)),C.Jb(3),C.Wc(" ",C.qc(13,11,"TRAFFIC_POPUP.LANE")," "),C.Jb(3),C.Xc("",null==t.contents?null:t.contents.properties.lane_num,"",C.qc(16,13,"TRAFFIC_POPUP.LANE"),""),C.Jb(2),C.wc("ngIf",!t.isUnknownData),C.Jb(2),C.Wc(" ",C.qc(20,15,"TRAFFIC_POPUP.DISTANCE")," "),C.Jb(3),C.Vc(C.qc(23,17,null==t.contents?null:t.contents.properties.link_l)),C.Jb(2),C.wc("ngIf",null==t.contents?null:t.contents.properties.rd_name)}}let nn=(()=>{class t{constructor(t,e,n,i,o,r,a){this.zone=t,this.store=e,this.maps=n,this.commonRoutes=i,this.localStorage=o,this.nClickService=r,this.traffic=a,this.isUnknownData=!1,this.contents=null,this.subs=[]}get lngLat(){return this.contents.coordinate}ngOnInit(){this.traffic.activate(),this.subs.push(this.traffic.events.subscribe(t=>{if(t.type!==ze.ShowPopup)return;const e=t.data;this.contents=e,this.isUnknownData=0===e.properties.state,this.addLineArrow(e.geometry.coordinates)}))}ngOnDestroy(){this.removeLineArrow(),this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[],this.traffic.deactivate()}onChange(t){switch(t.type){case Ye.a.Close:t.rawEvent&&this.nClickService.nClick(t.rawEvent,rt.a.ALL_TRAFFICLAYER_CLOSE),this.clearPopup(),this.removeLineArrow()}}clearPopup(){this.contents=null}removeLineArrow(){this.polyline&&(this.polyline.setMap(),this.polyline=null)}addLineArrow(t){this.removeLineArrow(),!t||t.length<=1||(this.polyline=this.maps.createPolyline({path:t,clickable:!1,strokeWeight:8,strokeColor:this.contents.properties.line_color,strokeLineCap:"round",strokeLineJoin:"round",endIcon:naver.maps.PointingIcon.BLOCK_ARROW,endIconSize:17}))}}return t.\u0275fac=function(e){return new(e||t)(C.Yb(C.F),C.Yb(ot.h),C.Yb(D.a),C.Yb(R.e),C.Yb($.a),C.Yb(ht.a),C.Yb(qe))},t.\u0275cmp=C.Sb({type:t,selectors:[["traffic-popup"]],decls:1,vars:1,consts:[[3,"lngLat","changed",4,"ngIf"],[3,"lngLat","changed"],["popup",""],[1,"traffic-popup"],[1,"popup-close-button",3,"click"],[1,"popup_traffic_area"],["class","title_box",4,"ngIf"],[1,"summary_box"],["class","place_text_box",4,"ngIf"],[1,"list_summary"],[1,"item_summary"],[1,"value"],["class","item_summary",4,"ngIf"],["class","address_box",4,"ngIf"],[1,"title_box"],[1,"title"],[1,"level","level0"],[1,"place_text_box"],[1,"place_text"],[1,"address_box"],[1,"address_text"],[1,"text_road"]],template:function(t,e){1&t&&C.Sc(0,en,25,19,"nm-map-popup",0),2&t&&C.wc("ngIf",e.contents)},directives:[i.o,Je.a],pipes:[z.c,Ge,Xe],styles:[""]}),t})();var on=n("/GXd"),rn=n("2IxD");const an=["popupElement"];function sn(t,e){if(1&t&&(C.cc(0),C.Zb(1,"br"),C.Uc(2),C.bc()),2&t){const t=C.oc(2);C.Jb(2),C.Wc("",null==t.contents?null:t.contents.cpName," \uc81c\uacf5 ")}}function cn(t,e){if(1&t){const t=C.fc();C.ec(0,"nm-map-popup",1,2),C.lc("changed",function(e){return C.Jc(t),C.oc().onChange(e)}),C.ec(2,"div",3,4),C.ec(4,"button",5),C.lc("click",function(){return C.Jc(t),C.Gc(1).close()}),C.Uc(5,"\ub2eb\uae30"),C.dc(),C.ec(6,"strong",6),C.Uc(7),C.dc(),C.ec(8,"p",7),C.Uc(9),C.dc(),C.ec(10,"span",8),C.Uc(11),C.pc(12,"date"),C.pc(13,"date"),C.Sc(14,sn,3,1,"ng-container",9),C.dc(),C.dc(),C.dc()}if(2&t){const t=C.oc();C.wc("lngLat",t.lngLat)("zIndex",t.zIndex)("offset",t.offset),C.Jb(7),C.Wc(" ",null==t.contents?null:t.contents.title," "),C.Jb(2),C.Wc(" ",null==t.contents?null:t.contents.description," "),C.Jb(2),C.Xc(" ",C.rc(12,8,null==t.contents?null:t.contents.startDate,"y.MM.dd HH:MM")," ~ ",C.rc(13,11,null==t.contents?null:t.contents.endDate,"y.MM.dd HH:MM")," "),C.Jb(3),C.wc("ngIf",null==t.contents?null:t.contents.cpName)}}let ln=(()=>{class t{constructor(t,e,n,i,o,r,a,s,c){this.zone=t,this.layout=e,this.maps=n,this.commonRoutes=i,this.localStorage=o,this.accident=r,this.store=a,this.nClickService=s,this.layoutStoreService=c,this.contents=null,this.zIndex=rn.a.Accident,this.offset={x:0,y:-20},this.subs=[],this.isFirst=!0}ngOnInit(){this.subs=[this.maps.events.orgZoomEnd.subscribe(()=>this.clearPopup()),this.maps.events.onClick([l.c.Cctv]).subscribe(()=>this.onClickCctv()),this.accident.events.pipe(Object(y.a)(t=>on.c.Click===t.type)).subscribe(t=>{this.onClickAccidentsIcon(t)}),this.commonRoutes.events.pipe(Object(y.a)(t=>{var e;return this.accident.active&&(null===(e=t.data.coordinates)||void 0===e?void 0:e.mapLayers.includes(R.g.Traffic))})).subscribe(()=>{if(this.isFirst)return this.accident.updateAccidentInfo(),void(this.isFirst=!1);this.accident.updateFeatures()})]}ngOnDestroy(){this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[],this.accident.removeData()}onChange(t){t.type===Ye.a.Close&&(this.clearPopup(),t.rawEvent&&t.rawEvent.target&&this.nClickService.nClick(t.rawEvent,rt.a.ALL_ACCLAYER_CLOSE))}onClickCctv(){this.clearPopup()}onClickAccidentsIcon(t){this.togglePopup(t)}clearPopup(){this.contents=null}showPopup(t){const e={lng:t.properties.x,lat:t.properties.y};this.contents=t.properties,this.lngLat=e}togglePopup(t){t.data&&!this.isEqualPopup(t.data)?(this.showPopup(t.data),this.nClickService.nClick(t,rt.a.ALL_ACCLAYER_ACCIDENT)):this.clearPopup()}isEqualPopup(t){return!(!this.contents||!this.contents.description||this.contents.description!==t.properties.description)}}return t.\u0275fac=function(e){return new(e||t)(C.Yb(C.F),C.Yb(E.b),C.Yb(D.a),C.Yb(R.e),C.Yb($.a),C.Yb(Et.a),C.Yb(ot.h),C.Yb(ht.a),C.Yb(r.a))},t.\u0275cmp=C.Sb({type:t,selectors:[["accident-popup"]],viewQuery:function(t,e){if(1&t&&C.ad(an,1),2&t){let t;C.Fc(t=C.mc())&&(e.popupElement=t.first)}},decls:1,vars:1,consts:[[3,"lngLat","zIndex","offset","changed",4,"ngIf"],[3,"lngLat","zIndex","offset","changed"],["popup",""],[1,"accident-popup"],["popupElement",""],[1,"popup-close-button",3,"click"],[1,"layer_accident_title"],[1,"layer_accident_text"],[1,"layer_accident_date"],[4,"ngIf"]],template:function(t,e){1&t&&C.Sc(0,cn,15,14,"nm-map-popup",0),2&t&&C.wc("ngIf",e.contents)},directives:[i.o,Je.a],pipes:[i.e],styles:['.accident-popup[_ngcontent-%COMP%]   .popup-close-button[_ngcontent-%COMP%], .accident-popup[_ngcontent-%COMP%]:after{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/popup.png);background-size:201px 160px}.retina[_ngcontent-%COMP%]   .accident-popup[_ngcontent-%COMP%]   .popup-close-button[_ngcontent-%COMP%], .retina[_ngcontent-%COMP%]   .accident-popup[_ngcontent-%COMP%]:after{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/popup@2x.png)}.accident-popup[_ngcontent-%COMP%]{width:390px;padding:10px 26px 16px 14px;background-color:#363840;box-sizing:border-box}.accident-popup[_ngcontent-%COMP%]   .popup-close-button[_ngcontent-%COMP%]{overflow:hidden;display:inline-block;width:20px;height:20px;font-size:0;color:transparent;vertical-align:top;background-position:-180px -45px;position:absolute;top:9px;right:9px}.accident-popup[_ngcontent-%COMP%]   .layer_accident_title[_ngcontent-%COMP%]{display:block;padding-right:30px;font-size:16px;line-height:21px;font-weight:500;color:#fed25c}.accident-popup[_ngcontent-%COMP%]   .layer_accident_text[_ngcontent-%COMP%]{margin-top:15px;font-size:14px;line-height:19px;color:#fff}.accident-popup[_ngcontent-%COMP%]   .layer_accident_date[_ngcontent-%COMP%]{display:block;margin-top:8px;font-size:13px;line-height:17px;color:#b5b5b5}.accident-popup[_ngcontent-%COMP%]:after{overflow:hidden;display:inline-block;width:16px;height:11px;font-size:0;color:transparent;vertical-align:top;background-position:-82px -47px;position:absolute;top:100%;left:0;right:0;margin:-2px auto 0;content:""}']}),t})();function un(t,e){1&t&&C.Zb(0,"legend-popup")}function pn(t,e){1&t&&C.Zb(0,"traffic-popup")}function hn(t,e){1&t&&C.Zb(0,"accident-popup")}function dn(t,e){if(1&t){const t=C.fc();C.cc(0),C.Zb(1,"context-menu"),C.Sc(2,un,1,0,"legend-popup",0),C.Sc(3,pn,1,0,"traffic-popup",0),C.Sc(4,hn,1,0,"accident-popup",0),C.ec(5,"dynamic-content-outlet",1),C.lc("initComponent",function(){return C.Jc(t),C.oc().initAfterControlInit()}),C.dc(),C.Zb(6,"dynamic-content-outlet",2),C.Zb(7,"indoor-floor",3),C.pc(8,"async"),C.pc(9,"async"),C.bc()}if(2&t){const t=C.oc();C.Jb(2),C.wc("ngIf",t.isShowLegendPopup),C.Jb(1),C.wc("ngIf",t.isShowTrafficPopup),C.Jb(1),C.wc("ngIf",t.isShowAccidentPopup),C.Jb(3),C.wc("hidden",C.qc(8,5,t.isMovingPanel$))("left",C.qc(9,7,t.panelWidth$))}}let gn=(()=>{class t{constructor(t,e,n,i,o,r,a){this.mapsService=t,this.legendPopupService=e,this.accidentService=n,this.cartoManagerService=i,this.commonRoutesService=o,this.globalLayoutService=r,this.store=a,this.hideControls=!1,this.isMapReady=!1,this.isShowLegendPopup=!1,this.isShowTrafficPopup=!1,this.isShowAccidentPopup=!1,this.isShowVocPopup=!1,this.isMovingPanel$=Object(ct.u)(this.store),this.panelWidth$=Object(ct.w)(this.store),this.subs=[]}ngOnInit(){this.mapsService.onReady(()=>{this.isMapReady=!0,this.watchIsShowLegendPopup(),this.watchGlobalLayout()})}ngOnDestroy(){this.clear()}watchIsShowLegendPopup(){this.legendPopupService.getActivatedLastLayer()&&(this.isShowLegendPopup=!0,this.legendPopupService.isShow=!0),this.subs.push(this.legendPopupService.events.subscribe(t=>{switch(t.type){case St.d.Show:this.isShowLegendPopup=!0;break;case St.d.Hide:this.isShowLegendPopup=!1}}))}watchIsShowTrafficAndAccidentPopup(){this.accidentService.isEnableTrafficMode()&&(this.isShowAccidentPopup=!0,this.isShowTrafficPopup=!0);const t=this.cartoManagerService.layerControllerList.find(t=>t.name===R.g.Traffic);t&&this.subs.push(t.isActivate.pipe(Object(m.a)(t=>t?this.legendPopupService.events.pipe(Object(y.a)(t=>t.type===St.d.Show),Object(_.a)(t=>t.layer===R.g.Traffic)):Object(N.a)(t))).subscribe(t=>{this.isShowAccidentPopup=t,this.isShowTrafficPopup=t}))}watchGlobalLayout(){this.subs.push(this.globalLayoutService.events.subscribe(t=>{switch(t.type){case E.a.MapsLayoutChanged:this.onMapsLayoutChanged(t.data)}}))}onMapsLayoutChanged(t){const e=t!==l.d.Normal;e!==this.hideControls&&(this.hideControls=e)}initAfterControlInit(){this.watchIsShowTrafficAndAccidentPopup()}clear(){this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[]}}return t.\u0275fac=function(e){return new(e||t)(C.Yb(D.a),C.Yb(St.g),C.Yb(Et.a),C.Yb(St.b),C.Yb(R.e),C.Yb(E.b),C.Yb(ot.h))},t.\u0275cmp=C.Sb({type:t,selectors:[["maps-controller"]],hostVars:2,hostBindings:function(t,e){2&t&&C.Qb("hide",e.hideControls)},decls:1,vars:1,consts:[[4,"ngIf"],["componentName","ControlWidgetComponent",1,"control_widget",3,"initComponent"],["componentName","CenterBottomWidgetComponent",1,"center_bottom"],[3,"hidden","left"]],template:function(t,e){1&t&&C.Sc(0,dn,10,9,"ng-container",0),2&t&&C.wc("ngIf",e.isMapReady)},directives:[i.o,Ht,qt.a,ae,Ue,nn,ln],pipes:[i.b],styles:[".hide[_nghost-%COMP%]     .center_bottom, .hide[_nghost-%COMP%]     .control_widget control-bottom-widget-holder control-location, .hide[_nghost-%COMP%]     .control_widget control-debug, .hide[_nghost-%COMP%]     .control_widget control-scale, .hide[_nghost-%COMP%]     .control_widget control-top-widget-holder, .hide[_nghost-%COMP%]     accident-popup, .hide[_nghost-%COMP%]     around-here-current-widget, .hide[_nghost-%COMP%]     cctv-popup, .hide[_nghost-%COMP%]     context-menu, .hide[_nghost-%COMP%]     legend-popup, .hide[_nghost-%COMP%]     traffic-popup{display:none}"]}),t})();var fn=n("nerh");const bn=["caputreFrame"],mn=["captureHeader"],_n=["captureContent"];function yn(t,e){if(1&t&&(C.ec(0,"p",18),C.ec(1,"em"),C.Uc(2),C.pc(3,"translate"),C.dc(),C.dc()),2&t){const t=C.oc();C.Jb(2),C.Vc(C.qc(3,1,t.title))}}function On(t,e){if(1&t&&(C.ec(0,"strong",19),C.Uc(1),C.pc(2,"translate"),C.dc()),2&t){const t=C.oc();C.Jb(1),C.Xc(" ",C.qc(2,2,"REPORT.CAPTURE_CONTENT.LAND_LOT_BASED"),": ",t.jibunAddress," ")}}function vn(t,e){if(1&t&&(C.ec(0,"em",20),C.Uc(1),C.pc(2,"translate"),C.dc()),2&t){const t=C.oc();C.Jb(1),C.Xc(" ",C.qc(2,2,"REPORT.CAPTURE_CONTENT.ROAD_ADDRESS"),": ",t.roadAddress," ")}}let Cn=(()=>{class t{constructor(t,e,n,i,o){this.reportScreenshot=t,this.mapsService=e,this.api=n,this.commonUtilsService=i,this.cd=o,this.visibleTooltip=!0,this.subs=[]}ngOnInit(){this.mapsService.onReady(()=>{this.subs.push(this.mapsService.events.moveStart.pipe().subscribe(()=>{this.visibleTooltip=!1,this.cd.detectChanges()}),this.mapsService.events.moveEnd.subscribe(()=>{this.visibleTooltip=!0,this.cd.detectChanges(),this.updateCenterAddress()})),this.updateCenterAddress()}),this.title=this.getTitle(this.reportScreenshot.type)}updateCenterAddress(){const t=this.mapsService.getCenter();this.api.getGeocode(t.lng,t.lat).pipe(Object(m.a)(t=>t.status.code!==V.l.SUCCESS?Object(N.a)([]):Object(N.a)(t.results)),Object(_.a)(t=>{const e=null==t?void 0:t.filter(t=>t.name===V.m.ADDR).shift(),n=null==t?void 0:t.filter(t=>t.name===V.m.ROAD_ADDR).shift();return{addr:e?this.commonUtilsService.getAddressByGeoCodeInfo(e):null,roadAddr:n?this.commonUtilsService.getAddressByGeoCodeInfo(n):null}})).subscribe(e=>{this.center=t,this.jibunAddress=e.addr,this.roadAddress=e.roadAddr,this.cd.detectChanges()})}capture(){const t=this.getCaptureBounds();this.reportScreenshot.capture(t,{center:this.center,address:this.jibunAddress,roadAddress:this.roadAddress})}cancel(){this.reportScreenshot.hide()}ngOnDestroy(){this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[]}getTitle(t){switch(t){case Nt.b.CarDestination:case Nt.b.WalkDestination:case Nt.b.BicycleDestination:return"REPORT.SCREENSHOT.TITLE_DESTINATION_COORD";case Nt.b.BusStop:case Nt.b.AddNewBusStop:return"REPORT.SCREENSHOT.TITLE_BUS_STOP_COORD";default:return"REPORT.SCREENSHOT.TITLE"}}getCaptureBounds(){const t=this.caputreFrame.nativeElement,e=this.captureHeader.nativeElement.offsetHeight,n=this.captureContent.nativeElement.offsetHeight,{offsetLeft:i,offsetWidth:o,offsetTop:r,offsetHeight:a}=t;return{minX:i,minY:r+e,maxX:i+o,maxY:r+a-n}}}return t.\u0275fac=function(e){return new(e||t)(C.Yb(fn.a),C.Yb(D.a),C.Yb(B.a),C.Yb(I.a),C.Yb(C.i))},t.\u0275cmp=C.Sb({type:t,selectors:[["report-map-screenshot"]],viewQuery:function(t,e){if(1&t&&(C.ad(bn,1),C.ad(mn,1),C.ad(_n,1)),2&t){let t;C.Fc(t=C.mc())&&(e.caputreFrame=t.first),C.Fc(t=C.mc())&&(e.captureHeader=t.first),C.Fc(t=C.mc())&&(e.captureContent=t.first)}},decls:24,vars:6,consts:[[1,"report_capture_area"],[1,"report_capture_frame"],[1,"report_capture_frame_inner"],["caputreFrame",""],[1,"report_capture_header"],["captureHeader",""],["type","button",1,"btn_back",3,"click"],[1,"blind"],[1,"title"],["type","button",1,"btn_close",3,"click"],[1,"report_capture_guide"],["class","message",4,"ngIf"],[1,"report_capture_content"],["captureContent",""],[1,"report_address_area"],["class","main_address",4,"ngIf"],["class","sub_address",4,"ngIf"],["type","button",1,"btn_submit",3,"click"],[1,"message"],[1,"main_address"],[1,"sub_address"]],template:function(t,e){1&t&&(C.ec(0,"div",0),C.ec(1,"div",1),C.ec(2,"div",2,3),C.ec(4,"div",4,5),C.ec(6,"button",6),C.lc("click",function(){return e.cancel()}),C.ec(7,"span",7),C.Uc(8,"\ub4a4\ub85c\uac00\uae30"),C.dc(),C.dc(),C.ec(9,"strong",8),C.Uc(10,"\uc815\ubcf4 \uc218\uc815 \uc81c\uc548"),C.dc(),C.ec(11,"button",9),C.lc("click",function(){return e.cancel()}),C.ec(12,"span",7),C.Uc(13,"\ub2eb\uae30"),C.dc(),C.dc(),C.dc(),C.ec(14,"div",10),C.Sc(15,yn,4,3,"p",11),C.dc(),C.ec(16,"div",12,13),C.ec(18,"div",14),C.Sc(19,On,3,4,"strong",15),C.Sc(20,vn,3,4,"em",16),C.dc(),C.ec(21,"button",17),C.lc("click",function(){return e.capture()}),C.Uc(22),C.pc(23,"translate"),C.dc(),C.dc(),C.dc(),C.dc(),C.dc()),2&t&&(C.Jb(15),C.wc("ngIf",e.visibleTooltip),C.Jb(4),C.wc("ngIf",e.jibunAddress),C.Jb(1),C.wc("ngIf",e.roadAddress),C.Jb(2),C.Vc(C.qc(23,4,"REPORT.SCREENSHOT.OK")))},directives:[i.o],pipes:[z.c],styles:['[_nghost-%COMP%]   .report_capture_guide[_ngcontent-%COMP%]:after, [_nghost-%COMP%]   .report_capture_header[_ngcontent-%COMP%]   .btn_back[_ngcontent-%COMP%], [_nghost-%COMP%]   .report_capture_header[_ngcontent-%COMP%]   .btn_close[_ngcontent-%COMP%]{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/settings.png);background-size:138px 118px}.retina   [_nghost-%COMP%]   .report_capture_guide[_ngcontent-%COMP%]:after, .retina   [_nghost-%COMP%]   .report_capture_header[_ngcontent-%COMP%]   .btn_back[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .report_capture_header[_ngcontent-%COMP%]   .btn_close[_ngcontent-%COMP%]{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/settings@2x.png)}[_nghost-%COMP%]{position:fixed;top:0;left:63px;right:0;bottom:0;z-index:3010;overflow:hidden;pointer-events:none}[_nghost-%COMP%]   .report_capture_area[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   .report_capture_area[_ngcontent-%COMP%]:after, [_nghost-%COMP%]   .report_capture_area[_ngcontent-%COMP%]:before{display:block;flex:1;background:rgba(0,0,0,.5);content:""}[_nghost-%COMP%]   .report_capture_area[_ngcontent-%COMP%]   .report_capture_frame[_ngcontent-%COMP%]{display:flex;height:83.3%;max-height:848px}[_nghost-%COMP%]   .report_capture_area[_ngcontent-%COMP%]   .report_capture_frame[_ngcontent-%COMP%]:after, [_nghost-%COMP%]   .report_capture_area[_ngcontent-%COMP%]   .report_capture_frame[_ngcontent-%COMP%]:before{display:block;flex:1;background:rgba(0,0,0,.5);content:""}[_nghost-%COMP%]   .report_capture_area[_ngcontent-%COMP%]   .report_capture_frame_inner[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;width:80%;max-width:804px}[_nghost-%COMP%]   .report_capture_header[_ngcontent-%COMP%]{position:relative;height:59px;border-bottom:1px solid rgba(0,0,0,.1);background:#fff;box-shadow:0 2px 3px 0 rgba(0,0,0,.1);text-align:center;pointer-events:auto}[_nghost-%COMP%]   .report_capture_header[_ngcontent-%COMP%]   .btn_back[_ngcontent-%COMP%], [_nghost-%COMP%]   .report_capture_header[_ngcontent-%COMP%]   .btn_close[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;margin:auto}[_nghost-%COMP%]   .report_capture_header[_ngcontent-%COMP%]   .btn_back[_ngcontent-%COMP%]{background-position:-98px 0;left:14px}[_nghost-%COMP%]   .report_capture_header[_ngcontent-%COMP%]   .btn_back[_ngcontent-%COMP%], [_nghost-%COMP%]   .report_capture_header[_ngcontent-%COMP%]   .btn_close[_ngcontent-%COMP%]{overflow:hidden;display:inline-block;width:30px;height:30px;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .report_capture_header[_ngcontent-%COMP%]   .btn_close[_ngcontent-%COMP%]{background-position:-98px -32px;right:14px}[_nghost-%COMP%]   .report_capture_header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;line-height:62px;font-weight:600;color:#111;letter-spacing:-.93px}[_nghost-%COMP%]   .report_capture_guide[_ngcontent-%COMP%]{position:absolute;height:66px;left:0;right:0;top:0;bottom:0;margin:auto;text-align:center;transform:translateY(-25px)}[_nghost-%COMP%]   .report_capture_guide[_ngcontent-%COMP%]:after{overflow:hidden;display:inline-block;width:46px;height:66px;font-size:0;color:transparent;background-position:0 0;vertical-align:top;content:""}[_nghost-%COMP%]   .report_capture_guide[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{position:absolute;bottom:100%;left:20px;right:20px;margin-bottom:6px}[_nghost-%COMP%]   .report_capture_guide[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;padding:11px 16px 10px;background:rgba(0,0,0,.55);border-radius:20px;color:#fff;font-size:16px;line-height:19px;letter-spacing:-.4px}[_nghost-%COMP%]   .report_capture_content[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;margin-top:auto;border:1px solid rgba(0,0,0,.1);background:#fff;padding:16px 215px 15px 30px;height:74px;box-sizing:border-box;pointer-events:auto}[_nghost-%COMP%]   .report_capture_content[_ngcontent-%COMP%]   .report_address_area[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .report_capture_content[_ngcontent-%COMP%]   .main_address[_ngcontent-%COMP%], [_nghost-%COMP%]   .report_capture_content[_ngcontent-%COMP%]   .sub_address[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block;font-size:16px;line-height:normal;font-weight:400}[_nghost-%COMP%]   .report_capture_content[_ngcontent-%COMP%]   .main_address[_ngcontent-%COMP%]{color:#111}[_nghost-%COMP%]   .report_capture_content[_ngcontent-%COMP%]   .sub_address[_ngcontent-%COMP%]{margin-top:3px;color:#888}[_nghost-%COMP%]   .report_capture_content[_ngcontent-%COMP%]   .btn_submit[_ngcontent-%COMP%]{position:absolute;right:30px;top:0;bottom:0;height:50px;width:155px;margin:auto;font-size:16px;line-height:normal;font-weight:400;color:#fff;background:#3885f8;border-radius:5px}'],changeDetection:0}),t})();var Pn=n("hC9K");const Mn=["mainContentContainer"],xn=["subContentContainer"],wn=["printPage"],kn=["mainPage"],Sn=["subPage"],En=["printButtons"],In=["memoText"];let Rn=(()=>{class t{constructor(t,e){this.printService=t,this.commonRoutes=e,this.subs=[]}get contentInfo(){return this.printService.getPrintViewContentInfo()}get title(){return this.contentInfo.title}ngOnInit(){this.initControl()}ngOnDestroy(){this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[]}onPopState(){this.printService.hidePrintView(),history.go(1)}onClickClose(){this.printService.hidePrintView()}onClickPrint(){window.print()}setAutoHeightMemoArea(){const t=this.memoText.nativeElement;this.printService.setStyle(t,"height","1px");const e=t.scrollHeight-20>80?t.scrollHeight-20:80;this.printService.setStyle(t,"height",`${e}px`),this.printService.setStyle(t.parentElement,"height",`${e+20}px`)}initControl(){this.subs.push(this.printService.events.pipe(Object(y.a)(t=>t.data===q.b.Show)).subscribe(()=>{switch(this.contentInfo.mainAppendType){case q.a.Move:this.mainOriParent=this.contentInfo.main.parentElement,this.printService.attachContent(this.mainContentContainer.nativeElement,this.contentInfo.main);break;default:this.printService.attachContent(this.mainContentContainer.nativeElement,this.contentInfo.main.cloneNode(!0))}this.contentInfo.sub&&this.printService.attachContent(this.subContentContainer.nativeElement,this.contentInfo.sub.cloneNode(!0)),this.contentInfo.appendAfterAction&&this.contentInfo.appendAfterAction(),this.setDisplayStyleForSubPage()})),this.subs.push(this.printService.events.pipe(Object(y.a)(t=>t.data===q.b.Hide)).subscribe(()=>{this.contentInfo.mainAppendType===q.a.Move&&this.mainOriParent&&(this.printService.attachContent(this.mainOriParent,this.contentInfo.main),this.mainOriParent=null),this.contentInfo.removeAfterAction&&this.contentInfo.removeAfterAction(),this.printService.resetPrintViewContentInfo()}))}expendSubContentHeight(){if(this.contentInfo.sub){let t=(()=>{let t=null;const e=this.subContentContainer.nativeElement.querySelectorAll(".scroll_inner");if(e&&e.length>0)for(let n=0;n<e.length;n+=1){const i=e[n];(!t||t.offsetHeight<i.offsetHeight)&&(t=i)}return t||this.subContentContainer.nativeElement.querySelector(".list_place")||this.subContentContainer.nativeElement.querySelector(".scroll_box")})();const e=t.offsetHeight+200;for(;t&&e;)this.printService.setStyle(t,"height",`${e}px`),t=t.parentElement!==this.mainPage.nativeElement?t.parentElement:null}}setDisplayStyleForSubPage(){const t=this.commonRoutes.getRouterParams().module;this.printService.setStyle(this.subPage.nativeElement,"display","directions"===t?"block":"none")}}return t.\u0275fac=function(e){return new(e||t)(C.Yb(H.a),C.Yb(R.e))},t.\u0275cmp=C.Sb({type:t,selectors:[["print-layout"]],viewQuery:function(t,e){if(1&t&&(C.ad(Mn,3),C.ad(xn,3),C.ad(wn,3),C.ad(kn,3),C.ad(Sn,3),C.ad(En,3),C.ad(In,3)),2&t){let t;C.Fc(t=C.mc())&&(e.mainContentContainer=t.first),C.Fc(t=C.mc())&&(e.subContentContainer=t.first),C.Fc(t=C.mc())&&(e.printPage=t.first),C.Fc(t=C.mc())&&(e.mainPage=t.first),C.Fc(t=C.mc())&&(e.subPage=t.first),C.Fc(t=C.mc())&&(e.printButtons=t.first),C.Fc(t=C.mc())&&(e.memoText=t.first)}},hostBindings:function(t,e){1&t&&C.lc("popstate",function(t){return e.onPopState(t)},!1,C.Ic)},decls:31,vars:12,consts:[[1,"print_wrap"],["printPage",""],[1,"print_main"],["mainPage",""],[1,"print_main_top"],[1,"print_map_icon"],[1,"print_map_title"],["printButtons",""],["type","button",1,"btn_print",3,"click"],["type","button",1,"btn_close",3,"click"],[1,"print_main_content_layout"],["mainContentContainer",""],[1,"print_main_content_overlay"],[1,"print_memo_area"],["type","text",1,"print_memo",3,"placeholder","input"],["memoText",""],[1,"print_sub"],["subPage",""],[1,"print_sub_content_layout"],["subContentContainer",""],[1,"print_sub_content_overlay"]],template:function(t,e){1&t&&(C.ec(0,"div",0,1),C.ec(2,"div",2,3),C.ec(4,"div",4),C.Zb(5,"span",5),C.ec(6,"span",6),C.Uc(7),C.pc(8,"translate"),C.dc(),C.ec(9,"span",null,7),C.ec(11,"button",8),C.lc("click",function(){return e.onClickPrint()}),C.Uc(12),C.pc(13,"translate"),C.dc(),C.ec(14,"button",9),C.lc("click",function(){return e.onClickClose()}),C.Uc(15),C.pc(16,"translate"),C.dc(),C.dc(),C.dc(),C.ec(17,"div",10),C.Zb(18,"div",null,11),C.Zb(20,"div",12),C.dc(),C.ec(21,"div",13),C.ec(22,"textarea",14,15),C.lc("input",function(){return e.setAutoHeightMemoArea()}),C.pc(24,"translate"),C.dc(),C.dc(),C.ec(25,"div",16,17),C.ec(27,"div",18),C.Zb(28,"div",null,19),C.Zb(30,"div",20),C.dc(),C.dc(),C.dc(),C.dc()),2&t&&(C.Jb(7),C.Vc(e.title||C.qc(8,4,"COMMON.NAVER_MAP")),C.Jb(5),C.Wc(" ",C.qc(13,6,"PRINT.PRINTING")," "),C.Jb(3),C.Wc(" ",C.qc(16,8,"PRINT.CLOSE")," "),C.Jb(7),C.wc("placeholder",C.qc(24,10,"PRINT.MEMO")))},pipes:[z.c],styles:["[_nghost-%COMP%]     .btn_fold, [_nghost-%COMP%]     .btn_research{display:none!important}[_nghost-%COMP%]   .print_wrap[_ngcontent-%COMP%]{position:relative;max-width:693px}[_nghost-%COMP%]   .print_wrap[_ngcontent-%COMP%]   .print_main[_ngcontent-%COMP%], [_nghost-%COMP%]   .print_wrap[_ngcontent-%COMP%]   .print_sub[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .print_wrap[_ngcontent-%COMP%]   .print_main[_ngcontent-%COMP%]   .print_main_top[_ngcontent-%COMP%]{position:relative;height:32px;padding:15px 50px 0}[_nghost-%COMP%]   .print_wrap[_ngcontent-%COMP%]   .print_main[_ngcontent-%COMP%]   .print_main_top[_ngcontent-%COMP%]   .print_map_icon[_ngcontent-%COMP%]{width:32px;height:32px;position:absolute;background-size:contain;background-image:url(apple-icon-60x60.0c3e7694fb2e34481418.png)}[_nghost-%COMP%]   .print_wrap[_ngcontent-%COMP%]   .print_main[_ngcontent-%COMP%]   .print_main_top[_ngcontent-%COMP%]   .print_map_title[_ngcontent-%COMP%]{height:32px;display:inline-block;padding-left:40px;line-height:32px;vertical-align:middle}[_nghost-%COMP%]   .print_wrap[_ngcontent-%COMP%]   .print_main[_ngcontent-%COMP%]   .print_main_top[_ngcontent-%COMP%]   .btn_close[_ngcontent-%COMP%], [_nghost-%COMP%]   .print_wrap[_ngcontent-%COMP%]   .print_main[_ngcontent-%COMP%]   .print_main_top[_ngcontent-%COMP%]   .btn_print[_ngcontent-%COMP%]{float:right;width:40px;height:30px;margin-left:5px;border-radius:5px;border:1px solid #b5b5b5;color:#fff}[_nghost-%COMP%]   .print_wrap[_ngcontent-%COMP%]   .print_main[_ngcontent-%COMP%]   .print_main_top[_ngcontent-%COMP%]   .btn_close[_ngcontent-%COMP%]{background-color:#5e5e5e}[_nghost-%COMP%]   .print_wrap[_ngcontent-%COMP%]   .print_main[_ngcontent-%COMP%]   .print_main_top[_ngcontent-%COMP%]   .btn_print[_ngcontent-%COMP%]{background-color:#1f22b9}[_nghost-%COMP%]   .print_wrap[_ngcontent-%COMP%]   .print_main[_ngcontent-%COMP%]   .print_main_content_layout[_ngcontent-%COMP%]{position:relative;display:block;height:500px;margin:15px 50px;border:1px solid #afafaf}[_nghost-%COMP%]   .print_wrap[_ngcontent-%COMP%]   .print_main[_ngcontent-%COMP%]   .print_main_content_overlay[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;top:0;z-index:10001}[_nghost-%COMP%]   .print_wrap[_ngcontent-%COMP%]   .print_main[_ngcontent-%COMP%]   .print_memo_area[_ngcontent-%COMP%]{margin:15px 50px;height:100px;border:1px solid #afafaf;overflow:hidden}[_nghost-%COMP%]   .print_wrap[_ngcontent-%COMP%]   .print_main[_ngcontent-%COMP%]   .print_memo_area[_ngcontent-%COMP%]   .print_memo[_ngcontent-%COMP%]{width:calc(100% - 20px);height:calc(100% - 20px);resize:none;padding:10px;font-size:14px;overflow:hidden}[_nghost-%COMP%]   .print_wrap[_ngcontent-%COMP%]   .print_sub[_ngcontent-%COMP%]   .print_sub_content_layout[_ngcontent-%COMP%]{overflow:hidden;margin:0 50px 15px;position:relative}[_nghost-%COMP%]   .print_wrap[_ngcontent-%COMP%]   .print_sub[_ngcontent-%COMP%]   .print_sub_content_overlay[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;top:0;z-index:10001}[_nghost-%COMP%]     directions-details-result, [_nghost-%COMP%]     entry-layout, [_nghost-%COMP%]     settings-legend, [_nghost-%COMP%]     shrinkable-layout{display:block;position:relative}[_nghost-%COMP%]     .entry_wrap, [_nghost-%COMP%]     .history_area, [_nghost-%COMP%]     .result_area, [_nghost-%COMP%]     .scroll_area, [_nghost-%COMP%]     .tabpanel_area, [_nghost-%COMP%]     bus-home, [_nghost-%COMP%]     directions-result, [_nghost-%COMP%]     favorite-layout, [_nghost-%COMP%]     favorite-list, [_nghost-%COMP%]     favorite-result, [_nghost-%COMP%]     perfect-scrollbar, [_nghost-%COMP%]     search-layout, [_nghost-%COMP%]     search-list, [_nghost-%COMP%]     search-list-contents, [_nghost-%COMP%]     settings-config, [_nghost-%COMP%]     settings-history, [_nghost-%COMP%]     settings-home, [_nghost-%COMP%]     settings-layout{display:block!important;overflow:visible!important;height:auto!important;max-height:none}[_nghost-%COMP%]     .result_area.has_result{margin-bottom:0!important}[_nghost-%COMP%]     .spinner_box, [_nghost-%COMP%]     around-here-entry~around-here-home, [_nghost-%COMP%]     directions-details-result~.result_area, [_nghost-%COMP%]     directions-details-result~.search_area, [_nghost-%COMP%]     entry-common-detail-photo~.entry_wrap, [_nghost-%COMP%]     entry-common-detail-photo~search-box, [_nghost-%COMP%]     entry-common-detail-review~.entry_wrap, [_nghost-%COMP%]     entry-common-detail-review~search-box, [_nghost-%COMP%]     entry-layout~.scroll_area, [_nghost-%COMP%]     entry-layout~.title_area, [_nghost-%COMP%]     entry-subway-detail-exit-bus-stop~.entry_wrap, [_nghost-%COMP%]     entry-subway-detail-exit-bus-stop~search-box, [_nghost-%COMP%]     entry-subway-detail-time-table~.entry_wrap, [_nghost-%COMP%]     entry-subway-detail-time-table~search-box, [_nghost-%COMP%]     search-entry+search-list, [_nghost-%COMP%]     settings-legend~div{display:none!important}[_nghost-%COMP%]     directions-details-result .path_inner{display:block!important}[_nghost-%COMP%]     .directions-map-popup-guide-popup .directions-map-popup-guide .thumb_area:after, [_nghost-%COMP%]     directions-detail-guide-pubtransit .public_path_area .path_thumb_box:after, [_nghost-%COMP%]     entry-bus-route .route_thumb_box:after, [_nghost-%COMP%]     entry-bus-station .route_thumb_box:after, [_nghost-%COMP%]     entry-place .thumb_area .link_thumb:after, [_nghost-%COMP%]     entry-subway .panorama_box:after{opacity:.5}"]}),t})();var Tn=n("Qgge"),An=n("jhN1");let Ln=(()=>{class t{constructor(t){this.sanitizer=t}transform(t){let e;return t&&(e=t.replace(/(?:\r\n|\r|\n)/g,"<br />"),e=this.sanitizer.bypassSecurityTrustHtml(e)),e||t}}return t.\u0275fac=function(e){return new(e||t)(C.Yb(An.b))},t.\u0275pipe=C.Xb({name:"nl2br",type:t,pure:!0}),t.\u0275prov=C.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const jn=["DialogInnerLayer"];function Dn(t,e){if(1&t){const t=C.fc();C.cc(0),C.Zb(1,"strong",5),C.pc(2,"nl2br"),C.ec(3,"div",6),C.Zb(4,"p",7),C.pc(5,"nl2br"),C.dc(),C.ec(6,"div",8),C.ec(7,"button",9),C.lc("mousedown",function(){return C.Jc(t),C.oc().onClickClose()}),C.Uc(8),C.pc(9,"translate"),C.dc(),C.ec(10,"button",10),C.lc("mousedown",function(){return C.Jc(t),C.oc().onClickConfirm()}),C.Uc(11),C.pc(12,"translate"),C.dc(),C.dc(),C.bc()}if(2&t){const t=C.oc();C.Jb(1),C.wc("innerHTML",C.qc(2,4,t.title),C.Kc),C.Jb(3),C.wc("innerHTML",C.qc(5,6,t.message),C.Kc),C.Jb(4),C.Wc(" ",C.qc(9,8,"COMMON_DIALOG.CANCEL")," "),C.Jb(3),C.Wc(" ",C.qc(12,10,"COMMON_DIALOG.OK")," ")}}function Fn(t,e){if(1&t){const t=C.fc();C.cc(0),C.Zb(1,"strong",11),C.pc(2,"nl2br"),C.ec(3,"a",12),C.lc("click",function(){return C.Jc(t),C.oc().goLoginPage()}),C.Uc(4),C.pc(5,"translate"),C.dc(),C.ec(6,"button",13),C.lc("mousedown",function(){return C.Jc(t),C.oc().onClickClose()}),C.pc(7,"translate"),C.dc(),C.bc()}if(2&t){const t=C.oc();C.Jb(1),C.wc("innerHTML",C.qc(2,3,t.title),C.Kc),C.Jb(3),C.Vc(C.qc(5,5,"COMMON_DIALOG.LOGIN.TITLE")),C.Jb(2),C.Kb("aria-label",C.qc(7,7,"COMMON_DIALOG.CLOSE"))}}let Nn=(()=>{class t{constructor(t,e,n,i,o,r,a){this.member=t,this.service=e,this.commonRoutes=n,this.shortcut=i,this.zone=o,this.layoutStore=r,this.location=a,this.isForLogin=!1,this.isOpened=!1,this.title="",this.message="",this.confirmBtnTitle="",this.leftStyle=Q.fb.INIT_STYLE,this.topStyle=Q.fb.INIT_STYLE,this.isFull=!1,this.subs=[]}ngOnInit(){this.subs.push(this.layoutStore.commonDialog.stream.pipe(Object(y.a)(t=>t.action===Tn.a.OPEN)).subscribe(t=>{const e=t.data;this.isForLogin=t.login,this.isOpened=!0,this.title=e.title,this.message=e.message,this.confirmBtnTitle=e.confirmBtnTitle,this.isFull=!e.left&&!e.top,this.setPosition(e.left,e.top,e.marginBottom),this.subscribeLocation()}),this.shortcut.keydown.pipe(Object(y.a)(()=>this.isOpened),Object(y.a)(t=>t.type===V.r.Escape)).subscribe(t=>{t.data.e.preventDefault(),this.onClickClose()}))}ngOnDestroy(){this.unsubscribeLocation(),this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[]}onClickConfirm(){this.close(),this.service.confirm(),this.layoutStore.closeCommonDialog()}onClickClose(){this.close(),this.service.cancel(),this.layoutStore.closeCommonDialog()}goLoginPage(){this.member.goLoginPage()}close(){this.leftStyle=Q.fb.INIT_STYLE,this.topStyle=Q.fb.INIT_STYLE,this.isOpened=!1,this.unsubscribeLocation()}setPosition(t,e,n=0){window.setTimeout(()=>{const i=this.innerLayer.nativeElement.offsetWidth,o=this.innerLayer.nativeElement.offsetHeight;e&&window.innerHeight<o+e&&(e=window.innerHeight-o-n),this.zone.run(()=>{this.leftStyle=t?`${t+i/2}px`:Q.fb.DEFAULT.LEFT_STYLE,this.topStyle=e?`${e+o/2}px`:Q.fb.DEFAULT.TOP_STYLE})},0)}subscribeLocation(){this.unsubscribeLocation(),this.subLocation=this.location.subscribe(()=>{this.onClickClose()})}unsubscribeLocation(){this.subLocation&&!this.subLocation.closed&&this.subLocation.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(C.Yb(L.a),C.Yb(w.c),C.Yb(R.e),C.Yb(Rt.a),C.Yb(C.F),C.Yb(r.a),C.Yb(i.j))},t.\u0275cmp=C.Sb({type:t,selectors:[["common-dialog"]],viewQuery:function(t,e){if(1&t&&C.ad(jn,3),2&t){let t;C.Fc(t=C.mc())&&(e.innerLayer=t.first)}},decls:6,vars:10,consts:[[1,"layer_box"],[1,"layer_inner"],["DialogInnerLayer",""],[4,"ngIf"],[1,"layer_dimmed",3,"mousedown"],[1,"layer_title",3,"innerHTML"],[1,"layer_content"],[1,"layer_text",3,"innerHTML"],[1,"layer_btn"],["type","button",1,"btn","btn_cancel",3,"mousedown"],["type","button",1,"btn","btn_submit",3,"mousedown"],[1,"tit_login",3,"innerHTML"],["href","","preventDefault","",1,"btn_login",3,"click"],["type","button",1,"btn_close",3,"mousedown"]],template:function(t,e){1&t&&(C.ec(0,"div",0),C.ec(1,"div",1,2),C.Sc(3,Dn,13,12,"ng-container",3),C.Sc(4,Fn,8,9,"ng-container",3),C.dc(),C.ec(5,"span",4),C.lc("mousedown",function(){return e.onClickClose()}),C.dc(),C.dc()),2&t&&(C.Qb("layer_login",e.isForLogin),C.Jb(1),C.Pc("left",e.leftStyle)("top",e.topStyle),C.Jb(2),C.wc("ngIf",!e.isForLogin),C.Jb(1),C.wc("ngIf",e.isForLogin),C.Jb(1),C.Qb("full",e.isFull))},directives:[i.o,le.a],pipes:[Ln,z.c],styles:['.layer_area[_ngcontent-%COMP%]   .btn_close[_ngcontent-%COMP%], [_nghost-%COMP%]   .layer_box.layer_login[_ngcontent-%COMP%]   .btn_login[_ngcontent-%COMP%]:before{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/common.png);background-size:256px 225px}.retina[_ngcontent-%COMP%]   .layer_area[_ngcontent-%COMP%]   .btn_close[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .layer_box.layer_login[_ngcontent-%COMP%]   .btn_login[_ngcontent-%COMP%]:before{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/common@2x.png)}[_nghost-%COMP%]   .layer_box[_ngcontent-%COMP%]   .btn_close[_ngcontent-%COMP%], [_nghost-%COMP%]   .layer_box.layer_login[_ngcontent-%COMP%]   .btn_close[_ngcontent-%COMP%]{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/popup.png);background-size:201px 160px}.retina   [_nghost-%COMP%]   .layer_box[_ngcontent-%COMP%]   .btn_close[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .layer_box.layer_login[_ngcontent-%COMP%]   .btn_close[_ngcontent-%COMP%]{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/popup@2x.png)}.layer_area[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0;z-index:1000}.layer_area[_ngcontent-%COMP%]   .layer_dimmed[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(91,94,98,.4);content:""}.layer_area[_ngcontent-%COMP%]   .layer_inner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;background-color:#fff;box-shadow:0 1px 4px 0 rgba(0,0,0,.25);border-radius:2px;box-sizing:border-box;transform:translate(-50%,-50%);z-index:10}.layer_area[_ngcontent-%COMP%]   .layer_wrap[_ngcontent-%COMP%]{padding:16px 24px 25px}.layer_area[_ngcontent-%COMP%]   .layer_title[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:23px;color:#333}.layer_area[_ngcontent-%COMP%]   .layer_text[_ngcontent-%COMP%]{margin-top:28px;font-size:13px;line-height:18px;color:#333}.layer_area[_ngcontent-%COMP%]   .layer_text[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]{color:#ed0d0d}.layer_area[_ngcontent-%COMP%]   .btn_close[_ngcontent-%COMP%]{overflow:hidden;display:inline-block;width:30px;height:30px;font-size:0;color:transparent;vertical-align:top;background-position:-32px -105px;position:absolute;top:10px;right:10px}.layer_area[_ngcontent-%COMP%]   .btn_cancel[_ngcontent-%COMP%], .layer_area[_ngcontent-%COMP%]   .btn_submit[_ngcontent-%COMP%]{float:right;margin:10px 0;padding:5px;font-weight:500;font-size:14px;line-height:17px;vertical-align:top}.layer_area[_ngcontent-%COMP%]   .btn_cancel[_ngcontent-%COMP%]:disabled, .layer_area[_ngcontent-%COMP%]   .btn_submit[_ngcontent-%COMP%]:disabled{opacity:.3}.layer_area[_ngcontent-%COMP%]   .btn_submit[_ngcontent-%COMP%]{color:#0385ff}.layer_area[_ngcontent-%COMP%]   .btn_cancel[_ngcontent-%COMP%]{color:#333}[_nghost-%COMP%]   .layer_box[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0;z-index:1000}[_nghost-%COMP%]   .layer_box[_ngcontent-%COMP%]   .layer_inner[_ngcontent-%COMP%]{position:absolute;z-index:10;min-width:230px;max-width:260px;margin:4px 0 0 4px;border-radius:2px;background-color:#fff;box-shadow:0 0 0 1px rgba(0,0,0,.3),0 1px 3px 0 rgba(0,0,0,.1),0 1px 4px 0 rgba(0,0,0,.25);box-sizing:border-box}[_nghost-%COMP%]   .layer_box[_ngcontent-%COMP%]   .layer_title[_ngcontent-%COMP%]{display:block;padding:16px 51px 0 20px;font-weight:600;font-size:13px;line-height:16px;color:#333;white-space:nowrap}[_nghost-%COMP%]   .layer_box[_ngcontent-%COMP%]   .layer_content[_ngcontent-%COMP%]{padding-bottom:16px}[_nghost-%COMP%]   .layer_box[_ngcontent-%COMP%]   .layer_text[_ngcontent-%COMP%]{padding:20px 20px 5px;font-size:13px;letter-spacing:-.2px;line-height:20px;color:#333}[_nghost-%COMP%]   .layer_box[_ngcontent-%COMP%]   .layer_btn[_ngcontent-%COMP%]{text-align:right;padding:0 15px 16px}[_nghost-%COMP%]   .layer_box[_ngcontent-%COMP%]   .layer_btn[_ngcontent-%COMP%]:after{display:block;clear:both;content:""}[_nghost-%COMP%]   .layer_box[_ngcontent-%COMP%]   .layer_btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:36px;padding:4px 5px;font-weight:500;font-size:14px;line-height:17px;vertical-align:top}[_nghost-%COMP%]   .layer_box[_ngcontent-%COMP%]   .layer_btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:10px}[_nghost-%COMP%]   .layer_box[_ngcontent-%COMP%]   .layer_btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(:disabled):hover{border-radius:6px;background-color:#f0f0f0}[_nghost-%COMP%]   .layer_box[_ngcontent-%COMP%]   .layer_btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.3}[_nghost-%COMP%]   .layer_box[_ngcontent-%COMP%]   .btn_close[_ngcontent-%COMP%]{overflow:hidden;display:inline-block;width:20px;height:20px;font-size:0;color:transparent;vertical-align:top;background-position:-180px -67px;position:absolute;top:8px;right:8px}[_nghost-%COMP%]   .layer_box[_ngcontent-%COMP%]   .btn_submit[_ngcontent-%COMP%]{color:#0385ff}[_nghost-%COMP%]   .layer_box[_ngcontent-%COMP%]   .btn_cancel[_ngcontent-%COMP%]{color:#333}[_nghost-%COMP%]   .layer_box[_ngcontent-%COMP%]   .wrap_input_box[_ngcontent-%COMP%]{position:relative;padding:20px 20px 0}[_nghost-%COMP%]   .layer_box[_ngcontent-%COMP%]   .wrap_input_box[_ngcontent-%COMP%]   .txt_error[_ngcontent-%COMP%]{position:absolute;top:100%;width:100%;margin:5px 0 0;font-size:12px;line-height:14px;color:#ed0d0d}[_nghost-%COMP%]   .layer_box[_ngcontent-%COMP%]   .layer_dimmed[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0;content:""}[_nghost-%COMP%]   .layer_box.type_alert[_ngcontent-%COMP%]   .layer_inner[_ngcontent-%COMP%]{max-width:none;width:278px}[_nghost-%COMP%]   .layer_box.type_alert[_ngcontent-%COMP%]   .layer_title[_ngcontent-%COMP%]{padding:20px 24px 0}[_nghost-%COMP%]   .layer_box[_ngcontent-%COMP%]:not(.layer_login){left:61px;right:auto;width:390px}[_nghost-%COMP%]   .layer_box[_ngcontent-%COMP%]   .layer_inner[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%);min-width:260px;margin:0}[_nghost-%COMP%]   .layer_box.layer_login[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .layer_box.layer_login[_ngcontent-%COMP%]   .layer_inner[_ngcontent-%COMP%]{min-width:230px;max-width:none}[_nghost-%COMP%]   .layer_box.layer_login[_ngcontent-%COMP%]   .layer_dimmed.full[_ngcontent-%COMP%]{background-color:rgba(91,94,98,.4)}[_nghost-%COMP%]   .layer_box.layer_login[_ngcontent-%COMP%]   .btn_close[_ngcontent-%COMP%]{overflow:hidden;display:inline-block;width:20px;height:20px;font-size:0;color:transparent;vertical-align:top;background-position:-180px -67px;top:8px;right:8px}[_nghost-%COMP%]   .layer_box.layer_login[_ngcontent-%COMP%]   .tit_login[_ngcontent-%COMP%]{display:block;padding:39px 0 0;font-weight:400;font-size:14px;line-height:1.36;color:#333}[_nghost-%COMP%]   .layer_box.layer_login[_ngcontent-%COMP%]   .dsc_login[_ngcontent-%COMP%]{margin:10px 0 0;font-size:13px;line-height:20px}[_nghost-%COMP%]   .layer_box.layer_login[_ngcontent-%COMP%]   .btn_login[_ngcontent-%COMP%]{display:inline-block;margin:17px auto 30px;padding:0 18px;height:33px;box-sizing:border-box;line-height:31px;font-size:14px;color:#fff;letter-spacing:-.7px;background:#03c75a;border-radius:3px}[_nghost-%COMP%]   .layer_box.layer_login[_ngcontent-%COMP%]   .btn_login[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:10px;height:9px;font-size:0;color:transparent;vertical-align:top;background-position:-226px -137px;vertical-align:1px;margin-right:6px;content:""}[_nghost-%COMP%]   .layer_box.layer_login[_ngcontent-%COMP%]   .list_login_link[_ngcontent-%COMP%]{margin:12px 0 20px;font-size:0}[_nghost-%COMP%]   .layer_box.layer_login[_ngcontent-%COMP%]   .list_login_link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:11px;line-height:18px;color:#666}[_nghost-%COMP%]   .layer_box.layer_login[_ngcontent-%COMP%]   .list_login_link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] + a[_ngcontent-%COMP%]:before{overflow:hidden;content:"";display:inline-block;width:0;height:8px;border-left:1px solid #e2e2e2;margin:0 9px}']}),t})();const Bn=["mapControlBox"];function Un(t,e){1&t&&C.Zb(0,"maps-controller")}function Vn(t,e){1&t&&C.Zb(0,"report-map-screenshot")}function zn(t,e){1&t&&C.Zb(0,"panorama-layout")}function Wn(t,e){1&t&&C.Zb(0,"print-layout")}function Hn(t,e){1&t&&C.Zb(0,"common-dialog")}function qn(t,e){1&t&&C.Zb(0,"dynamic-content-outlet",12),2&t&&C.wc("componentName","FavoritePopupListComponent")}function Yn(t,e){1&t&&C.Zb(0,"dynamic-content-outlet",12),2&t&&C.wc("componentName","FavoritePopupFolderComponent")}function Jn(t,e){1&t&&C.Zb(0,"dynamic-content-outlet",12),2&t&&C.wc("componentName","FavoritePopupBookmarkComponent")}function Gn(t,e){1&t&&C.Zb(0,"dynamic-content-outlet",12),2&t&&C.wc("componentName","FavoritePopupDisplayNameComponent")}function Xn(t,e){1&t&&C.Zb(0,"dynamic-content-outlet",12),2&t&&C.wc("componentName","FavoritePopupMemoComponent")}function Kn(t,e){1&t&&C.Zb(0,"dynamic-content-outlet",12),2&t&&C.wc("componentName","FavoritePopupMenuComponent")}function Zn(t,e){1&t&&C.Zb(0,"dynamic-content-outlet",12),2&t&&C.wc("componentName","FavoritePopupPreloadComponent")}function $n(t,e){1&t&&C.Zb(0,"dynamic-content-outlet",12),2&t&&C.wc("componentName","CommonPopupPreloadComponent")}function Qn(t,e){1&t&&C.Zb(0,"dynamic-content-outlet",12),2&t&&C.wc("componentName","LocationInfoWidgetComponent")}function ti(t,e){1&t&&C.Zb(0,"dynamic-content-outlet",12),2&t&&C.wc("componentName","CctvPopupComponent")}function ei(t,e){1&t&&C.Zb(0,"dynamic-content-outlet",12),2&t&&C.wc("componentName","DirectionsSettingsComponent")}function ni(t,e){1&t&&C.Zb(0,"dynamic-content-outlet",12),2&t&&C.wc("componentName","PhotoViewerComponent")}function ii(t,e){1&t&&C.Zb(0,"dynamic-content-outlet",12),2&t&&C.wc("componentName","PromotionPopupComponent")}function oi(t,e){1&t&&C.Zb(0,"dynamic-content-outlet",12),2&t&&C.wc("componentName","CampaignPopupComponent")}function ri(t,e){1&t&&C.Zb(0,"dynamic-content-outlet",12),2&t&&C.wc("componentName","SummaryCardComponent")}let ai=(()=>{class t{constructor(t,e,n,i,o,r,a,s,c,l,u,p,h,d,g,f,b,O,C,P,k,S,I,R,T,A,L,j,D,F,N){this.layoutStore=t,this.favoriteStore=e,this.utils=n,this.componentFactoryResolver=i,this.zone=o,this.maps=r,this.renderer=a,this.routes=s,this.mapData=c,this.router=l,this.locationInfo=u,this.transit=p,this.bookmark=h,this.globalLayout=d,this.directionsUtilService=g,this.contextMenu=f,this.uaParser=b,this.printService=O,this.panorama=C,this.network=P,this.member=k,this.status=S,this.moduleService=I,this.toolbox=R,this.msg=T,this.commonDialogService=A,this.mapsInitiator=L,this.cctv=j,this.store=D,this.session=F,this.reportFacade=N,this.hideControls=!1,this.mapsReady=!1,this.isSubway=!1,this.isPrint=!1,this.isShowScreenshot=!1,this.globalLayoutState={prev:E.c.Normal,current:E.c.Normal},this.msgStyleLeft="",this.msgStyleBottom="",this.currentModuleType="",this.isOpenedSummaryCard$=Object(G.j)(this.store),this.subs=[],v.a.of("time").info("layout.component"),this.uaParser.init(this.renderer),this.network.activate(),this.bookmark.activate(),this.maps.onReady(()=>{this.zone.run(()=>{this.mapsReady=!0,this.locationInfo.activate(this.componentFactoryResolver),this.transit.activate(),this.initContextMenu()})}),this.subs.push(this.globalLayout.events.subscribe(t=>{switch(t.type){case E.a.GlobalLayoutChanged:this.onGlobalLayoutChanged(t.data);break;case E.a.MapsLayoutChanged:this.onMapsLayoutChanged(t.data)}})),this.subs.push(this.reportFacade.isShowReportScreenshot.subscribe(t=>{this.isShowScreenshot=t.isShow})),this.subs.push(this.maps.afterInstanceReady().pipe(Object(m.a)(()=>this.routes.events),Object(_.a)(()=>this.routes.getRouterParams())).subscribe(t=>{switch(this.isSubway="subway"===t.module,this.isSubway&&""!==this.routes.prevData.coordinatesText&&this.toolbox.deactivateAll(),this.moduleService.currentActiveModule={name:t.module},this.resetPopupOpenStatus(),this.moduleService.currentActiveModule.name){case M.Home:this.globalLayout.isDefaultPopupOpen=!0;break;case M.Search:this.globalLayout.isSearchLayoutPopupOpen=!0}})),this.subs.push(this.msg.change.pipe(Object(y.a)(t=>t.type===x.a.Open)).subscribe(t=>{this.msgStyleLeft=t.data.left,this.msgStyleBottom=t.data.bottom})),this.subs.push(this.commonDialogService.events.pipe(Object(y.a)(t=>t.type===w.a.Show||t.type===w.a.ShowLogin)).subscribe(t=>{this.commonDialogResponse=t})),this.member.preloadLoginStatus(),this.member.preloadLoginInfo(),this.initNxParamsForBooking()}get isOpenLayerPopup(){return this.status.isOpenLayerPopup}ngOnInit(){this.showCustomPin(),this.showCCTV(),this.subs.push(this.routes.firedNavigationStart.subscribe(t=>{this.currentModuleType=t})),this.subs.push(this.printService.events.subscribe(t=>{this.isPrint=t.data===q.b.Show,this.isPrint?document.body.setAttribute("style","overflow:auto; height:auto"):document.body.setAttribute("style","")})),Object(J.f)(this.store)}ngAfterViewInit(){this.maps.mapControlBox=this.mapControlBox}ngOnDestroy(){this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[],this.locationInfo.deactivate(),this.bookmark.deactivate(),this.transit.deactivate(),this.network.deactivate(),Object(J.g)()}initContextMenu(){this.subs.push(this.contextMenu.menuClicked.subscribe(t=>{this.onContextMenuClicked(t)}),this.maps.events.contextMenu.pipe(Object(y.a)(t=>{if(this.status.isMeasureMode)return!1;if(!t.lngLat)return!1;const e=t.features;return!e||0===e.length||"major"!==e[0].properties.type}),Object(O.a)(t=>{const{lngLat:e,offset:n}=t,i=Object(it.i)(this.maps.engine,n);this.mapData.updatePoiAndAddressForContextMenu(i,e),this.contextMenu.show({lngLat:e,point:i})}),Object(m.a)(()=>Object(s.a)(this.maps.events.mouseDown,Object(c.a)(document.body,"mousedown"),Object(c.a)(document.body,"touchstart"),Object(c.a)(document.body,"touchmove")).pipe(Object(y.a)(()=>this.contextMenu.active)))).subscribe(t=>{t.stopPropagation(),this.contextMenu.hide(),t&&t.originalEvent&&t.originalEvent.stopPropagation&&t.originalEvent.stopPropagation()}))}onActivate(){}resetPopupOpenStatus(){this.globalLayout.isDefaultPopupOpen=!1,this.globalLayout.isSearchLayoutPopupOpen=!1}onGlobalLayoutChanged(t){this.globalLayoutState.prev=this.globalLayoutState.current,this.globalLayoutState.current=t,t===E.c.Normal||t===E.c.ResultFold?this.resultPanelOpenMode=!1:t===E.c.Result&&(this.resultPanelOpenMode=!0)}onMapsLayoutChanged(t){const e=t!==l.d.Normal;e!==this.hideControls&&(this.hideControls=e)}onContextMenuClicked(t){switch(t.key){case h.a.showPanorama:this.panorama.tryPanoramaViewer({lng:t.lngLat.lng,lat:t.lngLat.lat});break;case h.a.measureDistance:this.toolbox.activateDistance();break;case h.a.deleteDistance:this.toolbox.deactivateDistance();break;case h.a.measureArea:this.toolbox.activateArea();break;case h.a.deleteArea:this.toolbox.deactivateArea();break;case h.a.measureRadius:this.toolbox.activateRadius();break;case h.a.deleteRadius:this.toolbox.deactivateRadius();break;case h.a.setStart:this.goDirectionsByContextMenu(u.b.Start,t);break;case h.a.setGoal:this.goDirectionsByContextMenu(u.b.Goal,t);break;case h.a.addWaypoint:this.goDirectionsByContextMenu(u.b.Via,t)}}goDirectionsByContextMenu(t,e){const n=Object(Z.l)(this.store),i=this.directionsUtilService.mapsPoiToDirectionsPoi(this.toMapsPoi(e));let o;switch(t){case u.b.Start:o={start:i};break;case u.b.Goal:o={goal:i};break;case u.b.Via:o={via:Object(Z.q)(this.store)?(n.via||[]).concat(i):[i]}}this.store.dispatch(Object(Z.I)({payload:o})),this.store.dispatch(Object(Z.f)())}toMapsPoi(t){const e=t.lngLat.lng,n=t.lngLat.lat,i={coordinates:{lng:e,lat:n}},o=(this.maps.queryRenderedFeatures({x:e,y:n},{filter:["in","type","major",l.f.Place,l.f.BusStation,l.f.SubwayStation]})||[null])[0],r=o?o.properties.type:"",a=r&&o.geometry.coordinates||null;let s="",c="",u="";switch(a&&(i.coordinates={lng:a[0],lat:a[1]}),r){case l.f.Place:s=o.properties.id,c=o.properties.name||o.properties.name_dp,u=this.toSearchHistoryType(r);break;case l.f.BusStation:s=o.properties.id,c=o.properties.station_name,u=this.toSearchHistoryType(r);break;case l.f.SubwayStation:s=o.properties.id,c=o.properties.name_dp,u=this.toSearchHistoryType(r);break;case"major":const t=this.routes.getRouterParams(),e=t.valueByOrder,n=t.keyByOrder,i=n.indexOf("id"),a=n.indexOf("type");s=i>0?e[i]:"",u=this.toSearchHistoryType(e[a]),c=o.layer.layout["text-field"]}return i.id=s,c&&(i.name=Object(X.h)(c)),u&&(i.type=u),i}toSearchHistoryType(t){switch(t){case l.f.Place:return p.c.PlacePoi;case l.f.BusStation:return p.c.BusStop;case l.f.SubwayStation:return p.c.SubwayStation;default:return p.c.SimplePoi}}showCustomPin(){this.maps.onReady(()=>{const t=location.pathname.split("/").filter(t=>t);if(!Array.isArray(t)||t.length>1)return;const{title:e,summaryCard:n}=this.routes.getRouterParams().queryParams;(e||n)&&(e?this.showLocationInfo(e):n&&this.showSummaryCard(n))})}showCCTV(){const t=this.routes.getRouterParams().queryParams.cctvId;t&&this.maps.onReady(()=>{this.cctv.selectCctv(0,parseInt(t,10))})}initNxParamsForBooking(){const t=this.routes.getRouterParams().queryParams[R.b.PlaceSearchOption];if(!t)return;const e=t.split("&").filter(t=>Q.ic.find(e=>t.indexOf(e)>-1));e.length>0&&this.session.set(Q.Uc,e.join("&"))}showLocationInfo(t){const{lng:e,lat:n}=this.maps.getCenter();this.locationInfo.getLocationInfoByCoordinates(e,n).subscribe(e=>{e.title=t,this.layoutStore.openLocationInfoWidgetPopup({data:e})})}showSummaryCard(t){const[e,n,i,o]=decodeURIComponent(t).split("|"),r=Object(tt.c)({lng:parseFloat(e),lat:parseFloat(n)}),a={type:"Point",coordinates:[r.lng,r.lat]},s={type:i,id:o},c=Object(et.feature)(a,s);this.store.dispatch(Object(G.e)({payload:c}))}}return t.\u0275fac=function(e){return new(e||t)(C.Yb(r.a),C.Yb(a.a),C.Yb(I.a),C.Yb(C.l),C.Yb(C.F),C.Yb(D.a),C.Yb(C.L),C.Yb(R.e),C.Yb(W),C.Yb(o.h),C.Yb(d.a),C.Yb(g.a),C.Yb(K.a),C.Yb(E.b),C.Yb(k.c),C.Yb(h.b),C.Yb(T.a),C.Yb(H.a),C.Yb(b.a),C.Yb(A.a),C.Yb(L.a),C.Yb(j.e),C.Yb(P),C.Yb(f.f),C.Yb(x.b),C.Yb(w.c),C.Yb(S.a),C.Yb(Y.a),C.Yb(ot.h),C.Yb($.b),C.Yb(nt.a))},t.\u0275cmp=C.Sb({type:t,selectors:[["layout"]],viewQuery:function(t,e){if(1&t&&C.ad(Bn,3),2&t){let t;C.Fc(t=C.mc())&&(e.mapControlBox=t.first)}},decls:37,vars:34,consts:[["id","sPlugin_popup_base"],[1,"u_skip"],["href","#container","onclick","document.getElementById('container').tabIndex = -1;document.getElementById('container').focus();return false;"],["href","#sidebar","onclick","document.getElementById('sidebar').tabIndex = -1;document.getElementById('sidebar').focus();return false;"],[1,"map_container"],["id","sidebar",1,"sidebar"],["id","container",1,"container"],[3,"activate"],[1,"map_box"],["mapControlBox",""],[4,"ngIf"],[3,"componentName",4,"ngIf"],[3,"componentName"]],template:function(t,e){1&t&&(C.Zb(0,"div",0),C.ec(1,"div",1),C.ec(2,"a",2),C.ec(3,"span"),C.Uc(4,"\ubcf8\ubb38 \ubc14\ub85c\uac00\uae30"),C.dc(),C.dc(),C.ec(5,"a",3),C.ec(6,"span"),C.Uc(7,"\uc8fc \uba54\ub274 \ubc14\ub85c\uac00\uae30"),C.dc(),C.dc(),C.dc(),C.ec(8,"div",4),C.ec(9,"div",5),C.Zb(10,"navbar"),C.dc(),C.ec(11,"div",6),C.ec(12,"router-outlet",7),C.lc("activate",function(){return e.onActivate()}),C.dc(),C.ec(13,"div",8,9),C.Sc(15,Un,1,0,"maps-controller",10),C.Sc(16,Vn,1,0,"report-map-screenshot",10),C.dc(),C.dc(),C.Sc(17,zn,1,0,"panorama-layout",10),C.dc(),C.Sc(18,Wn,1,0,"print-layout",10),C.Zb(19,"message"),C.Sc(20,Hn,1,0,"common-dialog",10),C.Sc(21,qn,1,1,"dynamic-content-outlet",11),C.Sc(22,Yn,1,1,"dynamic-content-outlet",11),C.Sc(23,Jn,1,1,"dynamic-content-outlet",11),C.Sc(24,Gn,1,1,"dynamic-content-outlet",11),C.Sc(25,Xn,1,1,"dynamic-content-outlet",11),C.Sc(26,Kn,1,1,"dynamic-content-outlet",11),C.Sc(27,Zn,1,1,"dynamic-content-outlet",11),C.Sc(28,$n,1,1,"dynamic-content-outlet",11),C.Sc(29,Qn,1,1,"dynamic-content-outlet",11),C.Sc(30,ti,1,1,"dynamic-content-outlet",11),C.Sc(31,ei,1,1,"dynamic-content-outlet",11),C.Sc(32,ni,1,1,"dynamic-content-outlet",11),C.Sc(33,ii,1,1,"dynamic-content-outlet",11),C.Sc(34,oi,1,1,"dynamic-content-outlet",11),C.Sc(35,ri,1,1,"dynamic-content-outlet",11),C.pc(36,"async")),2&t&&(C.Jb(8),C.Qb("print",e.isPrint)("panorama",e.hideControls)("fold",!e.resultPanelOpenMode),C.Jb(1),C.Qb("open_layer",e.isOpenLayerPopup),C.Jb(6),C.wc("ngIf",!e.isSubway&&!e.isShowScreenshot),C.Jb(1),C.wc("ngIf",e.isShowScreenshot),C.Jb(1),C.wc("ngIf",e.mapsReady),C.Jb(1),C.wc("ngIf",e.isPrint),C.Jb(1),C.Pc("left",e.msgStyleLeft)("bottom",e.msgStyleBottom),C.Jb(1),C.wc("ngIf",e.layoutStore.commonDialog.state.visible),C.Jb(1),C.wc("ngIf",e.favoriteStore.popupList.state.visible),C.Jb(1),C.wc("ngIf",e.favoriteStore.popupFolder.state.visible),C.Jb(1),C.wc("ngIf",e.favoriteStore.popupBookmark.state.visible),C.Jb(1),C.wc("ngIf",e.favoriteStore.popupDisplayName.state.visible),C.Jb(1),C.wc("ngIf",e.favoriteStore.popupMemo.state.visible),C.Jb(1),C.wc("ngIf",e.favoriteStore.popupMenu.state.visible),C.Jb(1),C.wc("ngIf",e.favoriteStore.popupPreload.state.visible),C.Jb(1),C.wc("ngIf",e.layoutStore.popupPreload.state.visible),C.Jb(1),C.wc("ngIf",e.layoutStore.popupLocationInfoWidget.state.visible),C.Jb(1),C.wc("ngIf",e.layoutStore.popupCctv.state.visible),C.Jb(1),C.wc("ngIf",e.layoutStore.popupDirectionsSettings.state.visible),C.Jb(1),C.wc("ngIf",e.layoutStore.popupPhotoViewer.state.visible),C.Jb(1),C.wc("ngIf",e.layoutStore.popupPromotion.state.visible),C.Jb(1),C.wc("ngIf",e.layoutStore.popupCampaign.state.visible),C.Jb(1),C.wc("ngIf",C.qc(36,32,e.isOpenedSummaryCard$)))},directives:[Pt,o.l,i.o,kt,gn,Cn,Pn.a,Rn,Nn,qt.a],pipes:[i.b],styles:['[_nghost-%COMP%]   .map_container.panorama[_ngcontent-%COMP%]     control-bottom-widget-holder .btn_zoom_in, [_nghost-%COMP%]   .map_container.panorama[_ngcontent-%COMP%]     control-bottom-widget-holder .btn_zoom_in:hover, [_nghost-%COMP%]   .map_container.panorama[_ngcontent-%COMP%]     control-bottom-widget-holder .btn_zoom_out, [_nghost-%COMP%]   .map_container.panorama[_ngcontent-%COMP%]     control-bottom-widget-holder .btn_zoom_out:hover{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/panorama.png);background-size:252px 227px}.retina   [_nghost-%COMP%]   .map_container.panorama[_ngcontent-%COMP%]     control-bottom-widget-holder .btn_zoom_in, .retina   [_nghost-%COMP%]   .map_container.panorama[_ngcontent-%COMP%]     control-bottom-widget-holder .btn_zoom_in:hover, .retina   [_nghost-%COMP%]   .map_container.panorama[_ngcontent-%COMP%]     control-bottom-widget-holder .btn_zoom_out, .retina   [_nghost-%COMP%]   .map_container.panorama[_ngcontent-%COMP%]     control-bottom-widget-holder .btn_zoom_out:hover{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/panorama@2x.png)}[_nghost-%COMP%]{display:block;height:100%;-ms-user-select:none;-moz-user-select:-moz-none;-webkit-user-select:none;user-select:none}.tablet   [_nghost-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0}[_nghost-%COMP%]   #sPlugin_popup_base[_ngcontent-%COMP%]{width:0;height:0}[_nghost-%COMP%]   .map_container[_ngcontent-%COMP%]{display:flex;height:100%}[_nghost-%COMP%]   .map_container.panorama[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:static}[_nghost-%COMP%]   .map_container.panorama[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   maps-layout[_ngcontent-%COMP%]{z-index:1100}[_nghost-%COMP%]   .map_container.panorama[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   maps-layout[_ngcontent-%COMP%]     .bus-station-popup{display:none}[_nghost-%COMP%]   .map_container.panorama[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   maps-layout[_ngcontent-%COMP%]     map-container{position:absolute;top:0;right:0;bottom:0;left:0}[_nghost-%COMP%]   .map_container.panorama[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   maps-layout[_ngcontent-%COMP%]     map-container .map-container{position:absolute!important;left:0;top:0;right:0;bottom:0;width:100%;height:100%}[_nghost-%COMP%]   .map_container.panorama[_ngcontent-%COMP%]   .map_box[_ngcontent-%COMP%]{position:static}[_nghost-%COMP%]   .map_container.panorama[_ngcontent-%COMP%]   panorama-layout[_ngcontent-%COMP%]{display:flex;z-index:1000}[_nghost-%COMP%]   .map_container.panorama[_ngcontent-%COMP%]   .popup_box[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .map_container.panorama[_ngcontent-%COMP%]     .size_control{display:block}[_nghost-%COMP%]   .map_container.panorama[_ngcontent-%COMP%]     control-bottom-widget-holder{bottom:8px;right:8px}[_nghost-%COMP%]   .map_container.panorama[_ngcontent-%COMP%]     control-bottom-widget-holder .list_control{width:29px}[_nghost-%COMP%]   .map_container.panorama[_ngcontent-%COMP%]     control-bottom-widget-holder .range_box{display:none}[_nghost-%COMP%]   .map_container.panorama[_ngcontent-%COMP%]     control-bottom-widget-holder .btn_zoom_in{overflow:hidden;display:inline-block;width:27px;height:27px;font-size:0;color:transparent;vertical-align:top;background-position:-200px -146px}[_nghost-%COMP%]   .map_container.panorama[_ngcontent-%COMP%]     control-bottom-widget-holder .btn_zoom_in:hover{overflow:hidden;display:inline-block;width:27px;height:27px;font-size:0;color:transparent;vertical-align:top;background-position:-200px -117px}[_nghost-%COMP%]   .map_container.panorama[_ngcontent-%COMP%]     control-bottom-widget-holder .btn_zoom_out{overflow:hidden;display:inline-block;width:27px;height:26px;font-size:0;color:transparent;vertical-align:top;background-position:-126px -60px;border:none}[_nghost-%COMP%]   .map_container.panorama[_ngcontent-%COMP%]     control-bottom-widget-holder .btn_zoom_out:hover{overflow:hidden;display:inline-block;width:27px;height:26px;font-size:0;color:transparent;vertical-align:top;background-position:-130px -24px}[_nghost-%COMP%]   .map_container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{position:relative;z-index:210;box-sizing:border-box}[_nghost-%COMP%]   .map_container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]:after{position:absolute;top:0;right:0;bottom:0;width:1px;background:#d9d9d9;content:""}[_nghost-%COMP%]   .map_container[_ngcontent-%COMP%]   .sidebar.open_layer[_ngcontent-%COMP%]{z-index:10}[_nghost-%COMP%]   .map_container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;flex:1 0 auto}[_nghost-%COMP%]   .map_container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .hide[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .map_container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   maps-layout[_ngcontent-%COMP%]{z-index:0}[_nghost-%COMP%]   .map_container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   maps-layout[_ngcontent-%COMP%], [_nghost-%COMP%]   .map_container[_ngcontent-%COMP%]   .map_box[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0}[_nghost-%COMP%]   .map_container[_ngcontent-%COMP%]   panorama-layout[_ngcontent-%COMP%]{z-index:0}[_nghost-%COMP%]   .print[_ngcontent-%COMP%]{display:none;height:0}[_nghost-%COMP%]     message{position:absolute;left:50%;bottom:15px;transform:translate(-50%);z-index:2000}[_nghost-%COMP%]   nm-spinner[_ngcontent-%COMP%]{z-index:1100}[_nghost-%COMP%]   .dimmed[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;background-color:hsla(0,0%,100%,.35);z-index:1000}[_nghost-%COMP%]   .u_skip[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .u_skip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;top:-30px;left:0;width:138px;border:1px solid #4ec53d;background:#333;text-align:center}[_nghost-%COMP%]   .u_skip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .u_skip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{top:0;z-index:1000;text-decoration:none}[_nghost-%COMP%]   .u_skip[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;padding:2px 6px 0 0;color:#fff;letter-spacing:-1px;font-size:13px;line-height:26px}']}),t})();var si=n("Kj3r"),ci=n("0pZ/");let li=(()=>{class t{constructor(t,e,n,i,o,r){this.maps=t,this.location=e,this.commonRoutes=n,this.status=i,this.router=o,this.zone=r,this.retryBreakCount=0,this.init()}syncMapPositionFromCoordQueryParam(t,e){if(this.status.isPanoramaViewerMode)return this.success();if(!this.maps.instanceReady)return this.success();const n=R.e.parseCoordinates(e);if(!n.lng||!n.lat)return this.success();if(this.extraCQueryString(t)===e)return this.success();const i=this.maps.getCenter(),o=this.maps.getZoom();return Math.abs(i.lng-n.lng)<1e-5&&Math.abs(i.lat-n.lat)<1e-5&&Math.abs(o-n.zoom)<.01||this.retryBreakCount>=3?this.success():(this.retryBreakCount+=1,this.maps.moveTo({center:{lng:n.lng,lat:n.lat},zoom:n.zoom,bearing:n.rotate,pitch:n.tilt,withPadding:!1}),this.maps.events.moveEnd.pipe(Object(Lt.a)(),Object(jt.a)(500),Object(m.a)(()=>{const e=t.slice(1).split("/");return this.router.navigate(e,{replaceUrl:!0,queryParams:{c:R.e.getCoordinatesFromMaps(this.maps,n.mapTypes,n.mapLayers)}})}),Object(_.a)(()=>!0),Object(Dt.a)(()=>Object(N.a)(!1))))}success(){return this.retryBreakCount=0,Object(N.a)(!0)}init(){this.router.events.pipe(Object(y.a)(t=>t instanceof o.e),Object(Lt.a)()).subscribe(()=>{this.detectMapMoveEnd(),this.detectChangeLocationWithoutRouter()})}detectChangeLocationWithoutRouter(){this.location.subscribe(t=>{if("popstate"!==t.type)return;const e=t.url;if(!e)return;const[n,i]=e.split("?"),o=i.split("&").map(t=>t.split("=")).filter(([t])=>t===R.b.Coordinates).map(([,t])=>t).find((t,e)=>0===e);o&&this.syncMapPositionFromCoordQueryParam(n,o)})}detectMapMoveEnd(){this.maps.onInstanceReady(()=>{this.setInitialCoordinates(),this.maps.events.orgMoveEnd.pipe(Object(si.a)(100),Object(ci.a)(this.zone),Object(y.a)(()=>!this.maps.isMoving)).subscribe(()=>this.syncCoordQueryParamFromChangedMapPosition())})}setInitialCoordinates(){const t=this.commonRoutes.getRouterParams();t.coordinates||this.commonRoutes.navigate(t.valueByOrder,{replaceUrl:!0,queryParams:Object.assign(Object.assign({},t.queryParams),{c:R.e.getCoordinatesFromMaps(this.maps)})})}syncCoordQueryParamFromChangedMapPosition(){const t=this.commonRoutes.getRouterParams();t&&t.coordinates&&t.coordinates.mapTypes&&this.commonRoutes.navigate(t.valueByOrder,{replaceUrl:!0,queryParamsHandling:"merge",queryParams:{c:R.e.getCoordinatesFromMaps(this.maps,t.coordinates.mapTypes,t.coordinates.mapLayers)}})}extraCQueryString(t){const e=t.split("?");if(e.length<2)return null;const n=e[1].split("&").find(t=>{const[e,n]=t.split("=");return!(!e||!n)&&"c"===e}).split("=");return 2===n.length?n[1]:null}}return t.\u0275fac=function(e){return new(e||t)(C.ic(D.a),C.ic(i.j),C.ic(R.e),C.ic(j.e),C.ic(o.h),C.ic(C.F))},t.\u0275prov=C.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ui=(()=>{class t{constructor(t,e){this.commonRoutesService=t,this.syncMapAndRouteService=e}canActivate(t,e){this.sub&&!this.sub.closed&&this.sub.unsubscribe();const n=this.commonRoutesService.getRouterParams();return!t.queryParams.hasOwnProperty("c")||!n.coordinates||this.syncMapAndRouteService.syncMapPositionFromCoordQueryParam(e.url,t.queryParams.c)}}return t.\u0275fac=function(e){return new(e||t)(C.ic(R.e),C.ic(li))},t.\u0275prov=C.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var pi=n("7Hc7"),hi=n("pxpQ"),di=n("PaUx");const gi=function(t){return{expand:t}};let fi=(()=>{class t{constructor(t,e){this.nClickService=t,this.store=e,this.isFold$=Object(ct.r)(this.store).pipe(Object(O.a)(t=>this.isFold=t))}togglePanelMode(t){t.stopPropagation(),this.store.dispatch(Object(ct.o)()),this.nClickService.nClick(t,this.isFold?rt.a.ALL_PANEL_FOLD:rt.a.ALL_PANEL_UNFOLD)}}return t.\u0275fac=function(e){return new(e||t)(C.Yb(ht.a),C.Yb(ot.h))},t.\u0275cmp=C.Sb({type:t,selectors:[["result-panel-folding-button"]],decls:4,vars:8,consts:[["type","button",1,"btn_fold",3,"ngClass","click","mousedown"]],template:function(t,e){1&t&&(C.ec(0,"button",0),C.lc("click",function(t){return e.togglePanelMode(t)})("mousedown",function(t){return t.stopPropagation()}),C.pc(1,"isFalse"),C.pc(2,"async"),C.Uc(3),C.dc()),2&t&&(C.wc("ngClass",C.Bc(6,gi,C.qc(1,2,C.qc(2,4,e.isFold$)))),C.Jb(3),C.Wc(" ",e.isFold?"\ud3bc\uce58\uae30":"\uc811\uae30","\n"))},directives:[i.m],pipes:[di.a,i.b],styles:["[_nghost-%COMP%]   .btn_fold[_ngcontent-%COMP%], [_nghost-%COMP%]   .btn_fold.expand[_ngcontent-%COMP%], [_nghost-%COMP%]   .btn_fold.expand[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .btn_fold[_ngcontent-%COMP%]:hover{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/home.png);background-size:508px 492px}.retina   [_nghost-%COMP%]   .btn_fold[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .btn_fold.expand[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .btn_fold.expand[_ngcontent-%COMP%]:hover, .retina   [_nghost-%COMP%]   .btn_fold[_ngcontent-%COMP%]:hover{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/home@2x.png)}[_nghost-%COMP%]{position:absolute;top:50%;left:100%;transform:translateY(-50%);z-index:10}.hide[_nghost-%COMP%]{display:none}[_nghost-%COMP%]   .btn_fold[_ngcontent-%COMP%]{background-position:-428px -347px}[_nghost-%COMP%]   .btn_fold[_ngcontent-%COMP%], [_nghost-%COMP%]   .btn_fold[_ngcontent-%COMP%]:hover{overflow:hidden;display:inline-block;width:22px;height:49px;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .btn_fold[_ngcontent-%COMP%]:hover{background-position:-428px -296px}[_nghost-%COMP%]   .btn_fold.expand[_ngcontent-%COMP%]{background-position:-428px -245px}[_nghost-%COMP%]   .btn_fold.expand[_ngcontent-%COMP%], [_nghost-%COMP%]   .btn_fold.expand[_ngcontent-%COMP%]:hover{overflow:hidden;display:inline-block;width:22px;height:49px;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .btn_fold.expand[_ngcontent-%COMP%]:hover{background-position:-428px -194px}"]}),t})();var bi=n("sqXS");function mi(t,e){if(1&t&&C.Zb(0,"result-panel-folding-button"),2&t){const t=C.oc();C.Qb("hide","hide"===t.hideState)}}function _i(t,e){1&t&&C.Zb(0,"report-container",3)}let yi=(()=>{class t{constructor(t,e,n,i){this.activeRoute=t,this.store=e,this.reportFacade=n,this.cd=i,this.foldState=Object(ct.d)(this.store)?"fold":"unfold",this.hideState=Object(ct.e)(this.store)?"hide":"show",this.shrinkState="shrink",this.isShowReportContainer=!1,this.isShowReportScreenshot=!1,this.subs=[],this.isHideState$=Object(ct.s)(this.store),this.isFoldState$=Object(ct.r)(this.store),this.isShrinkState$=Object(ct.v)(this.store),this.isRunningState$=Object(ct.u)(this.store)}ngOnInit(){this.store.dispatch(Object(ct.l)()),this.subscribePanelStore(),this.subscribeReportObservable()}ngOnDestroy(){this.store.dispatch(Object(ct.i)()),this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[]}startAnimation(){this.store.dispatch(Object(ct.n)())}afterAnimation(){this.store.dispatch(Object(ct.a)())}subscribePanelStore(){this.subs.push(this.isHideState$.pipe(Object(hi.b)(pi.a)).subscribe(t=>this.hideState=t?"hide":"show"),this.isFoldState$.pipe(Object(hi.b)(pi.a)).subscribe(t=>this.foldState=t?"fold":"unfold"),this.isShrinkState$.pipe(Object(hi.b)(pi.a)).subscribe(t=>this.shrinkState=t?"shrink":"expand"))}subscribeReportObservable(){this.subs.push(this.reportFacade.isShow.pipe(Object(y.a)(t=>t.parent===Nt.c.ShrinkableLayout)).subscribe(t=>{this.isShowReportContainer=t.isShow,this.cd.detectChanges()}),this.reportFacade.isShowReportScreenshot.subscribe(t=>{this.isShowReportScreenshot=t.isShow,this.cd.detectChanges()}))}}return t.\u0275fac=function(e){return new(e||t)(C.Yb(o.a),C.Yb(ot.h),C.Yb(nt.a),C.Yb(C.i))},t.\u0275cmp=C.Sb({type:t,selectors:[["shrinkable-layout"]],hostVars:2,hostBindings:function(t,e){1&t&&C.Qc("@foldPanel.start",function(){return e.startAnimation()})("@hidePanel.start",function(){return e.startAnimation()})("@foldPanel.done",function(){return e.afterAnimation()})("@hidePanel.done",function(){return e.afterAnimation()}),2&t&&C.Rc("@foldPanel",e.foldState)("@hidePanel",e.hideState)},decls:4,vars:4,consts:[[3,"hide",4,"ngIf"],[1,"panel_wrap"],["parent","shrinkable-layout",4,"ngIf"],["parent","shrinkable-layout"]],template:function(t,e){1&t&&(C.Sc(0,mi,1,2,"result-panel-folding-button",0),C.ec(1,"div",1),C.Zb(2,"router-outlet"),C.Sc(3,_i,1,0,"report-container",2),C.dc()),2&t&&(C.wc("ngIf",!e.isShowReportScreenshot),C.Jb(1),C.Qb("-fold","fold"===e.foldState),C.Jb(2),C.wc("ngIf",e.isShowReportContainer))},directives:[i.o,o.l,fi,bi.a],styles:["[_nghost-%COMP%]{position:absolute;top:0;left:0;bottom:0;z-index:200}[_nghost-%COMP%]   .panel_wrap[_ngcontent-%COMP%]{height:100%;background:#fff;min-width:390px;box-shadow:0 0 5px 0 rgba(0,0,0,.2),5px 0 15px 0 rgba(0,0,0,.1)}[_nghost-%COMP%]   .panel_wrap.-fold[_ngcontent-%COMP%]{box-shadow:none}"],data:{animation:[Object(Mt.m)("foldPanel",[Object(Mt.j)("unfold",Object(Mt.k)({})),Object(Mt.j)("fold",Object(Mt.k)({transform:"translateX(-100%)"})),Object(Mt.l)("unfold => fold",[Object(Mt.e)("0.3s cubic-bezier(0.215, 0.61, 0.355, 1)")]),Object(Mt.l)("fold => unfold",[Object(Mt.e)("0.3s cubic-bezier(0.215, 0.61, 0.355, 1)")])]),Object(Mt.m)("hidePanel",[Object(Mt.j)("show",Object(Mt.k)({})),Object(Mt.j)("hide",Object(Mt.k)({"z-index":"auto",background:"rgba(0, 0, 0, 0)","box-shadow":"none"}))])]}}),t})();var Oi=n("hed1");let vi=(()=>{class t{constructor(t,e){this.route=t,this.entryHistory=e}canActivateChild(t){return!this.isLastChild(t)||(this.entryHistory.calc(this.route.snapshot.root,t.root),!0)}isLastChild(t){let e=t.root;for(;Array.isArray(e.children)&&e.children.length>0;)e=e.children[0];return e===t}}return t.\u0275fac=function(e){return new(e||t)(C.ic(o.a),C.ic(Oi.a))},t.\u0275prov=C.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Ci=n("67TN");const Pi=[{path:"",component:ai,canActivate:[ui],runGuardsAndResolvers:"always",children:[{path:"",canActivateChild:[vi],children:[{path:"directions",component:yi,loadChildren:()=>Promise.all([n.e(0),n.e(23)]).then(n.bind(null,"nDsG")).then(t=>t.DirectionsModule),canActivate:[Ci.a]},{path:"bus",component:yi,loadChildren:()=>Promise.all([n.e(1),n.e(2),n.e(3),n.e(4),n.e(6),n.e(14),n.e(30)]).then(n.bind(null,"s4n2")).then(t=>t.BusModule),canActivate:[Ci.a]},{path:"subway",component:yi,loadChildren:()=>Promise.all([n.e(2),n.e(3),n.e(4),n.e(13),n.e(0),n.e(28)]).then(n.bind(null,"JgC9")).then(t=>t.SubwayModule)},{path:"favorite",component:yi,loadChildren:()=>Promise.all([n.e(2),n.e(3),n.e(4),n.e(6),n.e(15),n.e(0),n.e(26)]).then(n.bind(null,"AT/0")).then(t=>t.FavoriteModule),canActivate:[St.a,Ci.a]},{path:"settings",component:yi,loadChildren:()=>Promise.all([n.e(2),n.e(3),n.e(13),n.e(0),n.e(33)]).then(n.bind(null,"1lQE")).then(t=>t.SettingsModule),canActivate:[Ci.a]},{path:"train",component:yi,loadChildren:()=>n.e(38).then(n.bind(null,"vhb1")).then(t=>t.TrainModule),canActivate:[Ci.a]},{path:"",component:yi,loadChildren:()=>Promise.all([n.e(2),n.e(3),n.e(4),n.e(6),n.e(0),n.e(29)]).then(n.bind(null,"dKhh")).then(t=>t.BaseModule)}]}]}];let Mi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=C.Wb({type:t}),t.\u0275inj=C.Vb({imports:[[o.k.forChild(Pi)],o.k]}),t})();var xi=n("yD6C"),wi=n("3Pt+"),ki=n("ktvW");let Si=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=C.Wb({type:t}),t.\u0275inj=C.Vb({imports:[[i.c,wi.i,ki.a,z.b]]}),t})();var Ei=n("btWG");let Ii=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=C.Wb({type:t}),t.\u0275inj=C.Vb({imports:[[i.c,ki.a,Ei.a]]}),t})();var Ri=n("CUJY"),Ti=n("2QaN"),Ai=n("rGhi"),Li=n("YlaM"),ji=n("5mcS");let Di=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=C.Wb({type:t}),t.\u0275inj=C.Vb({imports:[[i.c,z.b,ki.a]]}),t})(),Fi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=C.Wb({type:t}),t.\u0275inj=C.Vb({imports:[[i.c,ki.a]]}),t})();var Ni=n("CS8N");let Bi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=C.Wb({type:t}),t.\u0275inj=C.Vb({imports:[[i.c,ki.a,Ei.a,z.b]]}),t})();var Ui=n("V6f3"),Vi=n("3ug9"),zi=n("lXcw"),Wi=n("k9QW"),Hi=n("drA4"),qi=n("+1c1"),Yi=n("pCwN");let Ji=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=C.Wb({type:t}),t.\u0275inj=C.Vb({providers:[{provide:ut.a,useValue:{suppressScrollX:!0}}],imports:[[i.c,z.b,Hi.a,Mi,Yi.a,xi.a,Si,Ii,Ri.a,Ti.a,Ai.a,Li.a,ji.a,Di,Fi,ki.a,Ni.a,Ei.a,Bi,Ui.a,Vi.a,zi.a,Wi.a,qi.a,ut.c,Yi.a]]}),t})()},"bnU+":function(t,e,n){"use strict";var i=e;i.length=function(t){var e=t.length;if(!e)return 0;for(var n=0;--e%4>1&&"="===t.charAt(e);)++n;return Math.ceil(3*t.length)/4-n};for(var o=new Array(64),r=new Array(123),a=0;a<64;)r[o[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;i.encode=function(t,e,n){for(var i,r=null,a=[],s=0,c=0;e<n;){var l=t[e++];switch(c){case 0:a[s++]=o[l>>2],i=(3&l)<<4,c=1;break;case 1:a[s++]=o[i|l>>4],i=(15&l)<<2,c=2;break;case 2:a[s++]=o[i|l>>6],a[s++]=o[63&l],c=0}s>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,a)),s=0)}return c&&(a[s++]=o[i],a[s++]=61,1===c&&(a[s++]=61)),r?(s&&r.push(String.fromCharCode.apply(String,a.slice(0,s))),r.join("")):String.fromCharCode.apply(String,a.slice(0,s))},i.decode=function(t,e,n){for(var i,o=n,a=0,s=0;s<t.length;){var c=t.charCodeAt(s++);if(61===c&&a>1)break;if(void 0===(c=r[c]))throw Error("invalid encoding");switch(a){case 0:i=c,a=1;break;case 1:e[n++]=i<<2|(48&c)>>4,i=c,a=2;break;case 2:e[n++]=(15&i)<<4|(60&c)>>2,i=c,a=3;break;case 3:e[n++]=(3&i)<<6|c,a=0}}if(1===a)throw Error("invalid encoding");return n-o},i.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},btWG:function(t,e,n){"use strict";n.d(e,"a",function(){return E});var i=n("ofXK"),o=n("3Pt+"),r=n("sYmb"),a=n("tk/3"),s=n("yD6C"),c=n("ktvW"),l=n("wBAh"),u=n("l7P3"),p=n("5Cmx"),h=n("2BQN"),d=n("8qY4"),g=n("rMsy"),f=n("9jGm"),b=n("3E0/"),m=n("lJxs"),_=n("eNwd"),y=n("ZXKN"),O=n("0pZ/"),v=n("fXoL");let C=(()=>{class t{constructor(t,e,n){this.action$=t,this.store=e,this.zone=n,this.width$=this.createWidthEffects()}createWidthEffects(){return Object(f.c)(()=>this.action$.pipe(Object(f.d)(p.a,p.b,p.m),Object(b.a)(0,_.a),Object(O.a)(this.zone),Object(m.a)(()=>{const t=Object(p.f)(this.store)?Object(y.a)().width:0;return Object(p.q)({payload:t})})))}}return t.\u0275fac=function(e){return new(e||t)(v.ic(f.a),v.ic(u.h),v.ic(v.F))},t.\u0275prov=v.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var P=n("vWDY"),M=n("eIep"),x=n("VRyK"),w=n("EY2u"),k=n("LRne");let S=(()=>{class t{constructor(t,e){this.actions$=t,this.store=e,this.hoverToSelect$=this.createHoverToSelectEffects()}createHoverToSelectEffects(){return Object(f.c)(()=>Object(x.a)(this.actions$.pipe(Object(f.d)(P.s),Object(m.a)(({payload:t})=>({type:"over",id:t}))),this.actions$.pipe(Object(f.d)(P.r),Object(m.a)(({payload:t})=>({type:"out",id:t})))).pipe(Object(M.a)(({type:t,id:e})=>{var n;if("over"===t){const t=null===(n=Object(g.c)(this.store))||void 0===n?void 0:n.find(t=>(null==t?void 0:t.item.id)===e);return t?Object(k.a)(Object(g.i)({payload:t})):w.a}return Object(k.a)(Object(g.j)())})))}}return t.\u0275fac=function(e){return new(e||t)(v.ic(f.a),v.ic(u.h))},t.\u0275prov=v.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),E=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=v.Wb({type:t}),t.\u0275inj=v.Vb({providers:[{provide:o.a,useValue:!1}],imports:[[i.c,o.i,o.p,a.c,s.a,r.b,c.a,u.j.forFeature(p.j,p.k),u.j.forFeature(h.b,h.c),u.j.forFeature(d.f,d.g),u.j.forFeature(g.f,g.g),u.j.forFeature(P.w,P.x),f.b.forFeature([C,S])]]}),t})();v.Mc(l.d,[l.c],[]),v.Mc(l.e,[l.c],[]),v.Mc(l.a,[l.c],[]),v.Mc(l.b,[l.c],[])},cCfc:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n("2Vo4"),o=n("9lcI"),r=n("wO+i"),a=n("pLZG"),s=n("qKIp"),c=n("ApIJ"),l=n("Q63R"),u=n("XrBI"),p=n("fXoL");let h=(()=>{class t{constructor(t,e,n,o){this.route=t,this.maps=e,this.api=n,this.session=o,this.subs=[],this.shortSubs=[],this.bFilterList=new i.a([]),this.sFilterList=new i.a([]),this.route.events.pipe(Object(r.a)("data"),Object(a.a)(t=>!(!t.coordinates||!t.coordinates.mapLayers))).subscribe(t=>{t.coordinates.mapLayers.indexOf(c.g.Transit)>-1?this.maps.onReady(()=>{this.activate()}):this.deactivate()})}activate(){this.deactivate(),this.subs.push(this.maps.events.onClick().pipe(Object(a.a)(t=>"transit"===t.source)).subscribe(t=>{this.route.navigate(["entry",o.g.BusStation,t.features[0].properties.id])}))}deactivate(){this.subs.forEach(t=>{t.unsubscribe()}),this.subs=[],this.clear()}updateFilterList(t,e){t===o.g.BusStation?this.bFilterList.next(e):t===o.g.SubwayStation&&this.sFilterList.next(e)}getRealtimeArrivals(t,e){const n=t.map(t=>t.stationId.toString()+(t.routeId?","+t.routeId.join(","):""));return this.api.getRealtimeArrivals(n,e?`${e.lat},${e.lng}`:null)}refineBusLocationResult(t){const e=t.message,n={};return e.result?(Object.keys(e.result).forEach(t=>{n[t]=e.result[t]}),e.result.metroList.length>0&&Object.keys(e.result.metroList[0]).forEach(t=>{n[t]=e.result.metroList[0][t]}),n.result=e.result):(Object.keys(e).forEach(t=>{n[t]=e[t]}),n.result=null),n}getSessionArrivalIdFromTransitInfo(){const t=this.session.get("NM_TRANSIT_INFO");if(!t)return;const e=this.route.getRouterParams().valueByOrder;return JSON.stringify(t.params)===JSON.stringify(e)&&t.stations&&t.stations.length>1?t.stations[t.stations.length-1].id:void 0}removeSessionArrivalIdFromTransitInfo(){this.session.remove("NM_TRANSIT_INFO")}clear(){this.shortSubs.forEach(t=>{t.unsubscribe()}),this.shortSubs=[]}}return t.\u0275fac=function(e){return new(e||t)(p.ic(c.e),p.ic(u.a),p.ic(l.a),p.ic(s.b))},t.\u0275prov=p.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},cWyK:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("/rf6");function o(t,e,n){if(null!==t)for(var i,r,a,s,c,l,u,p,h=0,d=0,g=t.type,f="FeatureCollection"===g,b="Feature"===g,m=f?t.features.length:1,_=0;_<m;_++){c=(p=!!(u=f?t.features[_].geometry:b?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var y=0;y<c;y++){var O=0,v=0;if(null!==(s=p?u.geometries[y]:u)){l=s.coordinates;var C=s.type;switch(h=!n||"Polygon"!==C&&"MultiPolygon"!==C?0:1,C){case null:break;case"Point":if(!1===e(l,d,_,O,v))return!1;d++,O++;break;case"LineString":case"MultiPoint":for(i=0;i<l.length;i++){if(!1===e(l[i],d,_,O,v))return!1;d++,"MultiPoint"===C&&O++}"LineString"===C&&O++;break;case"Polygon":case"MultiLineString":for(i=0;i<l.length;i++){for(r=0;r<l[i].length-h;r++){if(!1===e(l[i][r],d,_,O,v))return!1;d++}"MultiLineString"===C&&O++,"Polygon"===C&&v++}"Polygon"===C&&O++;break;case"MultiPolygon":for(i=0;i<l.length;i++){for(v=0,r=0;r<l[i].length;r++){for(a=0;a<l[i][r].length-h;a++){if(!1===e(l[i][r][a],d,_,O,v))return!1;d++}v++}O++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)if(!1===o(s.geometries[i],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function r(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length&&!1!==e(t.features[n].properties,n);n++);break;case"Feature":e(t.properties,0)}}function a(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function s(t,e){var n,i,o,r,a,s,c,l,u,p,h=0,d="FeatureCollection"===t.type,g="Feature"===t.type,f=d?t.features.length:1;for(n=0;n<f;n++){for(l=d?t.features[n].properties:g?t.properties:{},u=d?t.features[n].bbox:g?t.bbox:void 0,p=d?t.features[n].id:g?t.id:void 0,a=(c=!!(s=d?t.features[n].geometry:g?t.geometry:t)&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(r=c?s.geometries[o]:s))switch(r.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(r,h,l,u,p))return!1;break;case"GeometryCollection":for(i=0;i<r.geometries.length;i++)if(!1===e(r.geometries[i],h,l,u,p))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,h,l,u,p))return!1;h++}}function c(t,e){s(t,function(t,n,o,r,a){var s,c=null===t?null:t.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==e(i.feature(t,o,{bbox:r,id:a}),n,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<t.coordinates.length;l++)if(!1===e(i.feature({type:s,coordinates:t.coordinates[l]},o),n,l))return!1})}function l(t,e){c(t,function(t,n,r){var a=0;if(t.geometry){var s=t.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,p=0;return!1!==o(t,function(o,s,h,d,g){if(void 0===c||n>l||d>u||g>p)return c=o,l=n,u=d,p=g,void(a=0);var f=i.lineString([c,o],t.properties);if(!1===e(f,n,r,g,a))return!1;a++,c=o})&&void 0}}})}function u(t,e){if(!t)throw new Error("geojson is required");c(t,function(t,n,o){if(null!==t.geometry){var r=t.geometry.coordinates;switch(t.geometry.type){case"LineString":if(!1===e(t,n,o,0,0))return!1;break;case"Polygon":for(var a=0;a<r.length;a++)if(!1===e(i.lineString(r[a],t.properties),n,o,a))return!1}}})}e.coordEach=o,e.coordReduce=function(t,e,n,i){var r=n;return o(t,function(t,i,o,a,s){r=0===i&&void 0===n?t:e(r,t,i,o,a,s)},i),r},e.propEach=r,e.propReduce=function(t,e,n){var i=n;return r(t,function(t,o){i=0===o&&void 0===n?t:e(i,t,o)}),i},e.featureEach=a,e.featureReduce=function(t,e,n){var i=n;return a(t,function(t,o){i=0===o&&void 0===n?t:e(i,t,o)}),i},e.coordAll=function(t){var e=[];return o(t,function(t){e.push(t)}),e},e.geomEach=s,e.geomReduce=function(t,e,n){var i=n;return s(t,function(t,o,r,a,s){i=0===o&&void 0===n?t:e(i,t,o,r,a,s)}),i},e.flattenEach=c,e.flattenReduce=function(t,e,n){var i=n;return c(t,function(t,o,r){i=0===o&&0===r&&void 0===n?t:e(i,t,o,r)}),i},e.segmentEach=l,e.segmentReduce=function(t,e,n){var i=n,o=!1;return l(t,function(t,r,a,s,c){i=!1===o&&void 0===n?t:e(i,t,r,a,s,c),o=!0}),i},e.lineEach=u,e.lineReduce=function(t,e,n){var i=n;return u(t,function(t,o,r,a){i=0===o&&void 0===n?t:e(i,t,o,r,a)}),i},e.findSegment=function(t,e){if(!i.isObject(e=e||{}))throw new Error("options is invalid");var n,o=e.featureIndex||0,r=e.multiFeatureIndex||0,a=e.geometryIndex||0,s=e.segmentIndex||0,c=e.properties;switch(t.type){case"FeatureCollection":o<0&&(o=t.features.length+o),c=c||t.features[o].properties,n=t.features[o].geometry;break;case"Feature":c=c||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var l=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString([l[s],l[s+1]],c,e);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString([l[a][s],l[a][s+1]],c,e);case"MultiLineString":return r<0&&(r=l.length+r),s<0&&(s=l[r].length+s-1),i.lineString([l[r][s],l[r][s+1]],c,e);case"MultiPolygon":return r<0&&(r=l.length+r),a<0&&(a=l[r].length+a),s<0&&(s=l[r][a].length-s-1),i.lineString([l[r][a][s],l[r][a][s+1]],c,e)}throw new Error("geojson is invalid")},e.findPoint=function(t,e){if(!i.isObject(e=e||{}))throw new Error("options is invalid");var n,o=e.featureIndex||0,r=e.multiFeatureIndex||0,a=e.geometryIndex||0,s=e.coordIndex||0,c=e.properties;switch(t.type){case"FeatureCollection":o<0&&(o=t.features.length+o),c=c||t.features[o].properties,n=t.features[o].geometry;break;case"Feature":c=c||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var l=n.coordinates;switch(n.type){case"Point":return i.point(l,c,e);case"MultiPoint":return r<0&&(r=l.length+r),i.point(l[r],c,e);case"LineString":return s<0&&(s=l.length+s),i.point(l[s],c,e);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point(l[a][s],c,e);case"MultiLineString":return r<0&&(r=l.length+r),s<0&&(s=l[r].length+s),i.point(l[r][s],c,e);case"MultiPolygon":return r<0&&(r=l.length+r),a<0&&(a=l[r].length+a),s<0&&(s=l[r][a].length-s),i.point(l[r][a][s],c,e)}throw new Error("geojson is invalid")}},coGc:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("7o/Q"),o=n("HDdC"),r=n("l7GE"),a=n("ZUHj");function s(t,e){return e?n=>new u(n,e).lift(new c(t)):e=>e.lift(new c(t))}class c{constructor(t){this.delayDurationSelector=t}call(t,e){return e.subscribe(new l(t,this.delayDurationSelector))}}class l extends r.a{constructor(t,e){super(t),this.delayDurationSelector=e,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(t,e,n,i,o){this.destination.next(t),this.removeSubscription(o),this.tryComplete()}notifyError(t,e){this._error(t)}notifyComplete(t){const e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()}_next(t){const e=this.index++;try{const n=this.delayDurationSelector(t,e);n&&this.tryDelay(n,t)}catch(n){this.destination.error(n)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(t){t.unsubscribe();const e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue}tryDelay(t,e){const n=Object(a.a)(this,t,e);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class u extends o.a{constructor(t,e){super(),this.source=t,this.subscriptionDelay=e}_subscribe(t){this.subscriptionDelay.subscribe(new p(t,this.source))}}class p extends i.a{constructor(t,e){super(),this.parent=t,this.source=e,this.sourceSubscribed=!1}_next(t){this.subscribeToSource()}_error(t){this.unsubscribe(),this.parent.error(t)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}},"dkv/":function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var i in t)n.call(t,i)&&e.push(i);return e}},dnTh:function(t,e,n){"use strict";function i(t){var e={type:"Feature"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}}),e.properties=o(t.properties),e.geometry=r(t.geometry),e}function o(t){var e={};return t?(Object.keys(t).forEach(function(n){var i=t[n];e[n]="object"==typeof i?null===i?null:i.length?i.map(function(t){return t}):o(i):i}),e):e}function r(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map(function(t){return r(t)}),e):(e.coordinates=a(t.coordinates),e)}function a(t){return"object"!=typeof t[0]?t.slice():t.map(function(t){return a(t)})}var s=n("5uBC"),c=function(t){var e=[1/0,1/0,-1/0,-1/0];return Object(s.a)(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e},l=n("Kd67"),u=n("v6re");function p(t,e){var n=Object(l.b)(t[1]),i=Object(l.b)(e[1]),o=Object(l.b)(e[0]-t[0]);o>Math.PI&&(o-=2*Math.PI),o<-Math.PI&&(o+=2*Math.PI);var r=Math.log(Math.tan(i/2+Math.PI/4)/Math.tan(n/2+Math.PI/4)),a=Math.atan2(o,r);return(Object(l.k)(a)+360)%360}function h(t,e,n){var i="Point"===Object(u.c)(t);return n=function(t,e){if(null==e&&(e="centroid"),Array.isArray(e)||"object"==typeof e)return Object(u.a)(e);var n=t.bbox?t.bbox:c(t),i=n[0],o=n[1],r=n[2],a=n[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return Object(l.j)([i,o]);case"se":case"southeast":case"eastsouth":case"bottomright":return Object(l.j)([r,o]);case"nw":case"northwest":case"westnorth":case"topleft":return Object(l.j)([i,a]);case"ne":case"northeast":case"eastnorth":case"topright":return Object(l.j)([r,a]);case"center":return function(t,e){if(e=e||{},!Object(l.g)(e))throw new Error("options is invalid");var n=e.properties;if(!t)throw new Error("geojson is required");var i=c(t),o=(i[0]+i[2])/2,r=(i[1]+i[3])/2;return Object(l.j)([o,r],n)}(t);case void 0:case null:case"centroid":return function(t,e){var n=0,i=0,o=0;return Object(s.a)(t,function(t){n+=t[0],i+=t[1],o++},!0),Object(l.j)([n/o,i/o],void 0)}(t);default:throw new Error("invalid origin")}}(t,n),1===e||i||Object(s.a)(t,function(t){var i=function(t,e,n){if(n=n||{},!Object(l.g)(n))throw new Error("options is invalid");var i=n.units;if(!t)throw new Error("from point is required");if(!e)throw new Error("to point is required");var o=Object(u.a)(t),r=Object(u.a)(e);r[0]+=r[0]-o[0]>180?-360:o[0]-r[0]>180?360:0;var a=function(t,e,n){var i=n=void 0===n?l.c:Number(n),o=t[1]*Math.PI/180,r=e[1]*Math.PI/180,a=r-o,s=Math.abs(e[0]-t[0])*Math.PI/180;s>Math.PI&&(s-=2*Math.PI);var c=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(o/2+Math.PI/4)),u=Math.abs(c)>1e-11?a/c:Math.cos(o);return Math.sqrt(a*a+u*u*s*s)*i}(o,r);return Object(l.a)(a,"meters",i)}(n,t),o=function(t,e,n){if(n=n||{},!Object(l.g)(n))throw new Error("options is invalid");var i,o=n.final;if(!t)throw new Error("start point is required");if(!e)throw new Error("end point is required");return(i=o?p(Object(u.a)(e),Object(u.a)(t)):p(Object(u.a)(t),Object(u.a)(e)))>180?-(360-i):i}(n,t),r=i*e,a=Object(u.b)(function(t,e,n,i){if(i=i||{},!Object(l.g)(i))throw new Error("options is invalid");var o=i.units,r=i.properties;if(!t)throw new Error("origin is required");if(null==e)throw new Error("distance is required");if(null==n)throw new Error("bearing is required");if(!(e>=0))throw new Error("distance must be greater than 0");var a=Object(l.a)(e,o,"meters"),s=Object(u.a)(t),c=function(t,e,n,i){var o=e/(i=void 0===i?l.c:Number(i)),r=t[0]*Math.PI/180,a=Object(l.b)(t[1]),s=Object(l.b)(n),c=o*Math.cos(s),u=a+c;Math.abs(u)>Math.PI/2&&(u=u>0?Math.PI-u:-Math.PI-u);var p=Math.log(Math.tan(u/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),h=Math.abs(p)>1e-11?c/p:Math.cos(a);return[(180*(r+o*Math.sin(s)/h)/Math.PI+540)%360-180,180*u/Math.PI]}(s,a,n);return c[0]+=c[0]-s[0]>180?-360:s[0]-c[0]>180?360:0,Object(l.j)(c,r)}(n,r,o));t[0]=a[0],t[1]=a[1],3===t.length&&(t[2]*=e)}),t}e.a=function(t,e,n){if(n=n||{},!Object(l.g)(n))throw new Error("options is invalid");var o=n.origin,a=n.mutate;if(!t)throw new Error("geojson required");if("number"!=typeof e||0===e)throw new Error("invalid factor");var c=Array.isArray(o)||"object"==typeof o;return!0!==a&&(t=function(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return i(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}}),e.features=t.features.map(function(t){return i(t)}),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return r(t);default:throw new Error("unknown GeoJSON type")}}(t)),"FeatureCollection"!==t.type||c?h(t,e,o):(Object(s.b)(t,function(n,i){t.features[i]=h(n,e,o)}),t)}},drA4:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("ofXK"),o=n("fXoL");let r=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Wb({type:t}),t.\u0275inj=o.Vb({imports:[[i.c]]}),t})()},eAWR:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.SUBWAY_SCH_PROVINCE="subway.sch.province",t.SUBWAY_SCH_DEPART="subway.sch.depart",t.SUBWAY_SCH_ARRIVE="subway.sch.arrive",t.SUBWAY_SCH_VIA="subway.sch.via",t.SUBWAY_SCH_RESET="subway.sch.reset",t.SUBWAY_SCH_ADDVIA="subway.sch.addvia",t.SUBWAY_HISTORY_LIST="subway.history.list",t.SUBWAY_HISTORY_MORE="subway.history.more",t.SUBWAY_FAV_LIST="subway.fav.list",t.SUBWAY_FAV_REFRESH="subway.fav.refresh",t.SUBWAY_FAV_ALL="subway.fav.all",t.SUBWAY_LAYER_LINE="subway.layer.line",t.SUBWAY_TOOLTAP_COLORBLIND="subway.tooltap.colorblind",t.SUBWAY_TOOLTAP_EXPRESS="subway.tooltap.express",t.SUBWAY_TOOLTAP_FACILITIES="subway.tooltap.facilities",t.SUBWAY_TOOLTAP_SAVE="subway.tooltap.save",t.SUBWAY_TOOLTAP_ZOOMIN="subway.tooltap.zoomin",t.SUBWAY_TOOLTAP_ZOOMOUT="subway.tooltap.zoomout",t.SUBWAY_TOOLTAP_SHARE="subway.tooltap.share",t.SUBWAY_MAP_TOOLTIP="subway.map.tooltip",t.SUBWAY_MAP_DEPART="subway.map.depart",t.SUBWAY_MAP_ARRIVE="subway.map.arrive",t.SUBWAY_MAP_VIA="subway.map.via",t.SUBWAY_PANEL_FOLD="subway.panel.fold",t.SUBWAY_PANEL_OPEN="subway.panel.open",t}({})},eNwd:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("3N8a");class o extends i.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var r=n("IjjT");class a extends r.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,o=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<o&&(t=e.shift()));if(this.active=!1,n){for(;++i<o&&(t=e.shift());)t.unsubscribe();throw n}}}const s=new a(o)},eOtv:function(t,e,n){var i=n("lKxJ"),o=n("KFGy"),r=n("2xqC"),a=n("Uwu7"),s=n("2Dig"),c=n("QN7Q"),l=n("x7D4")("socket.io-client:manager"),u=n("7jRU"),p=n("C2QD"),h=Object.prototype.hasOwnProperty;function d(t,e){if(!(this instanceof d))return new d(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||a;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=d,d.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},d.prototype.updateSocketIds=function(){for(var t in this.nsps)h.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},d.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},r(d.prototype),d.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},d.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},d.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},d.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},d.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},d.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},d.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},d.prototype.open=d.prototype.connect=function(t,e){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=i(this.uri,this.opts);var n=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var r=s(n,"open",function(){o.onopen(),t&&t()}),a=s(n,"error",function(e){if(l("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else o.maybeReconnectOnOpen()});if(!1!==this._timeout){var c=this._timeout;l("connect attempt will timeout after %d",c);var u=setTimeout(function(){l("connect attempt timed out after %d",c),r.destroy(),n.close(),n.emit("error","timeout"),o.emitAll("connect_timeout",c)},c);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(r),this.subs.push(a),this},d.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(s(t,"data",c(this,"ondata"))),this.subs.push(s(t,"ping",c(this,"onping"))),this.subs.push(s(t,"pong",c(this,"onpong"))),this.subs.push(s(t,"error",c(this,"onerror"))),this.subs.push(s(t,"close",c(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",c(this,"ondecoded")))},d.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},d.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},d.prototype.ondata=function(t){this.decoder.add(t)},d.prototype.ondecoded=function(t){this.emit("packet",t)},d.prototype.onerror=function(t){l("error",t),this.emitAll("error",t)},d.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new o(this,t,e),this.nsps[t]=n;var i=this;n.on("connecting",r),n.on("connect",function(){n.id=i.generateId(t)}),this.autoConnect&&r()}function r(){~u(i.connecting,n)||i.connecting.push(n)}return n},d.prototype.destroy=function(t){var e=u(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},d.prototype.packet=function(t){l("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var i=0;i<n.length;i++)e.engine.write(n[i],t.options);e.encoding=!1,e.processPacketQueue()}))},d.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},d.prototype.cleanup=function(){l("cleanup");for(var t=this.subs.length,e=0;e<t;e++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},d.prototype.close=d.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},d.prototype.onclose=function(t){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},d.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();l("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(l("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(l("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(l("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},d.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},eSxo:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("qhoL"),o=n("j3ZU"),r=n("Yeox"),a=n("sk2A"),s=n("cWyK"),c=n("/rf6"),l=n("AKIq");e.default=function(t,e,n){void 0===n&&(n={});var u=c.point([1/0,1/0],{dist:1/0}),p=0;return s.flattenEach(t,function(t){for(var s=l.getCoords(t),h=0;h<s.length-1;h++){var d=c.point(s[h]);d.properties.dist=o.default(e,d,n);var g=c.point(s[h+1]);g.properties.dist=o.default(e,g,n);var f=o.default(d,g,n),b=Math.max(d.properties.dist,g.properties.dist),m=i.default(d,g),_=r.default(e,b,m+90,n),y=r.default(e,b,m-90,n),O=a.default(c.lineString([_.geometry.coordinates,y.geometry.coordinates]),c.lineString([d.geometry.coordinates,g.geometry.coordinates])),v=null;O.features.length>0&&((v=O.features[0]).properties.dist=o.default(e,v,n),v.properties.location=p+o.default(d,v,n)),d.properties.dist<u.properties.dist&&((u=d).properties.index=h,u.properties.location=p),g.properties.dist<u.properties.dist&&((u=g).properties.index=h+1,u.properties.location=p+f),v&&v.properties.dist<u.properties.dist&&((u=v).properties.index=h),p+=f}}),u}},"f+Sy":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fXoL");let o=(()=>{class t{constructor(t){this.image=t,this.imageFallbackType="url",this.imageFallbackCallback=new i.q}ngOnInit(){let t=this.image.nativeElement;this.isImageElement(t)&&(t.onerror=()=>{"url"===this.imageFallbackType?t.src=this.imageFallback:"callback"===this.imageFallbackType&&this.imageFallbackCallback.emit(this.image.nativeElement),t=null})}isImageElement(t){return"IMG"===t.tagName}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(i.o))},t.\u0275dir=i.Tb({type:t,selectors:[["","imageFallback",""]],inputs:{imageFallback:"imageFallback",imageFallbackType:"imageFallbackType"},outputs:{imageFallbackCallback:"imageFallbackCallback"}}),t})()},fkBw:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fXoL");let o=(()=>{class t{constructor(){this.color="#AAA",this.size=40,this.borderSize=5}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Sb({type:t,selectors:[["nm-spinner"]],inputs:{type:"type",icon:"icon",color:"color",size:"size",borderSize:"borderSize"},decls:6,vars:0,consts:[[1,"blind"],[1,"loader"],[1,"icon"]],template:function(t,e){1&t&&(i.ec(0,"strong",0),i.Uc(1,"\ub85c\ub529\uc911"),i.dc(),i.ec(2,"div",1),i.Zb(3,"div",2),i.Zb(4,"div",2),i.Zb(5,"div",2),i.dc())},styles:['[_nghost-%COMP%]   .loader[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/common.png);background-size:256px 225px}.retina   [_nghost-%COMP%]   .loader[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/common@2x.png)}[_nghost-%COMP%]{position:absolute;top:0;right:0;left:0;bottom:0;z-index:10;white-space:nowrap;text-align:center;font-size:0;background:hsla(0,0%,100%,.8)}.subway_overlay[_nghost-%COMP%]{padding-left:390px}.no_bg[_nghost-%COMP%]{background:transparent}[_nghost-%COMP%]:before{height:100%;content:""}[_nghost-%COMP%]   .loader[_ngcontent-%COMP%], [_nghost-%COMP%]:before{display:inline-block;vertical-align:middle}[_nghost-%COMP%]   .loader[_ngcontent-%COMP%]{font-size:1px;white-space:nowrap}[_nghost-%COMP%]   .loader[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;position:relative;margin-right:17px}[_nghost-%COMP%]   .loader[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:last-child{margin-right:0}[_nghost-%COMP%]   .loader[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:16px;height:22px;font-size:0;color:transparent;vertical-align:top;background-position:-240px 0;content:""}[_nghost-%COMP%]   .loader[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:after{position:absolute;top:1px;left:0;right:0;width:14px;height:14px;margin:auto;background:#e0e0e0;border-radius:8px;-webkit-animation:load8 .4s ease-in-out infinite;animation:load8 .4s ease-in-out infinite;transform-origin:bottom;content:""}[_nghost-%COMP%]   .loader[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:first-child:after{-webkit-animation-delay:-.14s;animation-delay:-.14s}[_nghost-%COMP%]   .loader[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:nth-child(2):after{-webkit-animation-delay:-.07s;animation-delay:-.07s}[_nghost-%COMP%]   .loader[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:nth-child(3):after{-webkit-animation-delay:0s;animation-delay:0s}@-webkit-keyframes load8{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}@keyframes load8{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}']}),t})()},g5Dd:function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),i=0;i<t.length;i++)n[t.charCodeAt(i)]=i;e.encode=function(e){var n,i=new Uint8Array(e),o=i.length,r="";for(n=0;n<o;n+=3)r+=t[i[n]>>2],r+=t[(3&i[n])<<4|i[n+1]>>4],r+=t[(15&i[n+1])<<2|i[n+2]>>6],r+=t[63&i[n+2]];return o%3==2?r=r.substring(0,r.length-1)+"=":o%3==1&&(r=r.substring(0,r.length-2)+"=="),r},e.decode=function(t){var e,i,o,r,a,s=.75*t.length,c=t.length,l=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var u=new ArrayBuffer(s),p=new Uint8Array(u);for(e=0;e<c;e+=4)i=n[t.charCodeAt(e)],o=n[t.charCodeAt(e+1)],r=n[t.charCodeAt(e+2)],a=n[t.charCodeAt(e+3)],p[l++]=i<<2|o>>4,p[l++]=(15&o)<<4|r>>2,p[l++]=(3&r)<<6|63&a;return u}}()},gBTm:function(t,e,n){"use strict";n.d(e,"a",function(){return b});var i=n("fXoL"),o=n("2Vo4"),r=n("EY2u"),a=n("JIr8"),s=n("/RaO"),c=n("qkFu"),l=n("JplU"),u=function(t){return t.SHARE_SHARE_URLFIELD="share.share.urlfield",t.SHARE_SHARE_URLCOPY="share.share.urlcopy",t.SHARE_SHARE_CLOSE="share.share.close",t.SHARE_SHARE_BLOG="share.share.blog",t.SHARE_SHARE_CAFE="share.share.cafe",t.SHARE_SHARE_BAND="share.share.band",t.SHARE_SHARE_LINE="share.share.line",t.SHARE_SHARE_MAIL="share.share.mail",t.SHARE_SHARE_FACEBOOK="share.share.facebook",t.SHARE_SHARE_KAKAOTALK="share.share.kakaotalk",t.SHARE_SHARE_TWITTER="share.share.twitter",t.SHARE_TOAPP_MAIL="share.toapp.mail",t.SHARE_TOAPP_TXTMSG="share.toapp.txtmsg",t.SHARE_TOAPP_APPPUSH="share.toapp.apppush",t.SHARE_TOAPP_SEND="share.toapp.send",t.SHARE_TOAPP_CLOSE="share.toapp.close",t.SHARE_TOAPP_LOGIN="share.toapp.login",t}({}),p=n("1RhC"),h=n("zqdW"),d=n("joil"),g=n("iTV6"),f=n("sYmb");let b=(()=>{class t{constructor(t,e,n,r,a,s){this.loaderService=t,this.envService=e,this.translateService=n,this.logService=r,this.nClickService=a,this.msgService=s,this.showEvent=new i.q,this.hideEvent=new i.q,this.isShow$=new o.a(!1)}get isShow(){return this.isShow$.getValue()}getCurrentUrlForShare(t=""){const e=t||location.pathname+location.search;return[s.Qc,e].join("")}hideSocialPlugin(){this.isInitializedSocialPlugIn()&&this.isShowSocialPlugin()&&window.__splugin.hide()}updateSocialPlugIn(){window.setTimeout(()=>{this.isLoadedSocialPlugIn()?this.isInitializedSocialPlugIn()&&window.__splugin.init():this.lazyloadSocialPlugIn()},0)}isLoadedSocialPlugIn(){return!!window.SocialPlugIn_Core}isInitializedSocialPlugIn(){return!!window.__splugin||!!window.splugin_oninitialize}isShowSocialPlugin(){return document.querySelectorAll("._ly_spi").length>0}lazyloadSocialPlugIn(){const t=new Date,e=t.getFullYear(),n=t.getMonth()+1,i=t.getDate(),o=[e,n<10?"0"+n:n,i<10?"0"+i:i].join(""),c=`${s.Sc}?${o}`;this.isLoadedSocialPlugIn()?this.initSocialPlugIn():this.loaderService.loadJavascript(c,s.Rc).pipe(Object(a.a)(t=>{const e="error while loading splugin.js";return this.logService.log(d.b.SharePopup,"SharePopupService","lazyloadSocialPlugIn",t,e),this.msgService.open(e),r.a})).subscribe(()=>this.initSocialPlugIn())}initSocialPlugIn(){const t=this.translateService.instant("COMMON.MAP"),e=t;this.isInitializedSocialPlugIn()||this.isLoadedSocialPlugIn()&&(window.splugin_oninitialize=()=>({evKey:"map",serviceName:t,memo:{display:"off",url:"",title:""},bookmark:{display:"off",url:"",title:""},mail:{display:"off"},keep:{display:"on"}}),window.__splugin=window.SocialPlugIn_Core({evKey:"map",serviceName:t,sourceName:e,onClick:t=>this.onClick(t),onShow:()=>this.onShow(),onHide:()=>this.onHide()}))}onClick(t){let e;switch(t){case"blog":e=u.SHARE_SHARE_BLOG;break;case"cafe":e=u.SHARE_SHARE_CAFE;break;case"mail":e=u.SHARE_SHARE_MAIL;break;case"band":e=u.SHARE_SHARE_BAND;break;case"line":e=u.SHARE_SHARE_LINE;break;case"twitter":e=u.SHARE_SHARE_TWITTER;break;case"facebook":e=u.SHARE_SHARE_FACEBOOK;break;case"ktalk":e=u.SHARE_SHARE_KAKAOTALK;break;case"copyurl":e=u.SHARE_SHARE_URLCOPY}e&&this.nClickService.nClick(this,e)}onShow(){this.isShow$.next(!0)}onHide(){this.nClickService.nClick(this,u.SHARE_SHARE_CLOSE),this.hideEvent.emit(),this.isShow$.next(!1)}}return t.\u0275fac=function(e){return new(e||t)(i.ic(h.a),i.ic(p.a),i.ic(f.d),i.ic(g.a),i.ic(l.a),i.ic(c.b))},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},gFX4:function(t,e,n){var i=n("zJ60"),o=n("Uwu7"),r=n("eOtv"),a=n("x7D4")("socket.io-client");t.exports=e=c;var s=e.managers={};function c(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,o=i(t),c=o.source,l=o.id;return e.forceNew||e["force new connection"]||!1===e.multiplex||s[l]&&o.path in s[l].nsps?(a("ignoring socket cache for %s",c),n=r(c,e)):(s[l]||(a("new io instance for %s",c),s[l]=r(c,e)),n=s[l]),o.query&&!e.query&&(e.query=o.query),n.socket(o.path,e)}e.protocol=o.protocol,e.connect=c,e.Manager=n("eOtv"),e.Socket=n("KFGy")},gH6v:function(t,e,n){"use strict";t.exports=o;var i=n("6Tgl");function o(t,e,n){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(n)}(o.prototype=Object.create(i.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function t(e,n,o,r,a){if(!r)throw TypeError("request must be specified");var s=this;if(!a)return i.asPromise(t,s,e,n,o,r);if(s.rpcImpl)try{return s.rpcImpl(e,n[s.requestDelimited?"encodeDelimited":"encode"](r).finish(),function(t,n){if(t)return s.emit("error",t,e),a(t);if(null!==n){if(!(n instanceof o))try{n=o[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(t){return s.emit("error",t,e),a(t)}return s.emit("data",n,e),a(null,n)}s.end(!0)})}catch(c){return s.emit("error",c,e),void setTimeout(function(){a(c)},0)}else setTimeout(function(){a(Error("already ended"))},0)},o.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},gXqy:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("JCDJ"),o=n("M34a"),r=n("jIYg");function a(t,e){Object(r.a)(2,arguments);var n=Object(o.a)(t),a=Object(o.a)(e),s=n.getTime()-Object(i.a)(n),c=a.getTime()-Object(i.a)(a);return Math.round((s-c)/864e5)}},gcYM:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("7o/Q"),o=n("D0XW"),r=n("yuhW");function a(t,e=o.a,n=r.a){return i=>i.lift(new s(t,e,n.leading,n.trailing))}class s{constructor(t,e,n,i){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=i}call(t,e){return e.subscribe(new c(t,this.duration,this.scheduler,this.leading,this.trailing))}}class c extends i.a{constructor(t,e,n,i,o){super(t),this.duration=e,this.scheduler=n,this.leading=i,this.trailing=o,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(l,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function l(t){const{subscriber:e}=t;e.clearThrottle()}},gjNt:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("l5mm"),o=n("IzEk"),r=n("1G5W");const a=t=>{let e;return t.pipe(Object(o.a)(1),Object(r.a)(Object(i.a)(0))).subscribe(t=>e=t),e}},hC9K:function(t,e,n){"use strict";n.d(e,"a",function(){return tt});var i=n("Joaz"),o=n("itXk"),r=n("pLZG"),a=n("eIep"),s=n("vkgz"),c=n("5+tZ"),l=n("ZWtM"),u=n("JplU"),p=n("P5Qy"),h=n("rS+x"),d=n("FQSa"),g=n("BE5q"),f=n("lDLV"),b=n("/SBe"),m=n("sWYD"),_=n("4+6U"),y=n("fXoL"),O=n("/RaO"),v=n("VRyK"),C=n("sYmb");let P=(()=>{class t{constructor(t,e,n){this.panoramaService=t,this.nClickService=e,this.zone=n,this.degree=0,this.panoramaCompassType=i.a,this.subs=[]}ngOnInit(){this.subs.push(this.panoramaService.events.mode.pipe(Object(r.a)(t=>t===i.c.EntryToViewer),Object(a.a)(()=>Object(v.a)(this.panoramaService.events.headingChanged,this.panoramaService.events.panoramaChanged))).subscribe(()=>{this.zone.run(()=>this.degree=-1*this.panoramaService.panoramaMap.getHeading())}))}ngOnDestroy(){this.clear()}onClickCompass(t,e){const n=this.panoramaService.panoramaMap,o=O.jc,r=O.kc;let a;switch(e){case i.a.North:n.deltaTilt(r,!0),a=this.panoramaService.isAirType?p.a.BIRDVIEW_VIEWER_COMPASS:l.a.STREETVIEW_VIEWER_COMPASS;break;case i.a.South:n.deltaTilt(-r,!0),a=this.panoramaService.isAirType?p.a.BIRDVIEW_VIEWER_COMPASS:l.a.STREETVIEW_VIEWER_COMPASS;break;case i.a.East:n.deltaHeading(o,!0),a=this.panoramaService.isAirType?p.a.BIRDVIEW_VIEWER_COMPASS:l.a.STREETVIEW_VIEWER_COMPASS;break;case i.a.West:n.deltaHeading(-o,!0),a=this.panoramaService.isAirType?p.a.BIRDVIEW_VIEWER_COMPASS:l.a.STREETVIEW_VIEWER_COMPASS;break;default:n.northward(!0),a=this.panoramaService.isAirType?p.a.BIRDVIEW_VIEWER_COMPASSNORTH:l.a.STREETVIEW_VIEWER_COMPASSNORTH}this.nClickService.nClick(t,a)}clear(){this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[]}}return t.\u0275fac=function(e){return new(e||t)(y.Yb(i.f),y.Yb(u.a),y.Yb(y.F))},t.\u0275cmp=y.Sb({type:t,selectors:[["panorama-compass"]],decls:16,vars:17,consts:[[1,"compass_box"],["type","button",1,"btn_compass",3,"click"],["type","button",1,"btn_top",3,"click"],["type","button",1,"btn_right",3,"click"],["type","button",1,"btn_bottom",3,"click"],["type","button",1,"btn_left",3,"click"]],template:function(t,e){1&t&&(y.ec(0,"div",0),y.ec(1,"button",1),y.lc("click",function(t){return e.onClickCompass(t)}),y.Uc(2),y.pc(3,"translate"),y.dc(),y.ec(4,"button",2),y.lc("click",function(t){return e.onClickCompass(t,e.panoramaCompassType.North)}),y.Uc(5),y.pc(6,"translate"),y.dc(),y.ec(7,"button",3),y.lc("click",function(t){return e.onClickCompass(t,e.panoramaCompassType.East)}),y.Uc(8),y.pc(9,"translate"),y.dc(),y.ec(10,"button",4),y.lc("click",function(t){return e.onClickCompass(t,e.panoramaCompassType.South)}),y.Uc(11),y.pc(12,"translate"),y.dc(),y.ec(13,"button",5),y.lc("click",function(t){return e.onClickCompass(t,e.panoramaCompassType.West)}),y.Uc(14),y.pc(15,"translate"),y.dc(),y.dc()),2&t&&(y.Jb(1),y.Pc("transform","rotate("+e.degree+"deg)"),y.Jb(1),y.Wc(" ",y.qc(3,7,"PANORAMA.CENTER")," "),y.Jb(3),y.Wc(" ",y.qc(6,9,"PANORAMA.TOP")," "),y.Jb(3),y.Wc(" ",y.qc(9,11,"PANORAMA.RIGHT")," "),y.Jb(3),y.Wc(" ",y.qc(12,13,"PANORAMA.BOTTOM")," "),y.Jb(3),y.Wc(" ",y.qc(15,15,"PANORAMA.LEFT")," "))},pipes:[C.c],styles:["[_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%], [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_bottom[_ngcontent-%COMP%], [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_bottom[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_compass[_ngcontent-%COMP%], [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_compass[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_left[_ngcontent-%COMP%], [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_left[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_right[_ngcontent-%COMP%], [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_right[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_top[_ngcontent-%COMP%], [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_top[_ngcontent-%COMP%]:hover{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/panorama.png);background-size:252px 227px}.retina   [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_bottom[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_bottom[_ngcontent-%COMP%]:hover, .retina   [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_compass[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_compass[_ngcontent-%COMP%]:hover, .retina   [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_left[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_left[_ngcontent-%COMP%]:hover, .retina   [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_right[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_right[_ngcontent-%COMP%]:hover, .retina   [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_top[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_top[_ngcontent-%COMP%]:hover{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/panorama@2x.png)}[_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]{overflow:hidden;display:inline-block;width:58px;height:58px;font-size:0;color:transparent;vertical-align:top;background-position:0 0;position:relative}[_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_compass[_ngcontent-%COMP%]{background-position:-168px -144px;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto}[_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_compass[_ngcontent-%COMP%], [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_compass[_ngcontent-%COMP%]:hover{overflow:hidden;display:inline-block;width:26px;height:26px;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_compass[_ngcontent-%COMP%]:hover{background-position:-126px -102px}[_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_top[_ngcontent-%COMP%]{width:26px;height:17px;background-position:-194px -181px;position:absolute;top:0;left:0;right:0;margin:0 auto}[_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_top[_ngcontent-%COMP%], [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_top[_ngcontent-%COMP%]:hover{overflow:hidden;display:inline-block;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_top[_ngcontent-%COMP%]:hover{width:38px;height:19px;background-position:-42px -181px;top:2px;left:-1px}[_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_right[_ngcontent-%COMP%]{width:17px;height:26px;background-position:-235px -28px;position:absolute;top:0;right:0;bottom:0;margin:auto 0}[_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_right[_ngcontent-%COMP%], [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_right[_ngcontent-%COMP%]:hover{overflow:hidden;display:inline-block;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_right[_ngcontent-%COMP%]:hover{width:19px;height:39px;background-position:-200px -76px;top:-1px;right:2px}[_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_bottom[_ngcontent-%COMP%]{width:26px;height:17px;background-position:-166px -181px;position:absolute;bottom:0;left:0;right:0;margin:0 auto}[_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_bottom[_ngcontent-%COMP%], [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_bottom[_ngcontent-%COMP%]:hover{overflow:hidden;display:inline-block;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_bottom[_ngcontent-%COMP%]:hover{width:38px;height:19px;background-position:-160px -115px;bottom:2px;left:-1px}[_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_left[_ngcontent-%COMP%]{width:17px;height:26px;background-position:-235px 0;position:absolute;top:0;left:0;bottom:0;margin:auto 0}[_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_left[_ngcontent-%COMP%], [_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_left[_ngcontent-%COMP%]:hover{overflow:hidden;display:inline-block;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .compass_box[_ngcontent-%COMP%]   .btn_left[_ngcontent-%COMP%]:hover{width:19px;height:39px;background-position:-200px -35px;top:-1px;left:2px}"]}),t})();var M=n("ofXK"),x=n("/Ml4"),w=n("sqXS");function k(t,e){if(1&t){const t=y.fc();y.ec(0,"div",1),y.ec(1,"div",2),y.ec(2,"div",3),y.ec(3,"div",4),y.ec(4,"h4"),y.Uc(5),y.pc(6,"translate"),y.dc(),y.ec(7,"button",5),y.lc("click",function(){return y.Jc(t),y.oc().closeDialog()}),y.Uc(8,"\ub2eb\uae30"),y.dc(),y.dc(),y.ec(9,"div",6),y.ec(10,"report-container",7),y.lc("completeReport",function(){return y.Jc(t),y.oc().closeDialog()}),y.dc(),y.dc(),y.dc(),y.dc(),y.ec(11,"div",8),y.lc("click",function(){return y.Jc(t),y.oc().closeDialog()}),y.dc(),y.dc()}2&t&&(y.Jb(5),y.Vc(y.qc(6,2,"REPORT.TITLE")),y.Jb(5),y.wc("useHeader",!1))}let S=(()=>{class t{constructor(){this.isShow=!1,this.closed=new y.q}closeDialog(){this.isShow=!1,this.closed.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y.Sb({type:t,selectors:[["report-modal"]],inputs:{isShow:"isShow"},outputs:{closed:"closed"},decls:1,vars:1,consts:[["class","report_pop_area",4,"ngIf"],[1,"report_pop_area"],[1,"report_pop_wrap"],["id","report_pop",1,"report_pop_inner"],[1,"report_title"],["type","button",1,"btn_close",3,"click"],[1,"iframe_area"],["parent","modal",3,"useHeader","completeReport"],[1,"dimmed",3,"click"]],template:function(t,e){1&t&&y.Sc(0,k,12,4,"div",0),2&t&&y.wc("ngIf",e.isShow)},directives:[M.o,w.a],pipes:[C.c],styles:["[_nghost-%COMP%]   .report_title[_ngcontent-%COMP%]   .btn_close[_ngcontent-%COMP%]{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/common.png);background-size:256px 225px}.retina   [_nghost-%COMP%]   .report_title[_ngcontent-%COMP%]   .btn_close[_ngcontent-%COMP%]{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/common@2x.png)}[_nghost-%COMP%]   .report_title[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .report_title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{height:52px;font-size:20px;font-weight:500;line-height:54px;color:#333;text-align:center}[_nghost-%COMP%]   .report_title[_ngcontent-%COMP%]   .btn_close[_ngcontent-%COMP%]{overflow:hidden;display:inline-block;width:30px;height:30px;font-size:0;color:transparent;vertical-align:top;background-position:-64px -105px;position:absolute;top:0;right:13px;bottom:0;margin:auto}[_nghost-%COMP%]   .report_pop_area[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0;z-index:3000}[_nghost-%COMP%]   .report_pop_area[_ngcontent-%COMP%]   .report_pop_inner[_ngcontent-%COMP%]{width:376px;overflow:hidden;position:absolute;top:30px;left:50%;bottom:30px;max-height:553px;margin:auto;transform:translateX(-50%);border-radius:2px;background-color:#fff;box-shadow:0 0 2px 0 rgba(0,0,0,.2),0 2px 4px 0 rgba(0,0,0,.2);z-index:10}[_nghost-%COMP%]   .report_pop_area[_ngcontent-%COMP%]   .iframe_inner[_ngcontent-%COMP%]{padding-bottom:50px}[_nghost-%COMP%]   .report_pop_area[_ngcontent-%COMP%]   .iframe_area[_ngcontent-%COMP%]{top:53px}[_nghost-%COMP%]   .report_pop_area[_ngcontent-%COMP%]   .btn_area[_ngcontent-%COMP%], [_nghost-%COMP%]   .report_pop_area[_ngcontent-%COMP%]   .iframe_area[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0}[_nghost-%COMP%]   .report_pop_area[_ngcontent-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_send[_ngcontent-%COMP%]{width:100%;height:50px;background-color:#363840;font-size:16px;line-height:50px;color:#fff}[_nghost-%COMP%]   .report_pop_area[_ngcontent-%COMP%]   nm-spinner[_ngcontent-%COMP%]{position:absolute;top:53px;left:0;right:0;bottom:0;margin:auto}[_nghost-%COMP%]   .report_pop_area[_ngcontent-%COMP%]   .dimmed[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(91,94,98,.4)}"],changeDetection:0}),t})();var E=n("xgIS"),I=n("LRne"),R=n("1Ykd"),T=n("lJxs"),A=n("1G5W"),L=n("rHdf"),j=n("XrBI"),D=n("R0Ic");const F={Normal:Object(D.k)({}),Float:Object(D.k)({overflow:"hidden",top:"auto",right:"auto",left:0,bottom:0,height:"150px",borderRadius:"0 4px 0 0"}),Split:Object(D.k)({overflow:"visible",height:"100%",left:0,bottom:0,right:"auto",borderRadius:"0"})},N={Float:Object(D.k)({top:"auto",width:"350px",height:"150px"})},B=Object(D.m)("mapsLayoutTransition",[Object(D.j)("Normal",F.Normal),Object(D.j)("Float",F.Float),Object(D.j)("Split",F.Split),Object(D.l)("Float => Split",[Object(D.g)(":self",[F.Float,Object(D.e)("200ms ease-in",F.Split)])]),Object(D.l)("Split => Float",[Object(D.g)(":self",[Object(D.f)([Object(D.e)("0ms",Object(D.k)({top:"auto"})),Object(D.e)("200ms ease-out",F.Float)])])])]),U=Object(D.m)("mapsFadeTransition",[Object(D.j)("Float",N.Float)]);var V=n("+ZFw");const z=["mapContainer"],W=["resizeHeight"],H=["resizeWidth"],q=["resizeBoth"];function Y(t,e){if(1&t){const t=y.fc();y.ec(0,"button",16),y.lc("click",function(e){return y.Jc(t),y.oc().split(e)}),y.Uc(1),y.pc(2,"translate"),y.dc()}2&t&&(y.Jb(1),y.Wc(" ",y.qc(2,1,"PANORAMA.EXPAND"),"\n"))}function J(t,e){if(1&t){const t=y.fc();y.ec(0,"button",17),y.lc("click",function(){return y.Jc(t),y.oc().float()}),y.Uc(1),y.pc(2,"translate"),y.dc()}2&t&&(y.Jb(1),y.Wc(" ",y.qc(2,1,"PANORAMA.REDUCE"),"\n"))}let G=(()=>{class t{constructor(t,e,n,i,o,r,a,s,c,l){this.el=t,this.panoramaService=e,this.miniMapService=n,this.mapsLayoutService=i,this.offscreenAvatar=o,this.mapsService=r,this.renderer=a,this.utils=s,this.nClickService=c,this.zone=l,this.isFloatToSplit=!1,this.isSplitToFloat=!1,this.splitButtonVisible=!1,this.subs=[],this.initZoomStatus()}get width(){return this.mapsLayoutService.layoutWidth}set width(t){this.mapsLayoutService.layoutWidth=t}set height(t){this.mapsLayoutService.layoutHeight=t}get height(){return this.mapsLayoutService.layoutHeight}get layout(){return this.mapsLayoutService.layout}get isShowExpandBtn(){return this.layout!==d.d.Split&&this.splitButtonVisible}get isShowReduce(){return this.layout===d.d.Split&&this.splitButtonVisible}get isFloatMode(){return this.layout===d.d.Float}get isHideMap(){return this.isFloatToSplit||this.isSplitToFloat}ngOnInit(){this.mapEl=this.mapsService.mapElement,this.subEvent()}split(t){this.mapsLayoutService.setLayout(d.d.Split),this.nClickService.nClick(t,this.panoramaService.isAirType?p.a.BIRDVIEW_MINIMAP_MAXIMIZE:l.a.STREETVIEW_MINIMAP_MAXIMIZE)}float(){this.mapsLayoutService.setLayout(d.d.Float)}zoomIn(t){this.mapsService.zoomIn(),this.nClickService.nClick(t,this.panoramaService.isAirType?p.a.BIRDVIEW_MINIMAP_ZOOMIN:l.a.STREETVIEW_MINIMAP_ZOOMIN)}zoomOut(t){this.mapsService.zoomOut(),this.nClickService.nClick(t,this.panoramaService.isAirType?p.a.BIRDVIEW_MINIMAP_ZOOMOUT:l.a.STREETVIEW_MINIMAP_ZOOMOUT)}subEvent(){this.subs.push(this.initMiniMap(),...this.initResizeMiniMap())}initMiniMap(){let t=!0;return this.mapsLayoutService.layoutBehavior.subscribe(e=>{e===d.d.Normal?t?t=!1:this.detachMiniMap():this.attachMiniMap()})}attachMiniMap(){this.renderer.appendChild(this.mapContainer.nativeElement,this.mapEl),this.renderer.setStyle(this.mapEl,"left","0px"),this.renderer.setStyle(this.mapEl,"top","auto"),this.refreshMap()}detachMiniMap(){this.renderer.appendChild(document.body,this.mapEl),this.renderer.removeStyle(this.mapEl,"left"),this.renderer.removeStyle(this.mapEl,"top"),this.miniMapService.runAnimationAfterDetachMiniMap(),this.refreshMap()}onTransitionStart(t){const e=t.toState,n=t.fromState;this.mapsLayoutService.isAnimate=!0,this.isFloatToSplit=n===d.d.Float&&e===d.d.Split,this.isSplitToFloat=n===d.d.Split&&e===d.d.Float}onTransitionDone(t){const e=t.toState;this.mapsLayoutService.isAnimate=!1,this.splitButtonVisible=e!==d.d.Normal,e===d.d.Float&&this.mapsService.moveTo({center:this.offscreenAvatar.getAvatarPosition(),withPadding:!1}),this.utils.nextTick(()=>{(this.isFloatToSplit||this.isSplitToFloat)&&(this.resizeMap(),this.panoramaService.panoramaMap.resize()),this.mapsLayoutService.layoutMorphing.next(!1),this.isFloatToSplit=!1,this.isSplitToFloat=!1},0)}refreshMap(){requestAnimationFrame(()=>{this.zone.run(()=>{this.resizeMap(),this.panoramaService.panoramaMap&&this.panoramaService.panoramaMap.resize()})})}subscribeResizeStream(t,e){return Object(v.a)(Object(E.a)(t,"mousedown"),Object(E.a)(t,"touchstart")).pipe(Object(a.a)(n=>{const i=this.mapsLayoutService.layoutWidth-n.clientX,o=n.offsetY;return Object(v.a)(Object(E.a)(document,"mousemove"),Object(E.a)(document,"touchmove")).pipe(Object(R.a)(10),Object(T.a)(t=>({x:"x"!==e?t.clientX+i:this.width,y:"y"!==e?window.innerHeight-t.clientY-o-O.zc:this.height})),Object(A.a)(Object(v.a)(Object(E.a)(document,"mouseup"),Object(E.a)(document,"touchend")).pipe(Object(s.a)(()=>{switch(this.layout){case d.d.Float:this.nClickService.nClick(t,this.panoramaService.isAirType?p.a.BIRDVIEW_MINIMAP_FREERESIZE:l.a.STREETVIEW_MINIMAP_FREERESIZE);break;case d.d.Split:this.nClickService.nClick(t,this.panoramaService.isAirType?p.a.BIRDVIEW_MINIMAP_VERTICALRESIZE:l.a.STREETVIEW_MINIMAP_VERTICALRESIZE)}}))))})).subscribe(t=>{switch(this.layout){case d.d.Float:this.setFloatResizeRange(t);break;case d.d.Split:default:this.setSplitResizeRange(t)}this.resizeMap(),this.panoramaService.panoramaMap.resize()})}initResizeMiniMap(){return[this.subscribeResizeStream(this.resizeBothEl.nativeElement),this.subscribeResizeStream(this.resizeWidthEl.nativeElement,"y"),this.subscribeResizeStream(this.resizeHeightEl.nativeElement,"x")]}setFloatResizeRange(t){this.zone.run(()=>{this.width=Math.max(Math.min(O.qc,t.x),O.oc),this.height=Math.max(Math.min(O.pc,t.y),O.nc)})}setSplitResizeRange(t){this.zone.run(()=>{this.width=Math.max(Math.min(.5*window.innerWidth,t.x),O.oc)})}initZoomStatus(){this.zoomStatus=Object(v.a)(Object(I.a)(""),this.mapsService.events.orgZoomEnd).pipe(Object(T.a)(()=>({zoom:this.mapsService.getZoom(),maxZoom:this.mapsService.getMaxZoom(),minZoom:this.mapsService.getMinZoom()}))),this.zoomInDisabled=this.zoomStatus.pipe(Object(T.a)(({zoom:t,maxZoom:e})=>Math.round(t)>=e)),this.zoomOutDisabled=this.zoomStatus.pipe(Object(T.a)(({zoom:t,minZoom:e})=>Math.round(t)<=e))}resizeMap(){this.mapsService.resize()}}return t.\u0275fac=function(e){return new(e||t)(y.Yb(y.o),y.Yb(i.f),y.Yb(i.b),y.Yb(g.a),y.Yb(i.e),y.Yb(j.a),y.Yb(y.L),y.Yb(L.a),y.Yb(u.a),y.Yb(y.F))},t.\u0275cmp=y.Sb({type:t,selectors:[["panorama-mini-map"]],viewQuery:function(t,e){if(1&t&&(y.ad(z,3),y.ad(W,3),y.ad(H,3),y.ad(q,3)),2&t){let t;y.Fc(t=y.mc())&&(e.mapContainer=t.first),y.Fc(t=y.mc())&&(e.resizeHeightEl=t.first),y.Fc(t=y.mc())&&(e.resizeWidthEl=t.first),y.Fc(t=y.mc())&&(e.resizeBothEl=t.first)}},hostVars:5,hostBindings:function(t,e){1&t&&y.Qc("@mapsLayoutTransition.start",function(t){return e.onTransitionStart(t)})("@mapsLayoutTransition.done",function(t){return e.onTransitionDone(t)}),2&t&&(y.Rc("@mapsLayoutTransition",e.layout),y.Pc("width",e.width,"px")("height",e.height,"px"))},decls:24,vars:23,consts:[["type","button","class","btn_expand",3,"click",4,"ngIf"],["type","button","class","btn_reduce",3,"click",4,"ngIf"],[1,"zoom"],["type","button",1,"btn_zoom_in",3,"click"],["type","button",1,"btn_zoom_out",3,"click"],[1,"size_control"],[1,"control_box","control_top"],["resizeHeight",""],[1,"control_box","control_bottom"],[1,"control_box","control_left"],[1,"control_box","control_right"],["resizeWidth",""],[1,"btn_control"],["resizeBoth",""],[1,"icon_size"],["mapContainer",""],["type","button",1,"btn_expand",3,"click"],["type","button",1,"btn_reduce",3,"click"]],template:function(t,e){1&t&&(y.Sc(0,Y,3,3,"button",0),y.Sc(1,J,3,3,"button",1),y.ec(2,"div",2),y.ec(3,"button",3),y.lc("click",function(t){return e.zoomIn(t)}),y.pc(4,"async"),y.Uc(5),y.pc(6,"translate"),y.dc(),y.ec(7,"button",4),y.lc("click",function(t){return e.zoomOut(t)}),y.pc(8,"async"),y.Uc(9),y.pc(10,"translate"),y.dc(),y.dc(),y.ec(11,"div",5),y.Zb(12,"span",6,7),y.Zb(14,"span",8),y.Zb(15,"span",9),y.Zb(16,"span",10,11),y.ec(18,"span",12,13),y.Zb(20,"span",14),y.dc(),y.dc(),y.Zb(21,"pegman-offscreen-widget"),y.Zb(22,"div",null,15)),2&t&&(y.wc("ngIf",e.isShowExpandBtn),y.Jb(1),y.wc("ngIf",e.isShowReduce),y.Jb(2),y.Qb("disabled",y.qc(4,15,e.zoomInDisabled)),y.Jb(2),y.Wc(" ",y.qc(6,17,"CONTROL.ZOOMIN")," "),y.Jb(2),y.Qb("disabled",y.qc(8,19,e.zoomOutDisabled)),y.Jb(2),y.Wc(" ",y.qc(10,21,"CONTROL.ZOOMOUT")," "),y.Jb(3),y.Qb("float",e.isFloatMode),y.Jb(6),y.Qb("float",e.isFloatMode),y.Jb(4),y.Qb("hide",e.isHideMap),y.wc("@mapsFadeTransition",e.layout))},directives:[M.o,V.a],pipes:[M.b,C.c],styles:['[_nghost-%COMP%]   .btn_expand[_ngcontent-%COMP%], [_nghost-%COMP%]   .btn_expand[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .btn_reduce[_ngcontent-%COMP%], [_nghost-%COMP%]   .btn_reduce[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .size_control[_ngcontent-%COMP%]   .btn_control[_ngcontent-%COMP%]   .icon_size[_ngcontent-%COMP%], [_nghost-%COMP%]   .size_control[_ngcontent-%COMP%]   .btn_control[_ngcontent-%COMP%]:hover   .icon_size[_ngcontent-%COMP%], [_nghost-%COMP%]   .zoom[_ngcontent-%COMP%]   .btn_zoom_in[_ngcontent-%COMP%], [_nghost-%COMP%]   .zoom[_ngcontent-%COMP%]   .btn_zoom_in[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .zoom[_ngcontent-%COMP%]   .btn_zoom_out[_ngcontent-%COMP%], [_nghost-%COMP%]   .zoom[_ngcontent-%COMP%]   .btn_zoom_out[_ngcontent-%COMP%]:hover{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/panorama.png);background-size:252px 227px}.retina   [_nghost-%COMP%]   .btn_expand[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .btn_expand[_ngcontent-%COMP%]:hover, .retina   [_nghost-%COMP%]   .btn_reduce[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .btn_reduce[_ngcontent-%COMP%]:hover, .retina   [_nghost-%COMP%]   .size_control[_ngcontent-%COMP%]   .btn_control[_ngcontent-%COMP%]   .icon_size[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .size_control[_ngcontent-%COMP%]   .btn_control[_ngcontent-%COMP%]:hover   .icon_size[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .zoom[_ngcontent-%COMP%]   .btn_zoom_in[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .zoom[_ngcontent-%COMP%]   .btn_zoom_in[_ngcontent-%COMP%]:hover, .retina   [_nghost-%COMP%]   .zoom[_ngcontent-%COMP%]   .btn_zoom_out[_ngcontent-%COMP%], .retina   [_nghost-%COMP%]   .zoom[_ngcontent-%COMP%]   .btn_zoom_out[_ngcontent-%COMP%]:hover{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/panorama@2x.png)}[_nghost-%COMP%]{position:absolute;bottom:0;left:0;z-index:1100;background-color:#f2f2f2}[_nghost-%COMP%]   .btn_expand[_ngcontent-%COMP%]{background-position:-60px -24px;position:absolute;bottom:5px;left:5px;z-index:20}[_nghost-%COMP%]   .btn_expand[_ngcontent-%COMP%], [_nghost-%COMP%]   .btn_expand[_ngcontent-%COMP%]:hover{overflow:hidden;display:inline-block;width:33px;height:33px;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .btn_expand[_ngcontent-%COMP%]:hover{background-position:-160px -80px}[_nghost-%COMP%]   .btn_reduce[_ngcontent-%COMP%]{background-position:-200px 0;position:absolute;bottom:5px;left:5px;z-index:20}[_nghost-%COMP%]   .btn_reduce[_ngcontent-%COMP%], [_nghost-%COMP%]   .btn_reduce[_ngcontent-%COMP%]:hover{overflow:hidden;display:inline-block;width:33px;height:33px;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .btn_reduce[_ngcontent-%COMP%]:hover{background-position:-95px -24px}[_nghost-%COMP%]   map-container.hide[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .size_control[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .size_control[_ngcontent-%COMP%]   .control_box[_ngcontent-%COMP%]{position:absolute;background:#fff;z-index:10}[_nghost-%COMP%]   .size_control[_ngcontent-%COMP%]   .control_top[_ngcontent-%COMP%]{left:3px;right:3px;top:0;z-index:20;height:3px;border-bottom:1px solid rgba(0,0,0,.12)}[_nghost-%COMP%]   .size_control[_ngcontent-%COMP%]   .control_top.float[_ngcontent-%COMP%]{cursor:ns-resize}[_nghost-%COMP%]   .size_control[_ngcontent-%COMP%]   .control_right[_ngcontent-%COMP%]{right:0;top:0;bottom:0;width:3px;cursor:ew-resize;border-left:1px solid rgba(0,0,0,.12)}[_nghost-%COMP%]   .size_control[_ngcontent-%COMP%]   .control_left[_ngcontent-%COMP%]{top:0;left:0;bottom:0;width:3px;border-right:1px solid rgba(0,0,0,.12)}[_nghost-%COMP%]   .size_control[_ngcontent-%COMP%]   .control_bottom[_ngcontent-%COMP%]{right:3px;left:3px;bottom:0;z-index:20;height:3px;border-top:1px solid rgba(0,0,0,.12)}[_nghost-%COMP%]   .size_control[_ngcontent-%COMP%]   .btn_control[_ngcontent-%COMP%]{overflow:hidden;position:absolute;right:2px;top:2px;z-index:20;width:25px;height:25px;cursor:ew-resize;text-align:right}[_nghost-%COMP%]   .size_control[_ngcontent-%COMP%]   .btn_control.float[_ngcontent-%COMP%]{cursor:nesw-resize}[_nghost-%COMP%]   .size_control[_ngcontent-%COMP%]   .btn_control[_ngcontent-%COMP%]:before{position:absolute;display:block;width:100%;height:50px;margin-top:0;background:#fff;border-left:1px solid rgba(0,0,0,.14);transform:rotate(-45deg) translate(-2px);transform-origin:0 0;content:""}[_nghost-%COMP%]   .size_control[_ngcontent-%COMP%]   .btn_control[_ngcontent-%COMP%]   .icon_size[_ngcontent-%COMP%]{background-position:-235px -98px;position:relative}[_nghost-%COMP%]   .size_control[_ngcontent-%COMP%]   .btn_control[_ngcontent-%COMP%]   .icon_size[_ngcontent-%COMP%], [_nghost-%COMP%]   .size_control[_ngcontent-%COMP%]   .btn_control[_ngcontent-%COMP%]:hover   .icon_size[_ngcontent-%COMP%]{overflow:hidden;display:inline-block;width:14px;height:14px;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .size_control[_ngcontent-%COMP%]   .btn_control[_ngcontent-%COMP%]:hover   .icon_size[_ngcontent-%COMP%]{background-position:-235px -82px}[_nghost-%COMP%]   .hide[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .zoom[_ngcontent-%COMP%]{display:block;background-color:#fff;position:absolute;bottom:9px;right:9px;z-index:20;width:27px;border-radius:2px;box-shadow:0 0 0 1px rgba(0,0,0,.2),0 1px 3px 0 rgba(0,0,0,.1)}[_nghost-%COMP%]   .zoom[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .zoom[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{position:relative;z-index:10}[_nghost-%COMP%]   .zoom[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   nm-control-icon[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .zoom[_ngcontent-%COMP%]   .btn_zoom_in[_ngcontent-%COMP%]{background-position:-200px -146px;border-bottom:1px solid rgba(0,0,0,.1)}[_nghost-%COMP%]   .zoom[_ngcontent-%COMP%]   .btn_zoom_in[_ngcontent-%COMP%], [_nghost-%COMP%]   .zoom[_ngcontent-%COMP%]   .btn_zoom_in[_ngcontent-%COMP%]:hover{overflow:hidden;display:inline-block;width:27px;height:27px;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .zoom[_ngcontent-%COMP%]   .btn_zoom_in[_ngcontent-%COMP%]:hover{background-position:-200px -117px}[_nghost-%COMP%]   .zoom[_ngcontent-%COMP%]   .btn_zoom_in.disabled[_ngcontent-%COMP%]{opacity:.2}[_nghost-%COMP%]   .zoom[_ngcontent-%COMP%]   .btn_zoom_out[_ngcontent-%COMP%]{background-position:-126px -60px}[_nghost-%COMP%]   .zoom[_ngcontent-%COMP%]   .btn_zoom_out[_ngcontent-%COMP%], [_nghost-%COMP%]   .zoom[_ngcontent-%COMP%]   .btn_zoom_out[_ngcontent-%COMP%]:hover{overflow:hidden;display:inline-block;width:27px;height:26px;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .zoom[_ngcontent-%COMP%]   .btn_zoom_out[_ngcontent-%COMP%]:hover{background-position:-130px -24px}[_nghost-%COMP%]   .zoom[_ngcontent-%COMP%]   .btn_zoom_out.disabled[_ngcontent-%COMP%]{opacity:.2}'],data:{animation:[B,U]}}),t})();var X=n("9YLj"),K=n("NslQ");const Z=["panorama"];function $(t,e){if(1&t){const t=y.fc();y.ec(0,"button",14),y.lc("click",function(e){return y.Jc(t),y.oc().changeView(e)}),y.pc(1,"translate"),y.Uc(2),y.pc(3,"translate"),y.dc()}if(2&t){const t=y.oc();y.wc("ngClass",t.anotherViewTypeClass)("tooltip",y.qc(1,3,t.anotherViewText)),y.Jb(2),y.Wc(" ",y.qc(3,5,t.anotherViewText)," ")}}function Q(t,e){if(1&t&&y.Zb(0,"panorama-location-info",15),2&t){const t=y.oc();y.Pc("margin-left",t.panoramaLocationMarginLeft,"px"),y.wc("location",t.location)("timelines",t.timelines)("hotspot",t.hotspot)}}let tt=(()=>{class t{constructor(t,e,n,i,o,r){this.service=t,this.zone=e,this.panoramaService=n,this.nClickService=i,this.layoutService=o,this.reportFacade=r,this.zoomInDisabled=!1,this.zoomOutDisabled=!1,this.timelines=[],this.isShowReportPanorama=!1,this.subs=[]}get panoramaLayoutMarginLeft(){return this.layoutService.layout!==d.d.Split||this.layoutService.isAnimate?0:this.layoutService.layoutWidth}get panoramaLocationMarginLeft(){return this.layoutService.layoutWidth}get isShowToggleViewBtn(){return!!this.anotherViewType}get anotherViewTypeClass(){return this.anotherViewType===h.z.STREET?"btn_street":"btn_sky"}get anotherViewText(){return this.anotherViewType===h.z.STREET?"PANORAMA.AROUND_STREET_VIEW":"PANORAMA.AROUND_SKY_VIEW"}get display(){return this.layoutService.layout===d.d.Normal?"none":"flex"}ngOnInit(){this.service.panoramaElement=this.panoramaElement,this.service.events.mode.pipe(Object(r.a)(t=>t===i.c.EntryToViewer)).subscribe(()=>{this.subs.push(this.service.events.zoomChanged.subscribe(()=>{this.checkZoomButtonActivation()}),this.service.events.panoramaViewerReady.pipe(Object(r.a)(t=>t),Object(a.a)(()=>Object(o.a)([this.service.events.panoramaChanged,this.service.events.nearestPanoramaSpotChanged])),Object(s.a)(()=>{this.location=this.service.panoramaLocation}),Object(c.a)(()=>{const{lng:t,lat:e}=this.location.latlng;return this.service.getHotspotPanorama(t,e,this.location.type)})).subscribe(t=>{this.zone.run(()=>{this.hotspot=t,this.anotherViewType=this.panoramaService.getAnotherViewType()})}),this.service.events.panoramaViewerReady.pipe(Object(r.a)(t=>t),Object(a.a)(()=>this.service.events.timelineChanged)).subscribe(()=>{this.timelines=this.service.panoramaTimes}),this.service.events.panoramaViewerReady.pipe(Object(r.a)(t=>t),Object(a.a)(()=>this.service.events.timelineCleared)).subscribe(()=>{this.timelines=[]}))}),this.service.events.mode.pipe(Object(r.a)(t=>t===i.c.ViewerToEntry)).subscribe(()=>{this.clear()})}zoomIn(t){this.service.zoomIn(),this.nClickService.nClick(t,this.service.isAirType?p.a.BIRDVIEW_VIEWER_ZOOMIN:l.a.STREETVIEW_VIEWER_ZOOMIN)}zoomOut(t){this.service.zoomOut(),this.nClickService.nClick(t,this.service.isAirType?p.a.BIRDVIEW_VIEWER_ZOOMOUT:l.a.STREETVIEW_VIEWER_ZOOMOUT)}exitPanoramaViewer(t){this.service.exitPanoramaViewerWithUrl(),this.nClickService.nClick(t,this.service.isAirType?p.a.BIRDVIEW_VIEWER_EXIT:l.a.STREETVIEW_VIEWER_EXIT)}changeView(t){this.panoramaService.moveNearestPanoramaSpot(),this.nClickService.nClick(t,this.service.isAirType?p.a.BIRDVIEW_AROUND_NEARSTREETVIEW:l.a.STREETVIEW_AROUND_NEARBIRDVIEW)}onClickReportPanorama(){const{description:t,photodate:e}=this.location;this.reportFacade.closeAll(),this.isShowReportPanorama=!0,this.reportFacade.showReport(f.b.Panorama,f.c.Modal,{address:t,road_address:"",date_photo:Object(m.a)(Object(_.a)(e),"yyyy.MM."),capture_img_list:location.origin+this.service.getPanoramaImageUrl({PID:this.location.PID,heading:this.service.panoramaMap.getHeading(),size:[500,300]})})}onCloseReportPanorama(){this.isShowReportPanorama=!1}clear(){this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[],this.anotherViewType=null}checkZoomButtonActivation(){const t=this.service.panoramaMap.getZoom();this.zoomOutDisabled=!1,this.zoomInDisabled=!1,this.zone.run(()=>{t>=this.service.panoramaMap.getMaxZoom()?this.zoomInDisabled=!0:t<=this.service.panoramaMap.getMinZoom()&&(this.zoomOutDisabled=!0)})}}return t.\u0275fac=function(e){return new(e||t)(y.Yb(i.f),y.Yb(y.F),y.Yb(i.f),y.Yb(u.a),y.Yb(g.a),y.Yb(b.a))},t.\u0275cmp=y.Sb({type:t,selectors:[["panorama-layout"]],viewQuery:function(t,e){if(1&t&&y.ad(Z,3),2&t){let t;y.Fc(t=y.mc())&&(e.panoramaElement=t.first)}},hostVars:2,hostBindings:function(t,e){2&t&&y.Pc("display",e.display)},decls:24,vars:17,consts:[[1,"panorama_wrap"],["id","panorama",1,"panorama",3,"contextmenu","keydown","keyup"],["panorama",""],[1,"btn_area"],[1,"btn_box"],["type","button","class","btn","tooltipPlacement","left","tooltipShowDelay","0",3,"ngClass","tooltip","click",4,"ngIf"],["type","panorama","dataId","spiButton_share_panorama",3,"dataOption"],["type","button",1,"btn","btn_report",3,"click"],[1,"blind"],["type","button",1,"btn","btn_zoomin",3,"disabled","click"],["type","button",1,"btn","btn_zoomout",3,"disabled","click"],["type","button",1,"btn_close",3,"click"],[3,"location","timelines","marginLeft","hotspot",4,"ngIf"],[3,"isShow","closed"],["type","button","tooltipPlacement","left","tooltipShowDelay","0",1,"btn",3,"ngClass","tooltip","click"],[3,"location","timelines","hotspot"]],template:function(t,e){1&t&&(y.ec(0,"div",0),y.ec(1,"div",1,2),y.lc("contextmenu",function(t){return t.stopPropagation()})("keydown",function(t){return t.stopPropagation()})("keyup",function(t){return t.stopPropagation()}),y.dc(),y.ec(3,"div",3),y.Zb(4,"panorama-compass"),y.ec(5,"div",4),y.Sc(6,$,4,7,"button",5),y.Zb(7,"share-url-button",6),y.ec(8,"button",7),y.lc("click",function(){return e.onClickReportPanorama()}),y.ec(9,"span",8),y.Uc(10,"\uc81c\ubcf4\ud558\uae30"),y.dc(),y.dc(),y.dc(),y.ec(11,"div",4),y.ec(12,"button",9),y.lc("click",function(t){return e.zoomIn(t)}),y.Uc(13),y.pc(14,"translate"),y.dc(),y.ec(15,"button",10),y.lc("click",function(t){return e.zoomOut(t)}),y.Uc(16),y.pc(17,"translate"),y.dc(),y.dc(),y.dc(),y.ec(18,"button",11),y.lc("click",function(t){return e.exitPanoramaViewer(t)}),y.Uc(19),y.pc(20,"translate"),y.dc(),y.dc(),y.Sc(21,Q,1,5,"panorama-location-info",12),y.ec(22,"report-modal",13),y.lc("closed",function(){return e.onCloseReportPanorama()}),y.dc(),y.Zb(23,"panorama-mini-map")),2&t&&(y.Pc("margin-left",e.panoramaLayoutMarginLeft,"px"),y.Jb(6),y.wc("ngIf",e.isShowToggleViewBtn),y.Jb(1),y.yc("dataOption","{baseElement: 'spiButton_share_panorama', layerPosition:'outside-bottom', align:'right', top:",e.isShowToggleViewBtn?-176:-155,", left:48}"),y.Jb(5),y.wc("disabled",e.zoomInDisabled),y.Jb(1),y.Wc(" ",y.qc(14,11,"PANORAMA.ZOOM_IN")," "),y.Jb(2),y.wc("disabled",e.zoomOutDisabled),y.Jb(1),y.Wc(" ",y.qc(17,13,"PANORAMA.ZOOM_OUT")," "),y.Jb(3),y.Wc(" ",y.qc(20,15,"PANORAMA.CLOSE")," "),y.Jb(2),y.wc("ngIf",e.location),y.Jb(1),y.wc("isShow",e.isShowReportPanorama))},directives:[P,M.o,x.a,S,G,M.m,X.a,K.a],pipes:[C.c],styles:['[_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_report[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_report[_ngcontent-%COMP%]:hover:before, [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_sky[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_sky[_ngcontent-%COMP%]:hover:before, [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_street[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_street[_ngcontent-%COMP%]:hover:before, [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_zoomin[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_zoomin[_ngcontent-%COMP%]:not(:disabled).hover:before, [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_zoomin[_ngcontent-%COMP%]:not(:disabled):hover:before, [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_zoomout[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_zoomout[_ngcontent-%COMP%]:not(:disabled).hover:before, [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_zoomout[_ngcontent-%COMP%]:not(:disabled):hover:before, [_nghost-%COMP%]   .btn_close[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .btn_close[_ngcontent-%COMP%]:hover:before{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/panorama.png);background-size:252px 227px}.retina   [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_report[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_report[_ngcontent-%COMP%]:hover:before, .retina   [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_sky[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_sky[_ngcontent-%COMP%]:hover:before, .retina   [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_street[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_street[_ngcontent-%COMP%]:hover:before, .retina   [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_zoomin[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_zoomin[_ngcontent-%COMP%]:not(:disabled).hover:before, .retina   [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_zoomin[_ngcontent-%COMP%]:not(:disabled):hover:before, .retina   [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_zoomout[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_zoomout[_ngcontent-%COMP%]:not(:disabled).hover:before, .retina   [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_zoomout[_ngcontent-%COMP%]:not(:disabled):hover:before, .retina   [_nghost-%COMP%]   .btn_close[_ngcontent-%COMP%]:before, .retina   [_nghost-%COMP%]   .btn_close[_ngcontent-%COMP%]:hover:before{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/panorama@2x.png)}[_nghost-%COMP%]{display:flex;flex-direction:column;position:absolute;top:0;left:0;right:0;bottom:0;background-color:#141414}[_nghost-%COMP%]   .panorama_wrap[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:100%}[_nghost-%COMP%]   .panorama[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .panorama[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{min-width:256px;min-height:256px}[_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]{position:absolute;top:50%;right:8px;width:58px;text-align:center;transform:translateY(-50%)}[_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;position:relative;width:40px;margin-top:10px;border-radius:4px;background-color:rgba(20,20,20,.85);font-size:0;vertical-align:top}[_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){border-top:1px solid hsla(0,0%,100%,.15)}[_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:before{content:""}[_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled:before{cursor:default;opacity:.3}[_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_zoomin[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:40px;height:35px;font-size:0;color:transparent;vertical-align:top;background-position:-42px -144px}[_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_zoomin[_ngcontent-%COMP%]:not(:disabled).hover:before, [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_zoomin[_ngcontent-%COMP%]:not(:disabled):hover:before{overflow:hidden;display:inline-block;width:40px;height:35px;font-size:0;color:transparent;vertical-align:top;background-position:0 -144px}[_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_zoomout[_ngcontent-%COMP%]:before{overflow:hidden;display:inline-block;width:40px;height:35px;font-size:0;color:transparent;vertical-align:top;background-position:-126px -144px}[_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_zoomout[_ngcontent-%COMP%]:not(:disabled).hover:before, [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_zoomout[_ngcontent-%COMP%]:not(:disabled):hover:before{overflow:hidden;display:inline-block;width:40px;height:35px;font-size:0;color:transparent;vertical-align:top;background-position:-84px -144px}[_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_sky[_ngcontent-%COMP%]:before{background-position:0 -102px}[_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_sky[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_sky[_ngcontent-%COMP%]:hover:before{overflow:hidden;display:inline-block;width:40px;height:40px;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_sky[_ngcontent-%COMP%]:hover:before{background-position:-84px -60px}[_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_street[_ngcontent-%COMP%]:before{background-position:-84px -102px}[_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_street[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_street[_ngcontent-%COMP%]:hover:before{overflow:hidden;display:inline-block;width:40px;height:40px;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_street[_ngcontent-%COMP%]:hover:before{background-position:-42px -102px}[_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_report[_ngcontent-%COMP%]:before{background-position:-42px -60px}[_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_report[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_report[_ngcontent-%COMP%]:hover:before{overflow:hidden;display:inline-block;width:40px;height:40px;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .btn_area[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   .btn_report[_ngcontent-%COMP%]:hover:before{background-position:0 -60px}[_nghost-%COMP%]   .btn_close[_ngcontent-%COMP%]{position:fixed;top:15px;right:15px;width:39px;height:39px;border-radius:4px;color:transparent;background-color:#000}[_nghost-%COMP%]   .btn_close[_ngcontent-%COMP%]:before{background-position:-78px -203px;position:absolute;top:0;right:1px;bottom:1px;left:0;margin:auto;content:""}[_nghost-%COMP%]   .btn_close[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .btn_close[_ngcontent-%COMP%]:hover:before{overflow:hidden;display:inline-block;width:22px;height:22px;font-size:0;color:transparent;vertical-align:top}[_nghost-%COMP%]   .btn_close[_ngcontent-%COMP%]:hover:before{background-position:-54px -203px}']}),t})()},haw2:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("+Xv5"),o=n("joil"),r=n("iTV6"),a=n("JIr8"),s=n("EY2u"),c=n("1RhC"),l=n("fXoL");let u=(()=>{class t{constructor(t,e,n){this.log=t,this.envService=e,this.loader=n,window.lcs_SerName=this.getLcsServerName()}lcs_do(t){if(!this.envService.isLocal())return"function"!=typeof window.lcs_do?(this.log.log(o.b.Common,"LcsService","lcs_do",null,"angular.json\ub0b4 scripts \uc601\uc5ed lcs_do \ub77c\uc774\ube0c\ub7ec\ub9ac \ud3ec\ud568 \uc5ec\ubd80 \ud655\uc778\ud558\uc138\uc694."),void this.loader.loadJavascript("https://map.pstatic.net/res/file/content/global/static/naver/js/lcs/lcslog.js?v=1").pipe(Object(a.a)(t=>(this.log.log(o.b.Common,"LcsService","lcs_do",{error:t},"CDN \uc11c\ubc84\uc5d0\uc11c lcs_do \ub77c\uc774\ube0c\ub7ec\ub9ac \uc720\ubb34 \ud655\uc778\ud558\uc138\uc694."),s.a))).subscribe(()=>this.send())):void this.send(t)}getLcsServerName(){return this.envService.isDevLike()?"alpha-lcs.naver.com":"lcs.naver.com"}send(t){t?window.lcs_do({sti:t}):window.lcs_do()}}return t.\u0275fac=function(e){return new(e||t)(l.ic(r.a),l.ic(c.a),l.ic(i.a))},t.\u0275prov=l.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},hed1:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("ApIJ"),o=n("fXoL"),r=n("ofXK");let a=(()=>{class t{constructor(t,e){this.location=t,this.commonRoutes=e,this.isEntryPrev=!1,this.isEntryCurr=!1,this.isProcessingBack=!1,this.isPopState=!1,this.prevUrlStack=[],this.subscribePopState()}calc(t,e){const n=this.isPopState;if(this.isPopState&&(this.isPopState=!1),this.isProcessingBack)return void(this.isProcessingBack=!1);const i=this.getEntryId(t),o=this.getEntryId(e);this.isEntryPrev=!!i,this.isEntryCurr=!!o,i!==o&&(this.isEntryCurr?n&&this.isNeedCleanUpHistory(e)?this.pop():this.writeHistory(t):this.reset())}isFirst(){return 1===this.prevUrlStack.length}isPrevPageASearchHome(){const t=this.getLastHistory();return"search"===t[0]&&1===t.length}close(t,e={}){const n=this.commonRoutes.getRouterParams();if("subway"===n.module&&t)return this.commonRoutes.navigate(t,e);if(n.module===i.c.Entry)return this.commonRoutes.navigate(["/"]);const o=n.valueByOrder,r=o.length;let a=r-("entry"===o[r-3]?3:2);"bus"===n.module&&"-"===o[a-1]&&(a-=1);const s=o.slice(0,a);return this.commonRoutes.navigate(s)}back(t,e={}){const n=this.pop();return n&&n.length>0?0===this.prevUrlStack.length&&n.length>2?this.close(t,e):(this.isProcessingBack=!0,this.commonRoutes.navigate(n)):t?this.commonRoutes.navigate(t,e):this.commonRoutes.navigate(["/"])}reset(){this.isProcessingBack=!1,this.isPopState=!1,0!==this.prevUrlStack.length&&(this.prevUrlStack=[])}isNeedCleanUpHistory(t){const e=this.getLastHistory(),n=this.parseParams(t);return(e?e.join("/"):"")===(n?n.join("/"):"")}writeHistory(t){this.prevUrlStack.push(this.parseParams(t))}getEntryId(t){let e,n=t;for(;Array.isArray(n.children)&&n.children.length>0;){if(n.children[0].component&&n.children[0].data&&n.children[0].data.isEntry){e=n.children[0].params.id;break}n=n.children[0]}return e}parseParams(t){const e=[];let n=t;for(;n;)n.url.length>0&&e.push(...n.url),n=n.children[0];return e.map(t=>t.path)}getLastHistory(){return this.prevUrlStack.find((t,e)=>e===this.prevUrlStack.length-1)}pop(){return this.prevUrlStack.pop()}subscribePopState(){this.location.subscribe(t=>{"popstate"===t.type&&(this.isPopState=!0)})}}return t.\u0275fac=function(e){return new(e||t)(o.ic(r.j),o.ic(i.e))},t.\u0275prov=o.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},iQxS:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fXoL");let o=(()=>{class t{constructor(t){this.el=t,this.targetEvents=[]}ngOnInit(){this.preventDefault||(this.preventDefault="click"),this.targetEvents=this.preventDefault.split(","),this.targetEvents.forEach(t=>{this.el.nativeElement.addEventListener(t,r,!0)})}ngOnDestroy(){this.targetEvents.forEach(t=>{this.el.nativeElement.removeEventListener(t,r)})}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(i.o))},t.\u0275dir=i.Tb({type:t,selectors:[["","preventDefault",""]],inputs:{preventDefault:"preventDefault"}}),t})();function r(t){t.preventDefault()}},iTV6:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("Q63R"),o=n("joil"),r=n("AytR"),a=n("1RhC"),s=n("CJka"),c=n("fXoL");let l=(()=>{class t{constructor(t,e,n){this.api=t,this.uaParser=e,this.envService=n}log(t,e,n,i={},r="",a=o.a.Error){this.sendNelo(t,e,n,i,r,null,a)}logWithLogger(t,e,n,i={},r="",a,s=o.a.Error){this.sendNelo(t,e,n,i,r,a,s)}fmp(){const t={logLevel:o.a.Info,projectName:r.a.projectName,projectVersion:r.a.version,env:r.a.env,type:"fmp",browserName:this.uaParser.browser.name,browserVersion:this.uaParser.browser.version,userAgent:navigator.userAgent,url:location.href,fmpTime:performance.now()};if(this.uaParser.result.os){const{name:e,version:n}=this.uaParser.result.os;e&&(t.os=e),n&&(t.osVersion=n)}if(this.uaParser.result.device){const{vendor:e,model:n}=this.uaParser.result.device;e&&(t.deviceVendor=e),n&&(t.deviceModel=n)}this.envService.isDevLike()?console.log(t):this.api.postLog(JSON.stringify(t)).subscribe()}writeMeasure(t){if(this.envService.isDevLike())return;const e=Object.assign({logLevel:o.a.Info,projectName:r.a.projectName,projectVersion:r.a.version,browserName:this.uaParser.browser.name,browserVersion:this.uaParser.browser.version,env:r.a.env,userAgent:navigator.userAgent,url:location.href,type:"measure"},t);this.api.postLog(JSON.stringify(e)).subscribe()}writeClickGnb(t){if(this.envService.isDevLike())return;const e=Object.assign({logLevel:o.a.Info,projectName:r.a.projectName,projectVersion:r.a.version,browserName:this.uaParser.browser.name,browserVersion:this.uaParser.browser.version,env:r.a.env,userAgent:navigator.userAgent,url:location.href,type:"gnb"},t);this.api.postLog(JSON.stringify(e)).subscribe()}sendNelo(t,e,n,i={},a="",s=null,c=o.a.Error){if(this.envService.isDevLike())return void console.log(i,a);let l={};try{l=JSON.stringify(i)}catch(p){}l.indexOf("API_TIMEOUT")>0&&(c=o.a.DataError);const u=JSON.stringify({logLevel:c,module:t,className:e,methodName:n,msg:a,body:l,browserName:this.uaParser.browser.name,browserVersion:this.uaParser.browser.version,projectName:r.a.projectName,projectVersion:r.a.version,env:r.a.env,userAgent:navigator.userAgent,url:location.href,logger:Array.isArray(s)?s.reverse().reduce((t,e)=>t+`[${e.level}]${e.message}\n`,""):null});this.api.postLog(u).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.ic(i.a),c.ic(s.a),c.ic(a.a))},t.\u0275prov=c.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},j3ZU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("AKIq"),o=n("/rf6");e.default=function(t,e,n){void 0===n&&(n={});var r=i.getCoord(t),a=i.getCoord(e),s=o.degreesToRadians(a[1]-r[1]),c=o.degreesToRadians(a[0]-r[0]),l=o.degreesToRadians(r[1]),u=o.degreesToRadians(a[1]),p=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(l)*Math.cos(u);return o.radiansToLength(2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p)),n.units)}},jPUy:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("kfOz"),o=n("kzaU"),r=n("VkJL");function a(t,e=7){return("number"==typeof t?t:parseFloat(t)).toFixed(e)}class s{static generateKeyFromData(t){let e=null;const n=t.bookmarkType||t.type||t.transport.id;switch(this.checkBookmarkType(t),n){case i.e.Address:e=`${i.e.Address}|${a(t.px)}|${a(t.py)}`;break;case i.e.Place:let n=t.id||t.sid;n=n?(n+"").replace(/[^0-9]/gi,""):null,e=[i.e.Place,n].join("|");break;case i.e.BusStop:e=this.generateKeyBusStop(i.e.BusStop,t.stationId||t.id);break;case i.e.Bus:e=this.generateKeyBusRoute(i.e.Bus,t.id||t.busId);break;case i.e.BusStopLane:e=[this.generateKeyBusStop(i.e.BusStop,t.stationId||t.busStop.id),this.generateKeyBusRoute(i.e.Bus,t.busId||t.bus.id)].join("|");break;case i.e.Station:e=[i.e.Station,t.theme&&t.theme.themeId||t.stationId||t.stationID||t.subwayID].join("|");break;case i.e.Route:e=this.generateRouteKey(i.e.Route,t.startPoint,t.viaPoints||[],t.endPoint,t.pathType,t.isInterCity||!1);break;case i.e.Subway:e=[i.e.Subway,t.stationId||t.stationID||t.subwayID||t.id].join("|");break;case i.e.SubwayPath:e=[i.e.SubwayPath,t.startStationID||t.startStationId,t.endStationID||t.endStationId,t.pathType].join("|")}return e}static generateModelKey(t){this.checkBookmarkType(t);let e=null;switch(t.type){case i.e.Place:e=this.generatePlaceKey(t);break;case i.e.Address:e=this.generateAddressKey(t);break;case i.e.BusStop:e=this.generateBusStopKey(t);break;case i.e.Bus:e=this.generateBusRouteKey(t);break;case i.e.BusStopLane:e=this.generateBusStopRouteKey(t);break;case i.e.Station:e=this.generateStationKey(t);break;case i.e.Route:e=this.generateRouteKey(i.e.Route,t.startPoint,t.viaPoints,t.endPoint,t.pathType,t.isInterCity);break;case i.e.Subway:e=this.generateStationKey(t);break;case i.e.SubwayPath:e=this.generateSubwayPathKey(t)}return e}static checkBookmarkType(t){if(!t.bookmarkType)if(t.MarkerType)switch(this.processWhenIdType(t),t.MarkerType){case"SITE":case"AD":case"SUBWAY":case"SPOT":t.bookmarkType=this.checkIsStationType(t)?i.e.Station:i.e.Place;break;case"ADDRESS":t.bookmarkType=i.e.Address;break;case"BUS":case"BUS_ROUTE":case"BUS_STATION":t.bookmarkType=t.stationClass?i.e.BusStop:i.e.Bus}else t.stationClass&&(1===parseInt(t.stationClass,10)&&t.busId?t.bookmarkType=i.e.BusStopLane:1===parseInt(t.stationClass,10)?t.bookmarkType=i.e.BusStop:2===parseInt(t.stationClass,10)?t.bookmarkType=i.e.Subway:3===parseInt(t.stationClass,10)&&(t.bookmarkType=i.e.Station))}static processWhenIdType(t){"ID"===t.MarkerType&&(t.MarkerType="BUS"===t.searchType?"BUS":"SITE")}static checkIsStationType(t){const e=(t.theme||t).isSubway;return!0===e||"true"===e}static generatePlaceKey(t){return[t.type,t.sid].join("|")}static generateAddressKey(t){return s.generateKeyPointBased(""+t.type,t.address||t.fullAddress,t.px,t.py)}static generateBusStopKey(t){return this.generateKeyBusStop(t.type,t.stationID)}static generateBusRouteKey(t){return this.generateKeyBusRoute(i.e.Bus,t.busID||t.busId)}static generateBusStopRouteKey(t){const e=t.busID||t.busId;return[this.generateKeyBusStop(i.e.BusStop,t.stationID),this.generateKeyBusRoute(i.e.Bus,e)].join("|")}static generateStationKey(t){return[t.type,t.stationID].join("|")}static generateRouteKey(t,e,n,i,o,r){return[t,o,!!r,a(e.lng),a(e.lat),n.map(t=>[a(t.lng),a(t.lat)]).reduce((t,e)=>t.concat(e),[]).join("|"),a(i.lng),a(i.lat)].filter(t=>""!==t).join("|")}static generateSubwayPathKey(t){return[t.type,t.startStationID,t.endStationID,t.pathType].join("|")}static generateKeyBusRoute(t,e){return[t,e].join("|")}static generateKeyPointBased(t,e,n,i){return[t,e,a(+n),a(+i)].join("|")}static generateKeyAdministrativeDistrict(t,e,n,i,r){return[t,e,n,a(Object(o.e)(i)),a(Object(o.e)(r))].join("|")}static generateKeyBusStop(t,e){return[t,e].join("|")}static getDisplayNameByType(t=i.j.Etc){switch(t){case i.j.Home:return r.c.Home;case i.j.Office:return r.c.Office;case i.j.School:return r.c.School;case i.j.Etc:default:return r.c.Etc}}}},jtLz:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var i=function(t){return t[t.Start=1]="Start",t[t.Goal=2]="Goal",t[t.Via=3]="Via",t[t.Mode=4]="Mode",t[t.DetailIndex=5]="DetailIndex",t[t.EntryType=6]="EntryType",t[t.EntryId=7]="EntryId",t}({}),o=function(t){return t.Start="Start",t.Via="Via",t.Goal="Goal",t}({})},"k/lc":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"d",function(){return r}),n.d(e,"b",function(){return a});var i=function(t){return t.DEBUG="debug",t.TEST_APP="test-app",t.TEST_BOOKING="test-booking",t.TEST_PLACE="test-place",t.MOBILE="mobile",t.LOCAL="local",t.TEST="test",t.QA="qa",t.REAL="real",t.DEV="dev",t.STG="stg",t}({}),o=function(t){return t.PLACE_SEARCH="searchIframe",t.PLACE_DETAIL="entryIframe",t.TRAIN_SCHEDULE="trainScheduleIframe",t}({}),r=function(t){return t.OPEN="IFRAME/OPEN",t.CLOSE="IFRAME/CLOSE",t.SET_DATA="IFRAME/SET_DATA",t.CLEAR_DATA="IFRAME/CLEAR_DATA",t}({}),a=function(t){return t.PLACE_SEARCH_LOAD="place-search-load",t.PLACE_SEARCH_UPDATE="place-search-update",t.PLACE_SEARCH_SELECT_ITEM="place-search-select-item",t.PLACE_SEARCH_ITEM_OVER="place-search-item-over",t.PLACE_SEARCH_ITEM_OUT="place-search-item-out",t.PLACE_SEARCH_CLICK_START="place-search-click-start",t.PLACE_SEARCH_CLICK_GOAL="place-search-click-goal",t.PLACE_SEARCH_CLICK_PANORAMA="place-search-click-panorama",t.PLACE_SEARCH_PV_LOG="place-search-pv-log",t.PLACE_DETAIL_LOAD="place-detail-load",t.PLACE_DETAIL_UPDATE="place-detail-update",t.PLACE_DETAIL_CLICK_PHOTO="place-detail-click-photo",t.PLACE_DETAIL_CLICK_PANORAMA="place-detail-click-panorama",t.PLACE_DETAIL_CLICK_START="place-detail-click-start",t.PLACE_DETAIL_CLICK_GOAL="place-detail-click-goal",t.PLACE_DETAIL_CLICK_CLOSE="place-detail-click-close",t.BOOKING_DETAIL_CLICK_PHOTO="booking-detail-click-photo",t.INAPP_DETAIL_LOAD="nmapp-detail-load",t.INAPP_DETAIL_UPDATE="nmapp-detail-update",t.INAPP_DETAIL_CLICK_PHOTO="nmapp-detail-click-photo",t.INAPP_DETAIL_CLICK_PANORAMA="nmapp-detail-click-panorama",t.INAPP_DETAIL_CLICK_DIRECTION="nmapp-detail-click-direction",t.INAPP_DETAIL_CLICK_START="nmapp-detail-click-start",t.INAPP_DETAIL_CLICK_GOAL="nmapp-detail-click-goal",t.INAPP_DETAIL_CLICK_SUBWAY_STATION="nmapp-detail-click-subway-station",t.INAPP_DETAIL_CLICK_BUS_STATION="nmapp-detail-click-bus-station",t.INAPP_DETAIL_CLICK_BUS_ROUTE="nmapp-detail-click-bus-route",t.INAPP_DETAIL_CLICK_OPEN_VOC="nmapp-detail-click-open-voc",t.TRAIN_SCHEDULE_CLICK_START="train-schedule-click-start",t.TRAIN_SCHEDULE_CLICK_GOAL="train-schedule-click-goal",t.GO_LOGIN_PAGE="go-login-page",t.SEND_PV="send-page-view-log",t.SYSTEM_ALERT="system-alert",t}({})},k67y:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL"),o=n("xgIS"),r=n("rS+x");let a=(()=>{class t{constructor(){this._keyup=new i.q,this._keydown=new i.q,this.subs=[],this.keyUpEvent=Object(o.a)(document,"keyup"),this.keyDownEvent=Object(o.a)(document,"keydown"),this.subs.push(this.keyUpEvent.subscribe(t=>{switch(t.stopPropagation(),t.preventDefault(),t.key){case r.r.ArrowLeft:case r.r.ArrowUp:case r.r.ArrowRight:case r.r.ArrowDown:case r.r.Equal:case r.r.Subtract:this.emitKeyup(r.r[t.key],t)}})),this.subs.push(this.keyDownEvent.subscribe(t=>{switch(t.key){case"Esc":case"Escape":this.emitKeydown(r.r.Escape,t)}}))}get keyup(){return this._keyup}get keydown(){return this._keydown}ngOnDestroy(){this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[]}emitKeyup(t,e){this.keyup.emit({type:t,data:{e}})}emitKeydown(t,e){this.keydown.emit({type:t,data:{e}})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},k7Ze:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.Search="search-history",t.Route="route-history",t.Subway="subway-history",t.Favorite="favorite-timestamp",t}({})},k9QW:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("ofXK"),o=n("ktvW"),r=n("fXoL");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Wb({type:t}),t.\u0275inj=r.Vb({imports:[[i.c,o.a]]}),t})()},kSER:function(t,e){t.exports=function(t,e){for(var n=[],i=(e=e||0)||0;i<t.length;i++)n[i-e]=t[i];return n}},kzaU:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"c",function(){return r}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"b",function(){return c});var i=n("rS+x");const o=[["1","6","2","7","8","3"],["4","9","10","11","12","5"]];function r(t,e=!1){const n=parseInt(t,10);return e||!n?"favorite":`type_folder_color${t}`}function a(t){return t?i.q[`FAVORITE_FOLDER_COLOR${t}`]:i.q.FAVORITE}function s(t,e=7){return Math.round(parseFloat((t*Math.pow(10,e)).toFixed(e)))/Math.pow(10,e)}function c(t,e=7){return Math.floor(parseFloat((t*Math.pow(10,e)).toFixed(e)))/Math.pow(10,e)}},l5mm:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),o=n("D0XW"),r=n("Y7HM");function a(t=0,e=o.a){return(!Object(r.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=o.a),new i.a(n=>(n.add(e.schedule(s,t,{subscriber:n,counter:0,period:t})),n))}function s(t){const{subscriber:e,counter:n,period:i}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}},lDLV:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return r}),n.d(e,"e",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"f",function(){return c});var i=function(t){return t.Link="link",t.Popup="popup",t.Form="form",t}({}),o=function(t){return t.AddNewPlace="addNewPlace",t.MapView="mapView",t.Address="address",t.Road="road ",t.Panorama="panorama",t.FindDirection="findDirection",t.Pubtrans="pubtrans",t.AddNewBusLine="addNewBusLine",t.AddNewBusStop="addNewBusStop",t.CarRoute="carRoute",t.CarDestination="carDestination",t.WalkRoute="walkRoute",t.WalkDestination="walkDestination",t.BicycleRoute="bicycleRoute",t.BicycleDestination="bicycleDestination",t.PubtransRoute="pubtransRoute",t.PubtransWalkRoute="pubtransWalkRoute",t.Subway="subway",t.Train="train",t.Airport="airport",t.BusTerminal="busTerminal",t.BusRoute="busRoute",t.BusStop="busStop",t}({}),r=function(t){return t.Home="home",t.CarDirection="carDirection",t.WalkDirection="walkDirection",t.PubtransDirection="pubtransDirection",t.BicycleDirection="bicycleDirection",t}({}),a=function(t){return t.Ready="report:ready",t.Complete="report:complete",t.RequestCapture="report:request_capture",t}({}),s=function(t){return t.ShrinkableLayout="shrinkable-layout",t.EntryLayout="entry-layout",t.Modal="modal",t}({}),c=function(t){return t.Reco="reco",t.Wide="wide",t}({})},lKxJ:function(t,e,n){t.exports=n("2pII"),t.exports.parser=n("Wm4p")},lWSR:function(t,e,n){"use strict";t.exports=r;var i=n("IRA2");(r.prototype=Object.create(i.prototype)).constructor=r;var o=n("6Tgl");function r(t){i.call(this,t)}r._configure=function(){o.Buffer&&(r.prototype._slice=o.Buffer.prototype.slice)},r.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},r._configure()},lXTj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("AKIq");function o(t,e,n,i){var o=n[0],r=n[1],a=t[0],s=t[1],c=e[0],l=e[1],u=c-a,p=l-s;return 0==(n[0]-a)*p-(n[1]-s)*u&&(i?"start"===i?Math.abs(u)>=Math.abs(p)?u>0?a<o&&o<=c:c<=o&&o<a:p>0?s<r&&r<=l:l<=r&&r<s:"end"===i?Math.abs(u)>=Math.abs(p)?u>0?a<=o&&o<c:c<o&&o<=a:p>0?s<=r&&r<l:l<r&&r<=s:"both"===i&&(Math.abs(u)>=Math.abs(p)?u>0?a<o&&o<c:c<o&&o<a:p>0?s<r&&r<l:l<r&&r<s):Math.abs(u)>=Math.abs(p)?u>0?a<=o&&o<=c:c<=o&&o<=a:p>0?s<=r&&r<=l:l<=r&&r<=s)}e.default=function(t,e,n){void 0===n&&(n={});for(var r=i.getCoord(t),a=i.getCoords(e),s=0;s<a.length-1;s++){var c=!1;if(n.ignoreEndVertices&&(0===s&&(c="start"),s===a.length-2&&(c="end"),0===s&&s+1===a.length-1&&(c="both")),o(a[s],a[s+1],r,c))return!0}return!1}},lXcw:function(t,e,n){"use strict";n.d(e,"a",function(){return D});var i=n("3Pt+"),o=n("ofXK"),r=n("sYmb"),a=n("5mcS"),s=n("CUJY"),c=n("YlaM"),l=n("ktvW"),u=n("9jGm"),p=n("MHgl"),h=n("lJxs"),d=n("5+tZ"),g=n("vkgz"),f=n("cp0P"),b=n("LRne"),m=n("rS+x"),_=n("SxV6"),y=n("JIr8"),O=n("x/+U"),v=n("IGrF"),C=n("Pbce"),P=n("fXoL");let M=(()=>{class t{constructor(t,e){this.directionsApiService=t,this.keyTableService=e,this.pool=[]}fillPoi(t){if(!t)return Object(b.a)(null);const e=Object.assign({},t);if(t.syncMetadata)return Object(b.a)(e);t.lng&&t.lat&&(e.lng=parseFloat(t.lng.toFixed(7)),e.lat=parseFloat(t.lat.toFixed(7))),e.syncMetadata=!0;const n=this.findItemInDirectionsPoiPool(e);if(n)return Object(b.a)(n);if(t.id&&t.type)switch(t.type){case m.C.PlacePoi:return this.directionsApiService.getNameByPoiId(t.id.toString()).pipe(Object(_.a)(),Object(y.a)(()=>Object(b.a)(t.name)),Object(h.a)(t=>this.updatePoi(t,e)));case m.C.BusStop:return this.directionsApiService.getNameByBusStopId(t.id).pipe(Object(y.a)(()=>Object(b.a)(t.name)),Object(h.a)(t=>this.updatePoi(t,e)));case m.C.SubwayStation:return this.keyTableService.getPlaceIdBySubwayId(t.id).pipe(Object(_.a)(),Object(d.a)(t=>t?Object(b.a)(e):(e.type=null,e.id=null,this.fillPoi(e))))}return t.lng&&t.lat?t.name?(e.id=null,e.type=null,Object(b.a)(e)):this.directionsApiService.getAddress(t.lng,t.lat,[m.m.ADDR,m.m.ROAD_ADDR]).pipe(Object(_.a)(),Object(d.a)(t=>(e.id=null,e.type=null,e.name=Object(C.B)(t.address).trim(),this.addItemInDirectionsPoiPool(e),Object(b.a)(e)))):Object(b.a)(e)}findItemInDirectionsPoiPool(t){return this.cleanDirectionsPoiPool(),t&&t.lng&&t.lat?this.pool.find(e=>e.lng===t.lng&&e.lat===t.lat):null}addItemInDirectionsPoiPool(t){this.cleanDirectionsPoiPool(),t&&t.lng&&t.lat&&(this.findItemInDirectionsPoiPool(t)||(t.createdAt=(new Date).getTime(),this.pool=this.pool.concat(t)))}cleanDirectionsPoiPool(){const t=(new Date).getTime()-6e4;this.pool=this.pool.filter(e=>!(!e||!e.createdAt)&&e.createdAt>t)}updatePoi(t,e){const n=Object.assign(Object.assign({},e),{name:Object(C.B)(t).trim()});return this.addItemInDirectionsPoiPool(n),n}}return t.\u0275fac=function(e){return new(e||t)(P.ic(O.a),P.ic(v.a))},t.\u0275prov=P.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var x=n("Q6WB"),w=n("qKIp"),k=n("ApIJ"),S=n("/RaO"),E=n("WvzF"),I=t=>{if(t&&t.lng&&t.lat){const e=Object(E.d)({lng:t.lng,lat:t.lat}),n=Object(C.h)(t.name);return[e.lng,e.lat,n,t.id||"",t.type||""].join(S.B)}return""},R=n("P9dh"),T=n("l7P3");let A=(()=>{class t{constructor(t,e,n,i,o,r){this.actions$=t,this.store=e,this.commonRoutesService=n,this.localStorageService=i,this.directionsPoiService=o,this.directionsRequestService=r,this.TRANSIT_OPTION_STORAGE_KEY="DIRECTIONS_TRANSIT_OPTION",this.postSetDraft$=Object(u.c)(()=>Object(p.db)(this.store).pipe(Object(h.a)(()=>Object(p.B)()))),this.fillDraft$=Object(u.c)(()=>this.actions$.pipe(Object(u.d)(p.I,p.J),Object(d.a)(({payload:t})=>this.fillDraft(Object.assign(Object.assign({},Object(p.l)(this.store)),t))),Object(h.a)(t=>Object(p.i)({payload:t})))),this.fillTransOption$=Object(u.c)(()=>this.actions$.pipe(Object(u.d)(p.X),Object(d.a)(({payload:t})=>this.fillTransOption(t)),Object(h.a)(t=>Object(p.j)({payload:t})))),this.directionsNavigate$=Object(u.c)(()=>this.actions$.pipe(Object(u.d)(p.f),Object(h.a)(()=>this.navigate()),Object(g.a)(()=>this.loadDirections())),{dispatch:!1}),this.directionsDetailNavigate$=Object(u.c)(()=>this.actions$.pipe(Object(u.d)(p.e),Object(h.a)(()=>Object(p.w)(this.store)),Object(h.a)(t=>this.navigate({summaryIndex:t}))),{dispatch:!1})}fillDraft(t){var e;return Object(f.a)([this.directionsPoiService.fillPoi(t.start),this.directionsPoiService.fillPoi(t.goal),...(null===(e=t.via)||void 0===e?void 0:e.map(t=>this.directionsPoiService.fillPoi(t)))||[]]).pipe(Object(h.a)(e=>({start:e[0],goal:e[1],via:[...e.slice(2)],mode:Object.values(m.d).includes(t.mode)?t.mode:m.d.Transit})))}fillTransOption(t){let e;if(t)e=t;else{const t=this.localStorageService.get(this.TRANSIT_OPTION_STORAGE_KEY);e={requestDate:new Date,orderBy:x.o.Recommend,isStaticRoute:t&&!!t.isStaticRoute||!1,isShowTransitTimeOption:t&&!!t.isShowTransitTimeOption||!1}}return this.localStorageService.set(this.TRANSIT_OPTION_STORAGE_KEY,e),Object(b.a)(e)}navigate(t){const e=isNaN(null==t?void 0:t.summaryIndex)?null:null==t?void 0:t.summaryIndex;this.store.dispatch(Object(p.S)({payload:null})),this.store.dispatch(Object(p.M)({payload:null}));const n=((t,e)=>{var n;return[k.c.Directions,(null==t?void 0:t.start)?I(t.start):S.z,(null==t?void 0:t.goal)?I(t.goal):S.z,(null===(n=null==t?void 0:t.via)||void 0===n?void 0:n.length)?t.via.map(t=>I(t)||S.A).join(S.C):S.z,(null==t?void 0:t.mode)?t.mode:m.d.Transit,isNaN(e)?null:e].filter(t=>null!==t).map(t=>t.toString())})((null==t?void 0:t.draft)||Object(p.l)(this.store),e);this.commonRoutesService.navigate(n,{replaceUrl:null==t?void 0:t.replaceUrl})}inDirectionsRoute(){const{module:t}=this.commonRoutesService.getRouterParams();return t===k.c.Directions}loadDirections(){this.directionsRequestService.loadDirections()}}return t.\u0275fac=function(e){return new(e||t)(P.ic(u.a),P.ic(T.h),P.ic(k.e),P.ic(w.a),P.ic(M),P.ic(R.a))},t.\u0275prov=P.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var L=n("btWG"),j=n("pCwN");let D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=P.Wb({type:t}),t.\u0275inj=P.Vb({imports:[[o.c,l.a,a.a,r.b,s.a,c.a,j.a,i.i,L.a,T.j.forFeature(p.a,p.g),u.b.forFeature([A])]]}),t})()},luTP:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},m7hU:function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"a",function(){return a}),n.d(e,"c",function(){return c}),n.d(e,"b",function(){return l}),n.d(e,"e",function(){return h});var i=n("l7P3"),o=function(t){return t.TryRefresh="ENTRY/TRY_REFRESH",t.ClearRefresh="ENTRY/CLEAR_REFRESH",t}({});const r=Object(i.n)(o.TryRefresh),a=Object(i.n)(o.ClearRefresh),s=Object(i.p)({tryRefresh:!1},Object(i.r)(r,t=>Object.assign(Object.assign({},t),{tryRefresh:!0})),Object(i.r)(a,t=>Object.assign(Object.assign({},t),{tryRefresh:!1}))),c=(t,e)=>s(t,e),l="ENTRY",u=Object(i.o)(l),p=Object(i.q)(u,t=>t.tryRefresh),h=t=>t.pipe(Object(i.t)(p))},nerh:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n("XrBI"),o=n("CJka"),r=n("5Cmx"),a=n("2Vo4"),s=n("XNiG"),c=n("fXoL"),l=n("l7P3"),u=function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})};let p=(()=>{class t{constructor(t,e,n){this.maps=t,this.uaParser=e,this.store=n,this._isShow=new a.a({isShow:!1}),this._screenshot=new s.a,this._isReqeustHide=new a.a(!1)}get type(){return this._type}get isShow(){return this._isShow}get screenshot(){return this._screenshot}get isRequestHide(){return this._isReqeustHide}capture(t=null,e){this.maps.getScreenshot(t,!1).subscribe(n=>u(this,void 0,void 0,function*(){const i=yield this.composeMarkerImage(t,n);this.complete(i,e)}))}show(t){this._type=t,this.isShow.next({isShow:!0,type:t}),this.store.dispatch(Object(r.c)())}hide(){this._type=null,this.isShow.next({isShow:!1}),this.store.dispatch(Object(r.p)()),this.isRequestHide.next(!0)}composeMarkerImage(t,e){return u(this,void 0,void 0,function*(){const t=window.document.createElement("canvas");try{const n=yield this.getBaseImage(e),i=2;t.width=n.width,t.height=n.height;const o=t.getContext("2d");o.drawImage(n.image,n.x-i,n.y-i,n.width,n.height);const r={x:n.width/2,y:n.height/2},a=yield this.getMarkerImage(r);o.drawImage(a.image,a.x,a.y,a.width,a.height)}catch(n){}return t.toDataURL("image/png")})}getBaseImage(t){return u(this,void 0,void 0,function*(){const e=yield this.loadImage(t);return{image:e,x:0,y:0,width:e.width,height:e.height}})}getMarkerImage(t){return u(this,void 0,void 0,function*(){const e=this.getMarkerImageUrl(),n=yield this.loadImage(e),i=this.uaParser.retina?2:1,o=46*i,r=66*i;return{image:n,x:t.x-o/2,y:t.y-r/2+-18*i,width:o,height:r}})}loadImage(t){return new Promise((e,n)=>{const i=new Image;i.src=t,i.onload=()=>{e(i)},i.onerror=t=>{n(t)}})}getMarkerImageUrl(){return`assets/img/sprite-img/settings/settings-capture_location_marker${this.uaParser.retina?"@2x":""}.png`}complete(t,e){this.isShow.next({isShow:!1}),this._screenshot.next({imageData:t,meta:e}),this.store.dispatch(Object(r.p)())}}return t.\u0275fac=function(e){return new(e||t)(c.ic(i.a),c.ic(o.a),c.ic(l.h))},t.\u0275prov=c.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},o0su:function(t,e,n){"use strict";n.d(e,"b",function(){return o.a}),n.d(e,"h",function(){return r.a}),n.d(e,"a",function(){return c}),n.d(e,"d",function(){return l}),n.d(e,"e",function(){return u}),n.d(e,"c",function(){return p}),n.d(e,"f",function(){return h}),n.d(e,"g",function(){return _});var i=n("fXoL");n("jtHE");var o=n("POnT"),r=n("8Vp+"),a=n("lJxs"),s=n("tF80");let c=(()=>{class t{constructor(t){this.member=t}canActivate(t,e){return this.member.sharedGetLoginStatus.pipe(Object(a.a)(t=>"Y"===t.loginStatus||(this.member.goLoginPage(e.url),!1)))}}return t.\u0275fac=function(e){return new(e||t)(i.ic(s.a))},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=function(t){return t[t.Show=0]="Show",t[t.Hide=1]="Hide",t[t.Minimise=2]="Minimise",t[t.Restore=3]="Restore",t}({}),u=function(t){return t.LegnedPopupLandType1="boundary",t.LegnedPopupLandType2="development",t.LegnedPopupLandType3="use",t.LegnedPopupLandType4="road",t.LegnedPopupLandType5="plan",t}({}),p=function(t){return t.LegnedPopupBikeType1="road",t.LegnedPopupBikeType2="approach",t.LegnedPopupBikeType3="convenient",t}({}),h=function(t){return t.LegnedPopupMountainType1="road",t.LegnedPopupMountainType2="convenient",t}({}),d=n("/RaO"),g=n("pLZG"),f=n("/uUt"),b=n("Kj3r"),m=n("ApIJ");let _=(()=>{class t{constructor(t,e,n){this.commonRoutes=t,this.cartoManagerService=e,this.zone=n,this._events=new i.q,this._isShow=!1,this.activatedLayerQueue=[],this.subscribeChangedLayer()}get events(){return this._events}get isShow(){return this._isShow}set isShow(t){this._isShow=t}show(t){d.Db.includes(t)&&(this.isShow=!0,this.emit(l.Show,t))}getActivatedLastLayer(){return 0===this.activatedLayerQueue.length?null:this.activatedLayerQueue[this.activatedLayerQueue.length-1]}hide(){this.isShow=!1,this.emit(l.Hide)}minimise(){this.emit(l.Minimise)}restore(){this.emit(l.Restore)}emit(t,e){this.events.emit({type:t,layer:e})}subscribeChangedLayer(){this.cartoManagerService.getChangedLayerAsObservable().pipe(Object(g.a)(t=>d.Db.includes(t.name)),Object(a.a)(t=>this.updateLayerQueue(t)),Object(f.a)(),Object(b.a)(10)).subscribe(t=>{this.zone.run(()=>{t?this.show(t):this.hide()})})}updateLayerQueue(t){return t.isActivate?this.addQueue(t):this.removeQueue(t)}removeQueue(t){const e=this.activatedLayerQueue.findIndex(e=>e===t.name);return e>-1&&this.activatedLayerQueue.splice(e,1),this.getActivatedLastLayer()}addQueue(t){return-1===this.activatedLayerQueue.findIndex(e=>e===t.name)&&this.activatedLayerQueue.push(t.name),this.getActivatedLastLayer()}}return t.\u0275fac=function(e){return new(e||t)(i.ic(m.e),i.ic(o.a),i.ic(i.F))},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},o4Qh:function(t,e,n){"use strict";t.exports=o;var i=n("6Tgl");function o(t,e){this.lo=t>>>0,this.hi=e>>>0}var r=o.zero=new o(0,0);r.toNumber=function(){return 0},r.zzEncode=r.zzDecode=function(){return this},r.length=function(){return 1};var a=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(t){if(0===t)return r;var e=t<0;e&&(t=-t);var n=t>>>0,i=(t-n)/4294967296>>>0;return e&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new o(n,i)},o.from=function(t){if("number"==typeof t)return o.fromNumber(t);if(i.isString(t)){if(!i.Long)return o.fromNumber(parseInt(t,10));t=i.Long.fromString(t)}return t.low||t.high?new o(t.low>>>0,t.high>>>0):r},o.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=1+~this.lo>>>0,n=~this.hi>>>0;return e||(n=n+1>>>0),-(e+4294967296*n)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(t){return i.Long?new i.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var s=String.prototype.charCodeAt;o.fromHash=function(t){return t===a?r:new o((s.call(t,0)|s.call(t,1)<<8|s.call(t,2)<<16|s.call(t,3)<<24)>>>0,(s.call(t,4)|s.call(t,5)<<8|s.call(t,6)<<16|s.call(t,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},o.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},o.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:n<128?9:10}},"oIG/":function(t,e){var n,i,o,r=String.fromCharCode;function a(t){for(var e,n,i=[],o=0,r=t.length;o<r;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<r?56320==(64512&(n=t.charCodeAt(o++)))?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),o--):i.push(e);return i}function s(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function c(t,e){return r(t>>e&63|128)}function l(t,e){if(0==(4294967168&t))return r(t);var n="";return 0==(4294965248&t)?n=r(t>>6&31|192):0==(4294901760&t)?(s(t,e)||(t=65533),n=r(t>>12&15|224),n+=c(t,6)):0==(4292870144&t)&&(n=r(t>>18&7|240),n+=c(t,12),n+=c(t,6)),n+r(63&t|128)}function u(){if(o>=i)throw Error("Invalid byte index");var t=255&n[o];if(o++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function p(t){var e,r;if(o>i)throw Error("Invalid byte index");if(o==i)return!1;if(e=255&n[o],o++,0==(128&e))return e;if(192==(224&e)){if((r=(31&e)<<6|u())>=128)return r;throw Error("Invalid continuation byte")}if(224==(240&e)){if((r=(15&e)<<12|u()<<6|u())>=2048)return s(r,t)?r:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(r=(7&e)<<18|u()<<12|u()<<6|u())>=65536&&r<=1114111)return r;throw Error("Invalid UTF-8 detected")}t.exports={version:"2.1.2",encode:function(t,e){for(var n=!1!==(e=e||{}).strict,i=a(t),o=i.length,r=-1,s="";++r<o;)s+=l(i[r],n);return s},decode:function(t,e){var s=!1!==(e=e||{}).strict;n=a(t),i=n.length,o=0;for(var c,l=[];!1!==(c=p(s));)l.push(c);return function(t){for(var e,n=t.length,i=-1,o="";++i<n;)(e=t[i])>65535&&(o+=r((e-=65536)>>>10&1023|55296),e=56320|1023&e),o+=r(e);return o}(l)}}},p20y:function(t,e,n){"use strict";function i(t,e=!1){var n,i,o,r;const a=(null===(n=null==t?void 0:t.address)||void 0===n?void 0:n.totalCount)>0,s=(null===(i=null==t?void 0:t.busRoute)||void 0===i?void 0:i.totalCount)>0,c=(null===(o=null==t?void 0:t.busStation)||void 0===o?void 0:o.totalCount)>0,l=!!e&&(null===(r=null==t?void 0:t.place)||void 0===r?void 0:r.totalCount)>0;return a||s||c||l}function o(t){var e;return(null===(e=null==t?void 0:t.list)||void 0===e?void 0:e.length)>0}function r(t,e){var n;const o=null===(n=null==e?void 0:e.fusion)||void 0===n?void 0:n.metaInfo;if(!o)return null;const{searchedQuery:r,correction:a}=o;if(!a||t===r)return null;const s=i(e.fusion,!0),{correctionQuery:c,searchedByCorrectionQuery:l}=a;return l&&s?c:null}n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return r})},pCwN:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("ofXK"),o=n("3Pt+"),r=n("btWG"),a=n("ktvW"),s=n("sYmb"),c=n("2QaN"),l=n("fXoL");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Wb({type:t}),t.\u0275inj=l.Vb({imports:[[i.c,o.i,r.a,a.a,c.a,s.b]]}),t})()},pSxj:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("Pbce"),o=n("fXoL"),r=n("ofXK");function a(t,e){if(1&t&&(o.nc(),o.cc(0),o.Zb(1,"animate",5),o.bc()),2&t){const t=o.oc();o.Jb(1),o.Kb("values",t.animationValues[0])("dur",t.speed+"s")}}function s(t,e){if(1&t&&(o.nc(),o.cc(0),o.Zb(1,"animate",5),o.bc()),2&t){const t=o.oc();o.Jb(1),o.Kb("values",t.animationValues[1])("dur",t.speed+"s")}}function c(t,e){if(1&t&&(o.nc(),o.cc(0),o.Zb(1,"animate",5),o.bc()),2&t){const t=o.oc();o.Jb(1),o.Kb("values",t.animationValues[2])("dur",t.speed+"s")}}const l=["*"];let u=(()=>{class t{constructor(){this.animate=!0,this.width=400,this.height=130,this.paddingTop=0,this.paddingLeft=0,this.paddingRight=0,this.paddingBottom=0,this.speed=2,this.preserveAspectRatio="xMidYMid meet",this.primaryColor="#f9f9f9",this.secondaryColor="#ecebeb",this.primaryOpacity=1,this.secondaryOpacity=1,this.isFitInSize=!0,this.rtl=!1,this.idClip=Object(i.n)(),this.idGradient=Object(i.n)(),this.animationValues=[],this.defautlAnimation=["-3; 1","-2; 2","-1; 3"],this.rtlAnimation=["1; -3","2; -2","3; -1"]}get fillStyle(){return`url('${window.location.href}#${this.idGradient}')`}get clipStyle(){return`url('${window.location.href}#${this.idClip}')`}ngOnInit(){this.adjustSize(),this.animationValues=this.rtl?this.rtlAnimation:this.defautlAnimation}adjustSize(){if(!this.isFitInSize)return;const t=(this.paddingLeft>-1?this.paddingLeft:0)+(this.paddingRight>-1?this.paddingRight:0);this.width>t&&(this.width-=t);const e=(this.paddingTop>-1?this.paddingTop:0)+(this.paddingBottom>-1?this.paddingBottom:0);this.height>e&&(this.height-=e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Sb({type:t,selectors:[["nm-content-loader"]],inputs:{animate:"animate",width:"width",height:"height",paddingTop:"paddingTop",paddingLeft:"paddingLeft",paddingRight:"paddingRight",paddingBottom:"paddingBottom",speed:"speed",preserveAspectRatio:"preserveAspectRatio",primaryColor:"primaryColor",secondaryColor:"secondaryColor",primaryOpacity:"primaryOpacity",secondaryOpacity:"secondaryOpacity",isFitInSize:"isFitInSize",rtl:"rtl"},ngContentSelectors:l,decls:12,vars:31,consts:[["x","0","y","0"],["offset","0%"],[4,"ngIf"],["offset","50%"],["offset","100%"],["attributeName","offset","repeatCount","indefinite"]],template:function(t,e){1&t&&(o.vc(),o.nc(),o.ec(0,"svg"),o.Zb(1,"rect",0),o.ec(2,"defs"),o.ec(3,"clipPath"),o.uc(4),o.dc(),o.ec(5,"linearGradient"),o.ec(6,"stop",1),o.Sc(7,a,2,2,"ng-container",2),o.dc(),o.ec(8,"stop",3),o.Sc(9,s,2,2,"ng-container",2),o.dc(),o.ec(10,"stop",4),o.Sc(11,c,2,2,"ng-container",2),o.dc(),o.dc(),o.dc(),o.dc()),2&t&&(o.Pc("width",e.width,"px")("height",e.height,"px")("padding-top",e.paddingTop,"px")("padding-right",e.paddingRight,"px")("padding-bottom",e.paddingBottom,"px")("padding-left",e.paddingLeft,"px"),o.Lb("viewBox","0 0 ",e.width," ",e.height,""),o.Kb("preserveAspectRatio",e.preserveAspectRatio),o.Jb(1),o.Pc("fill",e.fillStyle),o.Kb("clip-path",e.clipStyle)("width",e.width)("height",e.height),o.Jb(2),o.Kb("id",e.idClip),o.Jb(2),o.Kb("id",e.idGradient),o.Jb(1),o.Kb("stop-color",e.primaryColor)("stop-opacity",e.primaryOpacity),o.Jb(1),o.wc("ngIf",e.animate),o.Jb(1),o.Kb("stop-color",e.secondaryColor)("stop-opacity",e.secondaryOpacity),o.Jb(1),o.wc("ngIf",e.animate),o.Jb(1),o.Kb("stop-color",e.primaryColor)("stop-opacity",e.primaryOpacity),o.Jb(1),o.wc("ngIf",e.animate))},directives:[r.o],styles:["[_nghost-%COMP%]{display:block}"]}),t})()},q12y:function(t,e,n){"use strict";var i={lessThanXSeconds:{one:"1\ucd08 \ubbf8\ub9cc",other:"{{count}}\ucd08 \ubbf8\ub9cc"},xSeconds:{one:"1\ucd08",other:"{{count}}\ucd08"},halfAMinute:"30\ucd08",lessThanXMinutes:{one:"1\ubd84 \ubbf8\ub9cc",other:"{{count}}\ubd84 \ubbf8\ub9cc"},xMinutes:{one:"1\ubd84",other:"{{count}}\ubd84"},aboutXHours:{one:"\uc57d 1\uc2dc\uac04",other:"\uc57d {{count}}\uc2dc\uac04"},xHours:{one:"1\uc2dc\uac04",other:"{{count}}\uc2dc\uac04"},xDays:{one:"1\uc77c",other:"{{count}}\uc77c"},aboutXWeeks:{one:"\uc57d 1\uc8fc",other:"\uc57d {{count}}\uc8fc"},xWeeks:{one:"1\uc8fc",other:"{{count}}\uc8fc"},aboutXMonths:{one:"\uc57d 1\uac1c\uc6d4",other:"\uc57d {{count}}\uac1c\uc6d4"},xMonths:{one:"1\uac1c\uc6d4",other:"{{count}}\uac1c\uc6d4"},aboutXYears:{one:"\uc57d 1\ub144",other:"\uc57d {{count}}\ub144"},xYears:{one:"1\ub144",other:"{{count}}\ub144"},overXYears:{one:"1\ub144 \uc774\uc0c1",other:"{{count}}\ub144 \uc774\uc0c1"},almostXYears:{one:"\uac70\uc758 1\ub144",other:"\uac70\uc758 {{count}}\ub144"}},o=n("zMQz"),r={date:Object(o.a)({formats:{full:"y\ub144 M\uc6d4 d\uc77c EEEE",long:"y\ub144 M\uc6d4 d\uc77c",medium:"y.MM.dd",short:"y.MM.dd"},defaultWidth:"full"}),time:Object(o.a)({formats:{full:"a H\uc2dc mm\ubd84 ss\ucd08 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:Object(o.a)({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})},a={lastWeek:"'\uc9c0\ub09c' eeee p",yesterday:"'\uc5b4\uc81c' p",today:"'\uc624\ub298' p",tomorrow:"'\ub0b4\uc77c' p",nextWeek:"'\ub2e4\uc74c' eeee p",other:"P"},s=n("ku8+"),c={ordinalNumber:function(t,e){var n=Number(t);switch(String((e||{}).unit)){case"minute":case"second":return n;case"date":return n+"\uc77c";default:return n+"\ubc88\uc9f8"}},era:Object(s.a)({values:{narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["\uae30\uc6d0\uc804","\uc11c\uae30"]},defaultWidth:"wide"}),quarter:Object(s.a)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1\ubd84\uae30","2\ubd84\uae30","3\ubd84\uae30","4\ubd84\uae30"]},defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:Object(s.a)({values:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],wide:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"]},defaultWidth:"wide"}),day:Object(s.a)({values:{narrow:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],short:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],abbreviated:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],wide:["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"]},defaultWidth:"wide"}),dayPeriod:Object(s.a)({values:{narrow:{am:"\uc624\uc804",pm:"\uc624\ud6c4",midnight:"\uc790\uc815",noon:"\uc815\uc624",morning:"\uc544\uce68",afternoon:"\uc624\ud6c4",evening:"\uc800\ub141",night:"\ubc24"},abbreviated:{am:"\uc624\uc804",pm:"\uc624\ud6c4",midnight:"\uc790\uc815",noon:"\uc815\uc624",morning:"\uc544\uce68",afternoon:"\uc624\ud6c4",evening:"\uc800\ub141",night:"\ubc24"},wide:{am:"\uc624\uc804",pm:"\uc624\ud6c4",midnight:"\uc790\uc815",noon:"\uc815\uc624",morning:"\uc544\uce68",afternoon:"\uc624\ud6c4",evening:"\uc800\ub141",night:"\ubc24"}},defaultWidth:"wide",formattingValues:{narrow:{am:"\uc624\uc804",pm:"\uc624\ud6c4",midnight:"\uc790\uc815",noon:"\uc815\uc624",morning:"\uc544\uce68",afternoon:"\uc624\ud6c4",evening:"\uc800\ub141",night:"\ubc24"},abbreviated:{am:"\uc624\uc804",pm:"\uc624\ud6c4",midnight:"\uc790\uc815",noon:"\uc815\uc624",morning:"\uc544\uce68",afternoon:"\uc624\ud6c4",evening:"\uc800\ub141",night:"\ubc24"},wide:{am:"\uc624\uc804",pm:"\uc624\ud6c4",midnight:"\uc790\uc815",noon:"\uc815\uc624",morning:"\uc544\uce68",afternoon:"\uc624\ud6c4",evening:"\uc800\ub141",night:"\ubc24"}},defaultFormattingWidth:"wide"})},l=n("vRX4"),u=n("wzM+"),p={ordinalNumber:Object(l.a)({matchPattern:/^(\d+)(\uc77c|\ubc88\uc9f8)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}}),era:Object(u.a)({matchPatterns:{narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(\uae30\uc6d0\uc804|\uc11c\uae30)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^(bc|\uae30\uc6d0\uc804)/i,/^(ad|\uc11c\uae30)/i]},defaultParseWidth:"any"}),quarter:Object(u.a)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]\uc0ac?\ubd84\uae30/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Object(u.a)({matchPatterns:{narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])\uc6d4/i,wide:/^(1[012]|[123456789])\uc6d4/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^1\uc6d4?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},defaultParseWidth:"any"}),day:Object(u.a)({matchPatterns:{narrow:/^[\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0]/,short:/^[\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0]/,abbreviated:/^[\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0]/,wide:/^[\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0]\uc694\uc77c/},defaultMatchWidth:"wide",parsePatterns:{any:[/^\uc77c/,/^\uc6d4/,/^\ud654/,/^\uc218/,/^\ubaa9/,/^\uae08/,/^\ud1a0/]},defaultParseWidth:"any"}),dayPeriod:Object(u.a)({matchPatterns:{any:/^(am|pm|\uc624\uc804|\uc624\ud6c4|\uc790\uc815|\uc815\uc624|\uc544\uce68|\uc800\ub141|\ubc24)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^(am|\uc624\uc804)/i,pm:/^(pm|\uc624\ud6c4)/i,midnight:/^\uc790\uc815/i,noon:/^\uc815\uc624/i,morning:/^\uc544\uce68/i,afternoon:/^\uc624\ud6c4/i,evening:/^\uc800\ub141/i,night:/^\ubc24/i}},defaultParseWidth:"any"})};e.a={code:"ko",formatDistance:function(t,e,n){var o;return n=n||{},o="string"==typeof i[t]?i[t]:1===e?i[t].one:i[t].other.replace("{{count}}",e),n.addSuffix?n.comparison>0?o+" \ud6c4":o+" \uc804":o},formatLong:r,formatRelative:function(t,e,n,i){return a[t]},localize:c,match:p,options:{weekStartsOn:0,firstWeekContainsDate:1}}},qGlh:function(t,e){t.exports=function(t){return n&&Buffer.isBuffer(t)||i&&(t instanceof ArrayBuffer||function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}(t))};var n="function"==typeof Buffer&&"function"==typeof Buffer.isBuffer,i="function"==typeof ArrayBuffer},qhoL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("/rf6"),o=n("AKIq");e.default=function t(e,n,r){if(void 0===r&&(r={}),!0===r.final)return function(e,n){return(t(n,e)+180)%360}(e,n);var a=o.getCoord(e),s=o.getCoord(n),c=i.degreesToRadians(a[0]),l=i.degreesToRadians(s[0]),u=i.degreesToRadians(a[1]),p=i.degreesToRadians(s[1]),h=Math.sin(l-c)*Math.cos(p),d=Math.cos(u)*Math.sin(p)-Math.sin(u)*Math.cos(p)*Math.cos(l-c);return i.radiansToDegrees(Math.atan2(h,d))}},"r3/F":function(t,e,n){"use strict";n.d(e,"a",function(){return w});var i=n("Q63R"),o=n("k7Ze"),r=n("jtHE"),a=n("LRne"),s=n("HDdC"),c=n("itXk"),l=n("2Vo4"),u=n("XNiG"),p=n("tk/3"),h=n("/RaO"),d=n("JIr8"),g=n("pLZG"),f=n("eIep"),b=n("SxV6"),m=n("lJxs"),_=n("Kj3r"),y=n("gFX4"),O=n("iTV6"),v=n("joil"),C=n("qKIp"),P=n("tF80"),M=n("02YN"),x=n("fXoL");let w=(()=>{class t{constructor(t,e,n,i,a){this.api=t,this.logService=e,this.member=n,this.pageVisibilityService=i,this.storage=a,this.url="/v5/api/kvfarm2",this.DEFAULT_DISPLAY_COUNT=2e3,this.topics={[o.a.Search]:this.makeTopic(),[o.a.Route]:this.makeTopic(),[o.a.Favorite]:this.makeTopic()},this.syncKaleido$=new r.a(1),this.subTopics={},this.syncKaleido()}isMigrated(){var t;const e=null===(t=this.member.loginStatus)||void 0===t?void 0:t.loginId,n=this.storage.get(h.sd)||[];return e&&n.includes(e)?Object(a.a)(!0):this.api.requestJson("get",`${this.url}/migration`).pipe(Object(d.a)(()=>Object(a.a)(!1)))}init(t){const e=this.topics[t];return this.syncKaleido$.pipe(Object(g.a)(t=>t),Object(f.a)(()=>e.connected$),Object(b.a)(),Object(f.a)(e=>e?Object(a.a)(e):this.connect(t)),Object(m.a)(()=>(this.initData(t),e)))}getAll(t,e=this.DEFAULT_DISPLAY_COUNT){const n=[this.url,t,"all"],i=new p.g({fromObject:{caller:h.Hc,displayCount:`${e}`}});return this.api.requestJson("get",n.join("/"),{params:i}).pipe(Object(m.a)(t=>{var e;return null===(e=t.items)||void 0===e?void 0:e.sort((t,e)=>e.updateTime-t.updateTime)}))}add(t,e,n){const i=this.topics[t],o={key:e,value:JSON.stringify(n)},r=[this.url,t],s=new p.g({fromObject:{caller:h.Hc}}),c={keyValueList:[o],sync:!0},l=this.api.requestJson("put",r.join("/"),{params:s,body:c}).pipe(Object(m.a)(e=>(i.connected$.getValue()||this.updateData(t,e.items),!0)),Object(d.a)(i=>(this.writeError(t,"add",{key:e,data:n,err:i}),Object(a.a)(!1))));return this.emitAfterUpdated(i,l)}delete(t,e,n=!0){const i=this.topics[t],o=[this.url,t],r=new p.g({fromObject:{caller:h.Hc}}),s={keyList:e,sync:n},c=this.api.requestJson("delete",o.join("/"),{params:r,body:s}).pipe(Object(m.a)(e=>{var n;if(!i.connected$.getValue()){const i=null===(n=e.items)||void 0===n?void 0:n.map(t=>t.key);this.deleteData(t,i)}return!0}),Object(d.a)(n=>(this.writeError(t,"delete",{keyList:e,err:n}),Object(a.a)(!1))));return this.emitAfterUpdated(i,c)}deleteAll(t){const e=this.topics[t].data$.getValue().map(t=>t.key);return this.delete(t,e)}connect(t){return this.getSocketUrl(t).pipe(Object(f.a)(t=>this.connectSocket(t)))}disconnect(t){this.topics[t].socket.disconnect()}getSocketUrl(t){const e=[this.url,t,"sync"],n=new p.g({fromObject:{caller:h.Hc}});return this.api.getJson(e.join("/"),n).pipe(Object(m.a)(({url:e})=>({topic:t,url:e})))}connectSocket(t){const e=y(t.url,{transports:["websocket","polling"]});return this.afterConnect(e,t.topic)}afterConnect(t,e){return new s.a(n=>{t.once("connect",()=>{this.offConnectEvents(t),this.onEventsAfterConnected(e,t),this.setSocket(e,t),this.updateConnected(e,!0),n.next(!0),n.complete()}),t.once("connect_error",i=>{this.writeError(e,"connectSocket",i),this.offConnectEvents(t),this.updateConnected(e,!1),n.next(!1),n.complete()}),t.once("connect_timeout",i=>{this.writeError(e,"connectSocket",i),this.offConnectEvents(t),this.updateConnected(e,!1),n.next(!1),n.complete()})})}offConnectEvents(t){t.off("connect"),t.off("connect_error"),t.off("connect_timeout")}onEventsAfterConnected(t,e){this.subscribePageVisibilityForCloseOrReopenSocket(t),e.once("disconnect",()=>{e.off("create"),e.off("update"),e.off("delete"),this.updateConnected(t,!1)}),e.on("create",e=>this.createData(t,this.parseUpdateRes(e))),e.on("update",e=>this.updateData(t,this.parseUpdateRes(e))),e.on("delete",e=>this.deleteData(t,this.parseDeleteRes(e)))}updateConnected(t,e){this.topics[t].connected$.getValue()!==e&&this.topics[t].connected$.next(e)}initData(t){const e=this.topics[t];this.getAll(t).subscribe(t=>{e.data$.next(t),e.updated$.next(!0)})}createData(t,e){const n=this.topics[t],i=n.data$.getValue();n.data$.next([...e,...i]),n.updated$.next(!0)}updateData(t,e){const n=this.topics[t],i=n.data$.getValue(),o=e.map(t=>t.key),r=this.filterData(i,o);n.data$.next([...e,...r]),n.updated$.next(!0)}deleteData(t,e){const n=this.topics[t],i=n.data$.getValue(),o=this.filterData(i,e);n.data$.next(o),n.updated$.next(!0)}filterData(t,e){return t.filter(t=>!e.includes(t.key))}writeError(t,e,n){this.logService.log(v.b.None,"KvFarmService",e,{topic:t,data:n})}syncKaleido(){this.member.loginStatusEvent.pipe(Object(g.a)(t=>"Y"===t.loginStatus),Object(f.a)(()=>this.isMigrated()),Object(f.a)(t=>t?Object(a.a)(!0):this.requestSyncKaleido())).subscribe(t=>{this.updateStorage(t),this.syncKaleido$.next(!0)})}requestSyncKaleido(){this.syncKaleido$.next(!1);const t=[this.url,"syncKaleido"],e=new p.g({fromObject:{caller:h.Hc}});return this.api.getJson(t.join("/"),e).pipe(Object(d.a)(()=>Object(a.a)(!1)))}parseUpdateRes(t){const e=JSON.parse(t);return(null==e?void 0:e.keyValueList)||[]}parseDeleteRes(t){const e=JSON.parse(t);return(null==e?void 0:e.keyList)||[]}emitAfterUpdated(t,e){if(!t.connected$.getValue())return e;const n=t.updated$.pipe(Object(b.a)());return Object(c.a)([e,n]).pipe(Object(m.a)(([t])=>t))}makeTopic(){return{connected$:new l.a(!1),data$:new l.a([]),updated$:new u.a}}setSocket(t,e){this.topics[t].socket=e}isConnected(t){return this.topics[t].connected$.getValue()}subscribePageVisibilityForCloseOrReopenSocket(t){this.subTopics[t]||(this.subTopics[t]=this.pageVisibilityService.onVisibilityChange().pipe(Object(_.a)(50)).subscribe(e=>{const n=this.isConnected(t);e||!n?e&&!n&&this.connect(t).subscribe():this.disconnect(t)},e=>{this.writeError(t,"subscribePageVisibilityForCloseOrReopenSocket",e)}))}updateStorage(t){var e;if(!t)return;const n=null===(e=this.member.loginStatus)||void 0===e?void 0:e.loginId;if(!n)return;const i=this.storage.get(h.sd)||[];i.includes(n)||this.storage.set(h.sd,[...i,n])}}return t.\u0275fac=function(e){return new(e||t)(x.ic(i.a),x.ic(O.a),x.ic(P.a),x.ic(M.a),x.ic(C.a))},t.\u0275prov=x.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},rGhi:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("ofXK"),o=n("sYmb"),r=n("fXoL");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Wb({type:t}),t.\u0275inj=r.Vb({imports:[[i.c,o.b]]}),t})()},rHdf:function(t,e,n){"use strict";var i=n("8dJe");n.d(e,"a",function(){return i.a})},rMsy:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return a}),n.d(e,"k",function(){return s}),n.d(e,"h",function(){return c}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return u}),n.d(e,"g",function(){return h}),n.d(e,"f",function(){return d}),n.d(e,"l",function(){return y}),n.d(e,"m",function(){return O}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return C}),n.d(e,"e",function(){return P});var i=n("l7P3"),o=n("gjNt");const r=Object(i.n)("MARKER/ADD_ENTRY",Object(i.s)()),a=Object(i.n)("MARKER/DELETE_ENTRY"),s=Object(i.n)("MARKER/UPDATE_SEARCH_LIST",Object(i.s)()),c=Object(i.n)("MARKER/REMOVE_SEARCH_LIST"),l=Object(i.n)("MARKER/SELECT_SEARCH",Object(i.s)()),u=Object(i.n)("MARKER/UNSELECT_SEARCH"),p=Object(i.p)({entry:null,search:null},Object(i.r)(r,(t,{payload:e})=>Object.assign(Object.assign({},t),{entry:e})),Object(i.r)(a,t=>Object.assign(Object.assign({},t),{entry:null})),Object(i.r)(s,(t,{payload:e})=>Object.assign(Object.assign({},t),{search:Object.assign(Object.assign({},e),{selected:null})})),Object(i.r)(c,t=>Object.assign(Object.assign({},t),{search:null})),Object(i.r)(l,(t,{payload:e})=>Object.assign(Object.assign({},t),{search:Object.assign(Object.assign({},t.search),{selected:e})})),Object(i.r)(u,t=>Object.assign(Object.assign({},t),{search:Object.assign(Object.assign({},t.search),{selected:null})}))),h=(t,e)=>p(t,e),d="MARKER",g=Object(i.o)(d),f=Object(i.q)(g,t=>t.entry),b=Object(i.q)(g,t=>{var e;return null===(e=t.search)||void 0===e?void 0:e.list}),m=Object(i.q)(g,t=>{var e;return null===(e=t.search)||void 0===e?void 0:e.businessType}),_=Object(i.q)(g,t=>{var e;return null===(e=t.search)||void 0===e?void 0:e.selected}),y=t=>t.pipe(Object(i.t)(f)),O=t=>t.pipe(Object(i.t)(_)),v=t=>Object(o.a)((t=>t.pipe(Object(i.t)(b)))(t)),C=t=>Object(o.a)((t=>t.pipe(Object(i.t)(m)))(t)),P=t=>Object(o.a)(O(t))},rRUm:function(t,e,n){"use strict";n.d(e,"a",function(){return i.a}),n.d(e,"c",function(){return o.c}),n.d(e,"b",function(){return o.b});var i=n("/17B"),o=n("ZBhX")},"sO+U":function(t,e,n){"use strict";n.d(e,"h",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"e",function(){return c}),n.d(e,"g",function(){return u}),n.d(e,"d",function(){return p}),n.d(e,"a",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"f",function(){return g});var i=n("rS+x");function o(t,e=5){const n=Math.pow(10,e);return(Math.round(t*n)/n).toFixed(e)}function r(t,e=5){const n=Math.pow(10,e);return(Math.floor(t*n)/n).toFixed(e)}function a(t,e=5){return t.toFixed(e)}function s(t){return t&&t.type===i.C.SimplePoi?`${t.type}_${r(t.latitude)}_${r(t.longitude)}_${t.name}`:null}function c(t){if(t)switch(t.type){case i.C.SimplePoi:return`${t.type}_${o(t.latitude)}_${o(t.longitude)}_${t.name}`;case i.C.AddressPoi:case i.C.SearchWord:return`${t.type}_${t.name}`;case i.C.PlacePoi:case i.C.Bus:case i.C.SubwayStation:case i.C.BusStop:return`${t.type}_${t.id}`;default:return""}}function l(t,e){if(!t)return[];switch(t.type){case i.C.SimplePoi:const n=`${t.type}_${o(t.latitude,4)}_${o(t.longitude,4)}_${t.name}`,r=`${t.type}_${a(t.latitude,4)}_${a(t.longitude,4)}_${t.name}`,s=[];return e!==n&&s.push(n),e!==r&&s.push(r),s;default:return[]}}function u(t){const e=[],n=t.length;for(let i=0;i<n;i+=1){const n=t[i];if(n.__key){e.push(n.__key);continue}const o=c(n),r=l(n,o);o&&e.push(o),r.length&&e.push(...r)}return e}function p(t){return t.type!==i.A.RouteBike?null:d(Object.assign(Object.assign({},t),{type:i.A.RouteBikeOld}))}function h(t){return d(t,r)}function d(t,e=o){if(!t)return;const n=[t.type.toString(),e(t.startLatitude),e(t.startLongitude)];return t.waypoint&&t.waypoint.forEach(t=>{n.push(e(t.latitude)),n.push(e(t.longitude))}),n.push(e(t.goalLatitude)),n.push(e(t.goalLongitude)),n.join("_")}function g(t){return t.map(t=>t.__key?t.__key:d(t))}},sYXR:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("CJka"),o=n("2Vo4"),r=n("pLZG"),a=n("SxV6"),s=n("fXoL"),c=function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})};let l=(()=>{class t{constructor(t){this.uaParser=t,this.groupInfo={},this._isReady$=new o.a(!1),this.init()}get isReady(){return this._isReady$.getValue()}afterReady$(){return this._isReady$.pipe(Object(r.a)(t=>t),Object(a.a)())}afterReady(){return this.afterReady$().toPromise()}getMarker(t){if(!this.isReady)throw new Error("\uc544\uc9c1 \uc2a4\ud504\ub77c\uc774\ud2b8 \ucd08\uae30\ud654 \uc911 \uc785\ub2c8\ub2e4. afterReady$(\ub610\ub294 afterReady)\ub85c \ucd08\uae30\ud654 \uc810\uac80 \ud6c4 \uc774\uc6a9\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.");const e=t.split(":")[0],n=this.sprites[e].json[t];if(!n)return null;const i=this.sprites[e].url;return Object.assign(Object.assign({},n),{url:i,imageWidth:this.sprites[e].info.width,imageHeight:this.sprites[e].info.height,pixelRatio:parseInt(n.pixelRatio,10)})}init(){return c(this,void 0,void 0,function*(){this.uaParser.retina?yield this.loadRetinaSprites():yield this.loadDefaultSprites(),this._isReady$.next(!0)})}loadDefaultSprites(){return c(this,void 0,void 0,function*(){const[t,e]=yield Promise.all([Promise.resolve().then(n.bind(null,"NaFm")).then(({url:t,info:e,json:n})=>({json:n,info:e,url:`/v5/assets/img/sprites/${t}.png`})),Promise.resolve().then(n.t.bind(null,"ym5D",3)).then(t=>({json:t.default,info:{width:60,height:960,pixelRatio:1},url:"/v5/assets/img/panorama/pegman-panorama.png"}))]);this.sprites={marker:t,panorama:e}})}loadRetinaSprites(){return c(this,void 0,void 0,function*(){const[t,e]=yield Promise.all([Promise.resolve().then(n.bind(null,"Ae0E")).then(({url:t,info:e,json:n})=>({json:n,info:e,url:`/v5/assets/img/sprites/${t}.png`})),Promise.resolve().then(n.t.bind(null,"FMTW",3)).then(t=>({json:t.default,info:{width:120,height:1920,pixelRatio:2},url:"/v5/assets/img/panorama/pegman-panorama@2x.png"}))]);this.sprites={marker:t,panorama:e}})}}return t.\u0275fac=function(e){return new(e||t)(s.ic(i.a))},t.\u0275prov=s.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},sk2A:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n("/rf6"),r=n("AKIq"),a=i(n("+mSJ")),s=n("cWyK"),c=i(n("aZEm"));function l(t,e){var n=r.getCoords(t),i=r.getCoords(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==i.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var a=n[0][0],s=n[0][1],c=n[1][0],l=n[1][1],u=i[0][0],p=i[0][1],h=i[1][0],d=i[1][1],g=(d-p)*(c-a)-(h-u)*(l-s);if(0===g)return null;var f=((h-u)*(s-p)-(d-p)*(a-u))/g,b=((c-a)*(s-p)-(l-s)*(a-u))/g;return f>=0&&f<=1&&b>=0&&b<=1?o.point([a+f*(c-a),s+f*(l-s)]):null}e.default=function(t,e){var n={},i=[];if("LineString"===t.type&&(t=o.feature(t)),"LineString"===e.type&&(e=o.feature(e)),"Feature"===t.type&&"Feature"===e.type&&null!==t.geometry&&null!==e.geometry&&"LineString"===t.geometry.type&&"LineString"===e.geometry.type&&2===t.geometry.coordinates.length&&2===e.geometry.coordinates.length){var u=l(t,e);return u&&i.push(u),o.featureCollection(i)}var p=c.default();return p.load(a.default(e)),s.featureEach(a.default(t),function(t){s.featureEach(p.search(t),function(e){var o=l(t,e);if(o){var a=r.getCoords(o).join(",");n[a]||(n[a]=!0,i.push(o))}})}),o.featureCollection(i)}},sqXS:function(t,e,n){"use strict";n.d(e,"a",function(){return T});var i=n("fXoL"),o=n("XrBI"),r=n("eIep"),a=n("lJxs"),s=n("JX91"),c=n("pLZG"),l=n("/SBe"),u=n("U0qn"),p=n("lDLV"),h=n("0mAJ"),d=n("ofXK"),g=n("Pbce"),f=n("sYmb");function b(t,e){if(1&t&&(i.ec(0,"div",8),i.ec(1,"dl",9),i.ec(2,"div",10),i.ec(3,"dt",11),i.Uc(4),i.pc(5,"translate"),i.dc(),i.ec(6,"dd",12),i.Uc(7),i.pc(8,"translate"),i.dc(),i.dc(),i.ec(9,"div",10),i.ec(10,"dt",11),i.Uc(11),i.pc(12,"translate"),i.dc(),i.ec(13,"dd",12),i.Uc(14),i.pc(15,"translate"),i.dc(),i.dc(),i.ec(16,"div",10),i.ec(17,"dt",11),i.Uc(18),i.pc(19,"translate"),i.dc(),i.ec(20,"dd",12),i.Uc(21),i.pc(22,"translate"),i.dc(),i.dc(),i.dc(),i.dc()),2&t){const t=i.oc();i.Jb(4),i.Vc(i.qc(5,6,"REPORT.SUMMARY.TYPE")),i.Jb(3),i.Vc(i.qc(8,8,t.summary.title)),i.Jb(4),i.Vc(i.qc(12,10,"REPORT.SUMMARY.START")),i.Jb(3),i.Vc(i.qc(15,12,t.summary.start)),i.Jb(4),i.Vc(i.qc(19,14,"REPORT.SUMMARY.GOAL")),i.Jb(3),i.Vc(i.qc(22,16,t.summary.goal))}}function m(t,e){1&t&&(i.ec(0,"em",21),i.Uc(1),i.pc(2,"translate"),i.dc()),2&t&&(i.Jb(1),i.Vc(i.qc(2,1,"REPORT.USER_INFO")))}function _(t,e){if(1&t&&(i.ec(0,"p",22),i.Uc(1),i.pc(2,"translate"),i.dc()),2&t){const t=i.oc().$implicit;i.Jb(1),i.Wc(" ",i.qc(2,1,t.desc)," ")}}function y(t,e){if(1&t){const t=i.fc();i.ec(0,"li",15),i.ec(1,"button",16),i.lc("click",function(){i.Jc(t);const n=e.$implicit;return i.oc(2).onClickReportItem(n)}),i.ec(2,"span",17),i.ec(3,"strong",18),i.Uc(4),i.pc(5,"translate"),i.Sc(6,m,3,3,"em",19),i.dc(),i.Sc(7,_,3,3,"p",20),i.dc(),i.dc(),i.dc()}if(2&t){const t=e.$implicit;i.Jb(4),i.Wc(" ",i.qc(5,3,t.label)," "),i.Jb(2),i.wc("ngIf",t.useBadge),i.Jb(1),i.wc("ngIf",t.desc)}}function O(t,e){if(1&t&&(i.ec(0,"ul",13),i.Sc(1,y,8,5,"li",14),i.dc()),2&t){const t=e.$implicit;i.Jb(1),i.wc("ngForOf",t)}}let v=(()=>{class t{constructor(t,e){this.report=t,this.cd=e,this.selectReport=new i.q,this.back=new i.q,this.groups=[]}onClickReportItem(t){switch(t.actionType){case p.a.Link:window.open(t.url);break;case p.a.Popup:Object(g.x)(t.url,t.option);break;case p.a.Form:this.selectReport.emit(t)}}onClickBack(){this.back.emit()}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(h.a),i.Yb(i.i))},t.\u0275cmp=i.Sb({type:t,selectors:[["report-list"]],inputs:{groups:"groups",summary:"summary"},outputs:{selectReport:"selectReport",back:"back"},decls:11,vars:7,consts:[[1,"panel_inner_area"],[1,"panel_header_area"],[1,"panel_title"],["type","button",1,"btn_back",3,"click"],[1,"blind"],[1,"panel_content_area"],["class","report_content_summary",4,"ngIf"],["class","report_entry_list",4,"ngFor","ngForOf"],[1,"report_content_summary"],[1,"summary_info_list"],[1,"summary_info_item"],[1,"summary_info_term"],[1,"summary_info_desc"],[1,"report_entry_list"],["class","report_entry_item",4,"ngFor","ngForOf"],[1,"report_entry_item"],["type","button",1,"report_entry",3,"click"],[1,"report_entry_inner"],[1,"report_title"],["class","report_guide_badge",4,"ngIf"],["class","report_info_text",4,"ngIf"],[1,"report_guide_badge"],[1,"report_info_text"]],template:function(t,e){1&t&&(i.ec(0,"div",0),i.ec(1,"div",1),i.ec(2,"h3",2),i.Uc(3),i.pc(4,"translate"),i.dc(),i.ec(5,"button",3),i.lc("click",function(){return e.onClickBack()}),i.ec(6,"span",4),i.Uc(7,"\ub3cc\uc544\uac00\uae30"),i.dc(),i.dc(),i.dc(),i.ec(8,"div",5),i.Sc(9,b,23,18,"div",6),i.Sc(10,O,2,1,"ul",7),i.dc(),i.dc()),2&t&&(i.Jb(3),i.Vc(i.qc(4,5,"REPORT.TITLE")),i.Jb(5),i.Qb("has_top_border",e.summary),i.Jb(1),i.wc("ngIf",e.summary),i.Jb(1),i.wc("ngForOf",e.groups))},directives:[d.o,d.n],pipes:[f.c],styles:["[_nghost-%COMP%]   .panel_header_area[_ngcontent-%COMP%]   .btn_back[_ngcontent-%COMP%]{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/common.png);background-size:256px 225px}.retina   [_nghost-%COMP%]   .panel_header_area[_ngcontent-%COMP%]   .btn_back[_ngcontent-%COMP%]{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/common@2x.png)}[_nghost-%COMP%]   .panel_inner_area[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   .panel_header_area[_ngcontent-%COMP%]{flex:none;position:relative;padding:15px 13px 28px 47px;min-height:30px}[_nghost-%COMP%]   .panel_header_area[_ngcontent-%COMP%]   .btn_back[_ngcontent-%COMP%]{overflow:hidden;display:inline-block;width:30px;height:30px;font-size:0;color:transparent;vertical-align:top;background-position:0 -105px;position:absolute;left:13px;top:15px}[_nghost-%COMP%]   .panel_header_area[_ngcontent-%COMP%]   .panel_title[_ngcontent-%COMP%]{font-size:20px;line-height:32px;color:#333;letter-spacing:-.93px}[_nghost-%COMP%]   .panel_content_area[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden;max-width:390px;flex:1}[_nghost-%COMP%]   .panel_content_area[_ngcontent-%COMP%]:hover{overflow-y:auto}[_nghost-%COMP%]   .panel_content_area[_ngcontent-%COMP%]::-webkit-scrollbar-track{margin-left:-6px}[_nghost-%COMP%]   .panel_content_area[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}[_nghost-%COMP%]   .panel_content_area[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:100px;background-color:#c4c6c8}.ipad[_nghost-%COMP%]   .panel_content_area[_ngcontent-%COMP%], .ipad   [_nghost-%COMP%]   .panel_content_area[_ngcontent-%COMP%], .firefox[_nghost-%COMP%]   .panel_content_area[_ngcontent-%COMP%], .firefox   [_nghost-%COMP%]   .panel_content_area[_ngcontent-%COMP%]{overflow-y:auto;-webkit-overflow-scrolling:touch}",'[_nghost-%COMP%]   .report_entry_item[_ngcontent-%COMP%]   .report_title[_ngcontent-%COMP%]:after{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/settings.png);background-size:138px 118px}.retina   [_nghost-%COMP%]   .report_entry_item[_ngcontent-%COMP%]   .report_title[_ngcontent-%COMP%]:after{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/settings@2x.png)}[_nghost-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;z-index:200;background-color:#fff}[_nghost-%COMP%]   .panel_content_area[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Helvetica,Apple SD Gothic Neo,sans-serif}[_nghost-%COMP%]   .panel_content_area.has_top_border[_ngcontent-%COMP%]{border-top:1px solid #ccc}[_nghost-%COMP%]   .report_content_summary[_ngcontent-%COMP%]{background:#fafafa;padding:10px 20px 16px;border-bottom:1px solid #e6e6e6}[_nghost-%COMP%]   .report_content_summary[_ngcontent-%COMP%]   .summary_info_list[_ngcontent-%COMP%]{display:table;width:100%}[_nghost-%COMP%]   .report_content_summary[_ngcontent-%COMP%]   .summary_info_item[_ngcontent-%COMP%]{display:table-row}[_nghost-%COMP%]   .report_content_summary[_ngcontent-%COMP%]   .summary_info_desc[_ngcontent-%COMP%], [_nghost-%COMP%]   .report_content_summary[_ngcontent-%COMP%]   .summary_info_term[_ngcontent-%COMP%]{display:table-cell;padding-top:7px;font-size:16px;line-height:normal}[_nghost-%COMP%]   .report_content_summary[_ngcontent-%COMP%]   .summary_info_term[_ngcontent-%COMP%]{min-width:94px;padding-right:10px;box-sizing:border-box;white-space:nowrap;color:#777}[_nghost-%COMP%]   .report_content_summary[_ngcontent-%COMP%]   .summary_info_desc[_ngcontent-%COMP%]{width:100%;color:#333}[_nghost-%COMP%]   .report_entry_list[_ngcontent-%COMP%]{padding:0 21px}[_nghost-%COMP%]   .report_entry_list[_ngcontent-%COMP%]:first-child   .report_entry_item[_ngcontent-%COMP%]:first-child   .report_entry[_ngcontent-%COMP%]{padding-top:6px}[_nghost-%COMP%]   .report_entry_list[_ngcontent-%COMP%]:last-child{margin-bottom:30px}[_nghost-%COMP%]   .report_entry_list[_ngcontent-%COMP%]:not(:last-child)   .report_entry_item[_ngcontent-%COMP%]:last-child{border-bottom:0}[_nghost-%COMP%]   .report_entry_list[_ngcontent-%COMP%] + .report_entry_list[_ngcontent-%COMP%]{border-top:8px solid #f1f1f1}[_nghost-%COMP%]   .report_entry_item[_ngcontent-%COMP%]{border-bottom:1px solid #f2f2f2}[_nghost-%COMP%]   .report_entry_item[_ngcontent-%COMP%]   .report_entry[_ngcontent-%COMP%]{display:block;width:100%;text-align:left;padding:16px 0;min-height:21px;box-sizing:content-box}[_nghost-%COMP%]   .report_entry_item[_ngcontent-%COMP%]   .report_entry_inner[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .report_entry_item[_ngcontent-%COMP%]   .report_title[_ngcontent-%COMP%]{display:block;position:relative;padding-right:15px;font-size:16px;font-weight:600;line-height:normal;color:#111}[_nghost-%COMP%]   .report_entry_item[_ngcontent-%COMP%]   .report_title[_ngcontent-%COMP%]:after{overflow:hidden;display:inline-block;width:8px;height:14px;font-size:0;color:transparent;vertical-align:top;background-position:-130px 0;position:absolute;top:2px;right:0;content:""}[_nghost-%COMP%]   .report_entry_item[_ngcontent-%COMP%]   .report_guide_badge[_ngcontent-%COMP%]{display:inline-block;vertical-align:2px;height:16px;padding:0 6px;border:1px solid #999;border-radius:9px;font-size:10px;line-height:18px;font-weight:600;color:#555;letter-spacing:-.2px}[_nghost-%COMP%]   .report_entry_item[_ngcontent-%COMP%]   .report_info_text[_ngcontent-%COMP%]{margin-top:6px;margin-right:22px;font-size:14px;line-height:normal;color:#767676}'],changeDetection:0}),t})();var C=n("AytR"),P=n("3Pt+"),M=n("fkBw");const x=["formElement"],w=["iframeElement"];function k(t,e){if(1&t){const t=i.fc();i.ec(0,"div",8),i.ec(1,"h3",9),i.Uc(2),i.pc(3,"translate"),i.dc(),i.ec(4,"button",10),i.lc("click",function(){return i.Jc(t),i.oc().onClickBack()}),i.ec(5,"span",11),i.Uc(6,"\ub4a4\ub85c\uac00\uae30"),i.dc(),i.dc(),i.dc()}2&t&&(i.Jb(2),i.Vc(i.qc(3,1,"REPORT.TITLE")))}function S(t,e){1&t&&i.Zb(0,"nm-spinner")}let E=(()=>{class t{constructor(t){this.cd=t,this.useHeader=!0,this.completeReport=new i.q,this.back=new i.q,this.requestCapture=new i.q,this.isReadyIframe=!1}ngAfterViewInit(){this.submitForm()}onClickBack(){this.back.emit()}submitForm(){const t=this.formElement.nativeElement,e=document.createElement("input");e.type="hidden",e.name="data",e.value=JSON.stringify(this.body),t.appendChild(e),t.action=`${document.location.protocol}${C.a.reportUrl}${this.url}`,t.submit()}onWindowMessage(t){switch(t.data){case p.e.Ready:this.isReadyIframe=!0,this.cd.detectChanges();break;case p.e.Complete:this.completeReport.emit();break;case p.e.RequestCapture:if(!this.requestCapture)return;this.requestCapture.emit(this.iframeElement)}}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(i.i))},t.\u0275cmp=i.Sb({type:t,selectors:[["report-frame"]],viewQuery:function(t,e){if(1&t&&(i.ad(x,1),i.ad(w,1)),2&t){let t;i.Fc(t=i.mc())&&(e.formElement=t.first),i.Fc(t=i.mc())&&(e.iframeElement=t.first)}},hostBindings:function(t,e){1&t&&i.lc("message",function(t){return e.onWindowMessage(t)},!1,i.Ic)},inputs:{url:"url",body:"body",useHeader:"useHeader"},outputs:{completeReport:"completeReport",back:"back",requestCapture:"requestCapture"},decls:8,vars:2,consts:[[1,"panel_inner_area"],["class","panel_header_area",4,"ngIf"],[1,"panel_content_area"],["id","report_iframe","name","report_iframe","frameborder","0",1,"report_iframe"],["iframeElement",""],["target","report_iframe","method","POST",2,"display","none"],["formElement",""],[4,"ngIf"],[1,"panel_header_area"],[1,"panel_title"],["type","button",1,"btn_back",3,"click"],[1,"blind"]],template:function(t,e){1&t&&(i.ec(0,"div",0),i.Sc(1,k,7,3,"div",1),i.ec(2,"div",2),i.Zb(3,"iframe",3,4),i.Zb(5,"form",5,6),i.dc(),i.Sc(7,S,1,0,"nm-spinner",7),i.dc()),2&t&&(i.Jb(1),i.wc("ngIf",e.useHeader),i.Jb(6),i.wc("ngIf",!e.isReadyIframe))},directives:[d.o,P.r,P.l,P.m,M.a],pipes:[f.c],styles:["[_nghost-%COMP%]   .panel_header_area[_ngcontent-%COMP%]   .btn_back[_ngcontent-%COMP%]{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/common.png);background-size:256px 225px}.retina   [_nghost-%COMP%]   .panel_header_area[_ngcontent-%COMP%]   .btn_back[_ngcontent-%COMP%]{background-image:url(https://ssl.pstatic.net/static/maps/v5/pc/20210503101539/common@2x.png)}[_nghost-%COMP%]   .panel_inner_area[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   .panel_header_area[_ngcontent-%COMP%]{flex:none;position:relative;padding:15px 13px 28px 47px;min-height:30px}[_nghost-%COMP%]   .panel_header_area[_ngcontent-%COMP%]   .btn_back[_ngcontent-%COMP%]{overflow:hidden;display:inline-block;width:30px;height:30px;font-size:0;color:transparent;vertical-align:top;background-position:0 -105px;position:absolute;left:13px;top:15px}[_nghost-%COMP%]   .panel_header_area[_ngcontent-%COMP%]   .panel_title[_ngcontent-%COMP%]{font-size:20px;line-height:32px;color:#333;letter-spacing:-.93px}[_nghost-%COMP%]   .panel_content_area[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden;max-width:390px;flex:1}[_nghost-%COMP%]   .panel_content_area[_ngcontent-%COMP%]:hover{overflow-y:auto}[_nghost-%COMP%]   .panel_content_area[_ngcontent-%COMP%]::-webkit-scrollbar-track{margin-left:-6px}[_nghost-%COMP%]   .panel_content_area[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}[_nghost-%COMP%]   .panel_content_area[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:100px;background-color:#c4c6c8}.ipad[_nghost-%COMP%]   .panel_content_area[_ngcontent-%COMP%], .ipad   [_nghost-%COMP%]   .panel_content_area[_ngcontent-%COMP%], .firefox[_nghost-%COMP%]   .panel_content_area[_ngcontent-%COMP%], .firefox   [_nghost-%COMP%]   .panel_content_area[_ngcontent-%COMP%]{overflow-y:auto;-webkit-overflow-scrolling:touch}","[_nghost-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;z-index:200;background-color:#fff}[_nghost-%COMP%]   .panel_content_area[_ngcontent-%COMP%]{border-top:1px solid #ccc}[_nghost-%COMP%]   .panel_content_area[_ngcontent-%COMP%]:hover{overflow:visible}[_nghost-%COMP%]   .report_iframe[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;border:0}"],changeDetection:0}),t})();function I(t,e){if(1&t){const t=i.fc();i.ec(0,"report-list",3),i.lc("back",function(){return i.Jc(t),i.oc().onHideContainer()})("selectReport",function(e){return i.Jc(t),i.oc().onSelectReport(e)}),i.dc()}if(2&t){const t=i.oc();i.wc("groups",t.reportListDataGroup)("summary",t.summary)}}function R(t,e){if(1&t){const t=i.fc();i.ec(0,"report-frame",4),i.lc("back",function(){return i.Jc(t),i.oc().onReportBack()})("completeReport",function(){return i.Jc(t),i.oc().onHideContainer()})("requestCapture",function(e){return i.Jc(t),i.oc().onRequstCapture(e)}),i.pc(1,"async"),i.dc()}if(2&t){const t=i.oc();i.Pc("pointer-events",i.qc(1,5,t.pointerEvents$)),i.wc("url",t.currentUrl)("body",t.reportBody)("useHeader",t.useHeader)}}let T=(()=>{class t{constructor(t,e,n,o){this.reportFacade=t,this.report=e,this.cd=n,this.mapsService=o,this.useHeader=!0,this.completeReport=new i.q,this.subs=[],this.isShowReportList=!1,this.isShowReportFrame=!1,this.isReadyReportFrame=!1,this.reportListDataGroup=[],this.pointerEvents$=this.mapsService.afterReady().pipe(Object(r.a)(()=>this.mapsService.isDragging$()),Object(a.a)(t=>t?"none":"auto"),Object(s.a)("auto"))}ngOnInit(){this.subs.push(this.report.isReady.subscribe(({type:t})=>{this.visibleReportFrame(!!t)}),this.report.changedBody.subscribe(t=>{this.reportBody=t}))}ngAfterViewInit(){this.subs.push(this.reportFacade.isShowReportList.pipe(Object(c.a)(t=>t.parent===this.parent),Object(c.a)(t=>t.isShow)).subscribe(t=>{this.reportListDataGroup=u.c[t.type],this.summary=t.summary,this.visibleReportList(t.isShow)}),this.reportFacade.isShowReport.pipe(Object(c.a)(t=>t.parent===this.parent),Object(c.a)(t=>t.isShow)).subscribe(t=>{const e=u.b[t.type];this.currentUrl=e.url,this.currentType=e.bodyType,this.report.open(e,t.body),this.cd.detectChanges()}))}ngOnDestroy(){this.subs.forEach(t=>t.unsubscribe()),this.subs.length=0,this.subs=[]}onSelectReport(t){this.currentUrl=t.url,this.currentType=t.bodyType,this.report.open(t)}onReportBack(){this.isShowReportList?this.visibleReportFrame(!1):this.reportFacade.hide(this.parent)}onHideContainer(){this.reportFacade.hide(this.parent),this.completeReport.emit()}onRequstCapture(t){this.reportFacade.requestScreenshot(),this.report.requestMapScreenshot(this.currentType).subscribe(e=>{const n=e.meta,i=e.meta.center;this.report.updateBody({target_poi_latitude:i.lat,target_poi_longitude:i.lng,address:n.address,road_address:n.roadAddress}),t.nativeElement.contentWindow.postMessage(e.imageData,"*"),this.reportFacade.responseScreenshot()})}visibleReportList(t){this.isShowReportList=t,this.cd.detectChanges()}visibleReportFrame(t){this.isShowReportFrame=t,this.cd.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(l.a),i.Yb(h.a),i.Yb(i.i),i.Yb(o.a))},t.\u0275cmp=i.Sb({type:t,selectors:[["report-container"]],inputs:{parent:"parent",useHeader:"useHeader"},outputs:{completeReport:"completeReport"},decls:3,vars:2,consts:[[1,"report_container"],[3,"groups","summary","back","selectReport",4,"ngIf"],[3,"url","body","useHeader","pointerEvents","back","completeReport","requestCapture",4,"ngIf"],[3,"groups","summary","back","selectReport"],[3,"url","body","useHeader","back","completeReport","requestCapture"]],template:function(t,e){1&t&&(i.ec(0,"div",0),i.Sc(1,I,1,2,"report-list",1),i.Sc(2,R,2,7,"report-frame",2),i.dc()),2&t&&(i.Jb(1),i.wc("ngIf",e.isShowReportList),i.Jb(1),i.wc("ngIf",e.isShowReportFrame))},directives:[d.o,v,E],pipes:[d.b],styles:["[_nghost-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;z-index:200;background-color:#fff}[_nghost-%COMP%]   .report_contaner[_ngcontent-%COMP%]{width:100%;height:100%}"],changeDetection:0}),t})()},tF80:function(t,e,n){"use strict";n.d(e,"a",function(){return i.a});var i=n("adR+")},tMAK:function(t,e,n){"use strict";n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return o.a});var i=n("7Gr3"),o=n("C758")},tSqg:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return a.b});var i=n("fXoL"),o=n("XNiG"),r=n("jtHE"),a=n("5yaL");const s=[{key:a.b.setStart,name:"\ucd9c\ubc1c"},{key:a.b.setGoal,name:"\ub3c4\ucc29"},{key:a.b.addWaypoint,name:"\uacbd\uc720"},{key:a.b.showPanorama,name:"\ud30c\ub178\ub77c\ub9c8 \ubcf4\uae30"},{key:a.b.measureDistance,name:"\uac70\ub9ac\uce21\uc815"},{key:a.b.deleteDistance,name:"\uac70\ub9ac\uce21\uc815"},{key:a.b.measureArea,name:"\uba74\uc801\uce21\uc815"},{key:a.b.deleteArea,name:"\uba74\uc801\uce21\uc815"},{key:a.b.measureRadius,name:"\ubc18\uacbd\uce21\uc815"},{key:a.b.deleteRadius,name:"\ubc18\uacbd\uce21\uc815"}],c=[s[a.b.setStart],s[a.b.setGoal],s[a.b.showPanorama]],l=[s[a.b.setStart],s[a.b.addWaypoint],s[a.b.setGoal],s[a.b.showPanorama]];let u=(()=>{class t{constructor(){this._status=new o.a,this._active=!1,this._menuListChanged=new r.a(1),this._menuClicked=new i.q,this.currentMode=a.c.none,this.currentMeasureMode=[a.a.off,a.a.off,a.a.off],this.hasHideDelay=!1,this.hideTimer=null}get menuListChanged(){return this._menuListChanged}get menuClicked(){return this._menuClicked}get metaInfo(){return this._metaInfo}get status(){return this._status}get active(){return this._active}set active(t){this._active=t,this.status.next(t)}show(t){t&&(this._metaInfo=t),this.active=!0}hide(){this.active=!1,this.hasHideDelay=!0,this.hideTimer=window.setTimeout(()=>{this.hasHideDelay=!1},250)}isContextActive(){return this.hasHideDelay||this.active}setNormalMode(){this.currentMode!==a.c.normal&&(this.currentMode=a.c.normal,this.emitMenuList())}setAddWaypointMode(){this.currentMode!==a.c.addWaypoint&&(this.currentMode=a.c.addWaypoint,this.emitMenuList())}setOnDistanceMode(){const t=this.currentMeasureMode;this.currentMeasureMode=[a.a.on,t[1],t[2]],this.emitMenuList()}setOffDistanceMode(){const t=this.currentMeasureMode;this.currentMeasureMode=[a.a.off,t[1],t[2]],this.emitMenuList()}setOnAreaMode(){const t=this.currentMeasureMode;this.currentMeasureMode=[t[0],a.a.on,t[2]],this.emitMenuList()}setOffAreaMode(){const t=this.currentMeasureMode;this.currentMeasureMode=[t[0],a.a.off,t[2]],this.emitMenuList()}setOnRadiusMode(){const t=this.currentMeasureMode;this.currentMeasureMode=[t[0],t[1],a.a.on],this.emitMenuList()}setOffRadiusMode(){const t=this.currentMeasureMode;this.currentMeasureMode=[t[0],t[1],a.a.off],this.emitMenuList()}emitMenuList(){let t=[];switch(this.currentMode){case a.c.normal:t=c;break;case a.c.addWaypoint:t=l}t=t.slice(0),this.injectMeasureMenu(t),t.forEach(t=>{t.cb=this.callback.bind(this)}),this.menuListChanged.next(t)}callback(t){this.menuClicked.emit(t)}injectMeasureMenu(t){t.push(this.currentMeasureMode[0]===a.a.on?s[a.b.deleteDistance]:s[a.b.measureDistance]),t.push(this.currentMeasureMode[1]===a.a.on?s[a.b.deleteArea]:s[a.b.measureArea]),t.push(this.currentMeasureMode[2]===a.a.on?s[a.b.deleteRadius]:s[a.b.measureRadius])}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},v6re:function(t,e,n){"use strict";function i(t){if(!t)throw new Error("coord is required");if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates;if(Array.isArray(t)&&t.length>=2&&void 0===t[0].length&&void 0===t[1].length)return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function o(t){if(!t)throw new Error("coords is required");if("Feature"===t.type&&null!==t.geometry)return t.geometry.coordinates;if(t.coordinates)return t.coordinates;if(Array.isArray(t))return t;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function r(t,e){if(!t)throw new Error((e||"geojson")+" is required");if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error((e||"geojson")+" is invalid")}n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return r}),n("Kd67")},vWDY:function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"v",function(){return u}),n.d(e,"u",function(){return p}),n.d(e,"z",function(){return h}),n.d(e,"B",function(){return d}),n.d(e,"t",function(){return g}),n.d(e,"C",function(){return f}),n.d(e,"b",function(){return b}),n.d(e,"y",function(){return m}),n.d(e,"h",function(){return _}),n.d(e,"g",function(){return y}),n.d(e,"e",function(){return O}),n.d(e,"s",function(){return v}),n.d(e,"r",function(){return C}),n.d(e,"c",function(){return P}),n.d(e,"f",function(){return M}),n.d(e,"d",function(){return x}),n.d(e,"A",function(){return w}),n.d(e,"q",function(){return k}),n.d(e,"x",function(){return I}),n.d(e,"w",function(){return R}),n.d(e,"L",function(){return K}),n.d(e,"N",function(){return Z}),n.d(e,"R",function(){return $}),n.d(e,"O",function(){return Q}),n.d(e,"Q",function(){return tt}),n.d(e,"P",function(){return et}),n.d(e,"G",function(){return nt}),n.d(e,"H",function(){return it}),n.d(e,"F",function(){return ot}),n.d(e,"I",function(){return rt}),n.d(e,"M",function(){return at}),n.d(e,"E",function(){return st}),n.d(e,"J",function(){return ct}),n.d(e,"D",function(){return lt}),n.d(e,"K",function(){return ut}),n.d(e,"m",function(){return pt}),n.d(e,"l",function(){return ht}),n.d(e,"n",function(){return dt}),n.d(e,"i",function(){return gt}),n.d(e,"o",function(){return ft}),n.d(e,"p",function(){return bt}),n.d(e,"j",function(){return mt}),n.d(e,"k",function(){return _t});var i=n("l7P3"),o=n("gjNt"),r=n("pLZG"),a=n("wO+i"),s=n("lJxs"),c=(n("p20y"),function(t){return t.FusionRequest="FusionRequest",t.FusionResponse="FusionResponse",t.SaltResponse="SaltResponse",t}({})),l=function(t){return t.ReserveHistory="SEARCH/RESERVE_HISTORY",t.RequestSearch="SEARCH/REQUEST",t.SelectedType="SEARCH/SELECTED_TYPE",t.UpdateSalt="SEARCH/UPDATE_SALT",t.LoadedSaltPage="SEARCH/LOADED_SALT_PAGE",t.UpdatedSaltList="SEARCH/UPDATED_SALT_LIST",t.ClearHistory="SEARCH/CLEAR_HISTORY",t.Searched="SEARCH/SEARCHED",t.EndSetBoundary="SEARCH/END_SET_BOUNDARY",t.EnableSearchCurrArea="SEARCH/ENABLE_SEARCH_CURR_AREA",t.DisableSearchCurrArea="SEARCH/DISABLE_SEARCH_CURR_AREA",t.ItemOver="SEARCH/ITEM_OVER",t.ItemOut="SEARCH/ITEM_OUT",t.Clear="SEARCH/CLEAR",t.EnableSearchBoxLayer="SEARCH/ENABLE_SEARCH_BOX_LAYER",t.DisableSearchBoxLayer="SEARCH/DISABLE_SEARCH_BOX_LAYER",t.ShowEntry="SEARCH/SHOW_ENTRY",t.HideEntry="SEARCH/HIDE_ENTRY",t}({});const u=Object(i.n)(l.ReserveHistory,Object(i.s)()),p=Object(i.n)(l.RequestSearch,Object(i.s)()),h=Object(i.n)(l.SelectedType,Object(i.s)()),d=Object(i.n)(l.UpdateSalt,Object(i.s)()),g=Object(i.n)(l.LoadedSaltPage),f=Object(i.n)(l.UpdatedSaltList,Object(i.s)()),b=Object(i.n)(l.ClearHistory),m=Object(i.n)(l.Searched,Object(i.s)()),_=Object(i.n)(l.EndSetBoundary),y=Object(i.n)(l.EnableSearchCurrArea),O=Object(i.n)(l.DisableSearchCurrArea),v=Object(i.n)(l.ItemOver,Object(i.s)()),C=Object(i.n)(l.ItemOut,Object(i.s)()),P=Object(i.n)(l.Clear),M=Object(i.n)(l.EnableSearchBoxLayer),x=Object(i.n)(l.DisableSearchBoxLayer),w=Object(i.n)(l.ShowEntry),k=Object(i.n)(l.HideEntry),S={isLoading:!1,request:null,saltUrl:null,response:null,reservedHistory:null,hoveredItemId:null,enableSearchCurrArea:!1,enableSearchBoxLayer:!1,isHideEntry:!0},E=Object(i.p)(S,Object(i.r)(u,(t,{payload:e})=>Object.assign(Object.assign({},t),{reservedHistory:e})),Object(i.r)(p,(t,{payload:e})=>Object.assign(Object.assign({},t),{isLoading:!0,request:Object.assign({},e)})),Object(i.r)(d,(t,{payload:e})=>Object.assign(Object.assign({},t),{saltUrl:{url:e.url},response:Object.assign(Object.assign({},t.response),e.response)})),Object(i.r)(b,t=>Object.assign(Object.assign({},t),{reservedHistory:null})),Object(i.r)(g,t=>Object.assign(Object.assign({},t),{isLoading:!1})),Object(i.r)(m,(t,{payload:e})=>Object.assign(Object.assign({},t),{isLoading:!1,response:Object.assign({},e)})),Object(i.r)(y,t=>Object.assign(Object.assign({},t),{enableSearchCurrArea:!0})),Object(i.r)(O,t=>Object.assign(Object.assign({},t),{enableSearchCurrArea:!1})),Object(i.r)(v,(t,{payload:e})=>Object.assign(Object.assign({},t),{hoveredItemId:e})),Object(i.r)(C,(t,{payload:e})=>Object.assign(Object.assign({},t),{hoveredItemId:t.hoveredItemId===e?null:t.hoveredItemId})),Object(i.r)(P,()=>Object.assign({},S)),Object(i.r)(M,t=>Object.assign(Object.assign({},t),{enableSearchBoxLayer:!0})),Object(i.r)(x,t=>Object.assign(Object.assign({},t),{enableSearchBoxLayer:!1})),Object(i.r)(w,t=>Object.assign(Object.assign({},t),{isHideEntry:!1})),Object(i.r)(k,t=>Object.assign(Object.assign({},t),{isHideEntry:!0}))),I=(t,e)=>E(t,e),R="SEARCH",T=Object(i.o)(R),A=Object(i.q)(T,t=>t.isLoading),L=Object(i.q)(T,t=>t.hoveredItemId),j=Object(i.q)(T,t=>t.request),D=Object(i.q)(T,t=>t.saltUrl),F=Object(i.q)(T,t=>{var e;return null===(e=t.request)||void 0===e?void 0:e.query}),N=Object(i.q)(T,t=>t.response),B=(Object(i.q)(T,t=>{var e;return null===(e=t.response)||void 0===e?void 0:e.type}),Object(i.q)(T,t=>{var e;return(null===(e=t.response)||void 0===e?void 0:e.isCorrectAnswer)||!1})),U=Object(i.q)(T,t=>{var e;return null===(e=t.response)||void 0===e?void 0:e.salt}),V=Object(i.q)(T,t=>{var e;return null===(e=t.response)||void 0===e?void 0:e.fusion}),z=Object(i.q)(T,t=>{var e,n;return null===(n=null===(e=t.response)||void 0===e?void 0:e.fusion)||void 0===n?void 0:n.busRoute}),W=Object(i.q)(T,t=>{var e,n;return null===(n=null===(e=t.response)||void 0===e?void 0:e.fusion)||void 0===n?void 0:n.busStation}),H=Object(i.q)(T,t=>{var e,n;return null===(n=null===(e=t.response)||void 0===e?void 0:e.fusion)||void 0===n?void 0:n.address}),q=Object(i.q)(T,t=>{var e,n;return null===(n=null===(e=t.response)||void 0===e?void 0:e.fusion)||void 0===n?void 0:n.place}),Y=Object(i.q)(T,t=>t.reservedHistory),J=Object(i.q)(T,t=>t.enableSearchCurrArea),G=Object(i.q)(T,t=>t.enableSearchBoxLayer),X=Object(i.q)(T,t=>t.isHideEntry),K=t=>t.pipe(Object(i.t)(A)),Z=t=>t.pipe(Object(i.t)(j)),$=t=>t.pipe(Object(i.t)(D),Object(r.a)(t=>!!t),Object(a.a)("url")),Q=t=>t.pipe(Object(i.t)(N)),tt=t=>t.pipe(Object(i.t)(U)),et=t=>t.pipe(Object(i.t)(V)),nt=t=>t.pipe(Object(i.t)(z)),it=t=>t.pipe(Object(i.t)(W)),ot=t=>t.pipe(Object(i.t)(H)),rt=t=>t.pipe(Object(i.t)(q)),at=t=>t.pipe(Object(i.t)(F)),st=t=>t.pipe(Object(i.t)(J)),ct=t=>et(t).pipe(Object(s.a)(t=>{var e;return(null===(e=null==t?void 0:t.address)||void 0===e?void 0:e.totalCount)>0})),lt=t=>t.pipe(Object(i.t)(G)),ut=t=>t.pipe(Object(i.t)(X)),pt=t=>Object(o.a)(Z(t)),ht=t=>Object(o.a)(at(t)),dt=t=>Object(o.a)((t=>t.pipe(Object(i.t)(Y)))(t)),gt=t=>Object(o.a)((t=>t.pipe(Object(i.t)(L)))(t)),ft=t=>Object(o.a)(Q(t)),bt=t=>Object(o.a)(tt(t)),mt=t=>Object(o.a)((t=>t.pipe(Object(i.t)(B)))(t)),_t=t=>Object(o.a)(ut(t))},vmh1:function(t,e,n){"use strict";n.d(e,"f",function(){return l}),n.d(e,"g",function(){return u}),n.d(e,"d",function(){return p}),n.d(e,"e",function(){return h}),n.d(e,"a",function(){return d}),n.d(e,"b",function(){return g}),n.d(e,"c",function(){return b});var i=n("2BQN"),o=n("k/lc"),r=n("wsqr"),a=n("SIcl");let s;function c(t){b(t)&&(g()&&console.log(t.data),s.dispatch(Object(i.d)({payload:t.data})))}function l(t){s=t,window.addEventListener("message",c,!1),g()&&console.log("iframe addEventListener")}function u(){s=null,window.removeEventListener("message",c),g()&&console.log("iframe removeEventListener")}function p(t){const e=document.querySelector(`#${o.a.PLACE_DETAIL}`);e&&e.contentWindow.postMessage(t,Object(r.e)()?f():"*")}function h(t){const e=document.querySelector(`#${o.a.PLACE_SEARCH}`);e&&e.contentWindow.postMessage(t,Object(r.e)()?f():"*")}function d(t,e=!0,n=null){const i=t.split("?"),o=i[0];let r=["from=map"];if(r=r.concat("fromPanelNum="+(e?1:2)),n){const{lng:t,lat:e}=n;r=r.concat(`x=${t}`,`y=${e}`)}return r=r.concat(`ts=${function(t=!0){if(t)return`${Date.now()}`;const e=Date.now(),n=new Date(e),i=n.getFullYear(),o=n.getMonth()+1,r=n.getDate();return[i,o<10?`0${o}`:o,r<10?`0${r}`:r].join("")}()}`),[o,i.slice(1).concat(r).join("&")].join("?")}function g(){return[o.c.DEBUG,o.c.TEST_APP,o.c.TEST_BOOKING,o.c.TEST_PLACE].includes(Object(a.m)())}function f(){switch(Object(a.m)()){case o.c.DEBUG:return location.origin;case o.c.TEST_APP:return`https://${a.f}`;case o.c.TEST_BOOKING:return`https://${a.g}`;case o.c.TEST_PLACE:return`https://${a.h}`;case o.c.MOBILE:return"https://m.place.naver.com";case o.c.LOCAL:return`https://local-${a.e}`;case o.c.TEST:return`https://test-${a.e}`;case o.c.QA:return`https://qa-${a.e}`;case o.c.REAL:return`https://${a.e}`;default:return`https://stage-${a.e}`}}function b(t){return!!function({origin:t}){return a.i.findIndex(e=>t.indexOf(e)>-1)>-1}(t)&&!!function({data:t}){return!(null==t?void 0:t.source)||!["@devtools-extension","@devtools-page"].includes(null==t?void 0:t.source)}(t)&&!!function({data:t}){return!Object(r.e)()||!!Object.values(o.b).includes(null==t?void 0:t.action)}(t)}},vtVp:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a});var i=function(t){return t[t.Ready=0]="Ready",t[t.Loading=1]="Loading",t[t.LoadDone=2]="LoadDone",t[t.LoadError=3]="LoadError",t}({}),o=n("ZpGt"),r=n("fXoL");let a=(()=>{class t{constructor(t){this.layoutStore=t}show(t,e){this.layoutStore.openPhotoViewerPopup({index:t,images:e})}hide(){this.layoutStore.closePhotoViewerPopup()}}return t.\u0275fac=function(e){return new(e||t)(r.ic(o.a))},t.\u0275prov=r.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},w5vR:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var i=function(t){return t[t.Show=0]="Show",t[t.ShowLogin=1]="ShowLogin",t[t.OnConfirmed=2]="OnConfirmed",t[t.OnCanceled=3]="OnCanceled",t}({}),o=function(t){return t[t.Place=0]="Place",t[t.Voc=1]="Voc",t}({})},wBAh:function(t,e,n){"use strict";n.d(e,"c",function(){return i.a}),n.d(e,"d",function(){return r}),n.d(e,"e",function(){return s}),n.d(e,"a",function(){return l}),n.d(e,"b",function(){return p});var i=n("pSxj"),o=n("fXoL");let r=(()=>{class t extends i.a{}return t.\u0275fac=function(e){return a(e||t)},t.\u0275cmp=o.Sb({type:t,selectors:[["nm-content-loader-sample"]],features:[o.Gb],decls:7,vars:9,consts:[[3,"animate","width","height","speed","preserveAspectRatio","primaryColor","secondaryColor","primaryOpacity","secondaryOpacity"],["x","70","y","15","rx","4","ry","4","width","117","height","6.4"],["x","70","y","35","rx","3","ry","3","width","85","height","6.4"],["x","0","y","80","rx","3","ry","3","width","350","height","6.4"],["x","0","y","100","rx","3","ry","3","width","380","height","6.4"],["x","0","y","120","rx","3","ry","3","width","201","height","6.4"],["cx","30","cy","30","r","30"]],template:function(t,e){1&t&&(o.ec(0,"nm-content-loader",0),o.nc(),o.Zb(1,"rect",1),o.Zb(2,"rect",2),o.Zb(3,"rect",3),o.Zb(4,"rect",4),o.Zb(5,"rect",5),o.Zb(6,"circle",6),o.dc()),2&t&&o.wc("animate",e.animate)("width",e.width)("height",e.height)("speed",e.speed)("preserveAspectRatio",e.preserveAspectRatio)("primaryColor",e.primaryColor)("secondaryColor",e.secondaryColor)("primaryOpacity",e.primaryOpacity)("secondaryOpacity",e.secondaryOpacity)},encapsulation:2}),t})();const a=o.gc(r);let s=(()=>{class t extends i.a{}return t.\u0275fac=function(e){return c(e||t)},t.\u0275cmp=o.Sb({type:t,selectors:[["nm-content-loader-search-standby"]],features:[o.Gb],decls:3,vars:11,consts:[[3,"animate","width","height","paddingTop","paddingLeft","speed","preserveAspectRatio","primaryColor","secondaryColor","primaryOpacity","secondaryOpacity"],["x","0","y","7","rx","3","ry","3","width","220","height","8"],["x","0","y","36","rx","3","ry","3","width","100","height","8"]],template:function(t,e){1&t&&(o.ec(0,"nm-content-loader",0),o.nc(),o.Zb(1,"rect",1),o.Zb(2,"rect",2),o.dc()),2&t&&o.wc("animate",e.animate)("width",360)("height",60)("paddingTop",10)("paddingLeft",25)("speed",e.speed)("preserveAspectRatio",e.preserveAspectRatio)("primaryColor",e.primaryColor)("secondaryColor","#ebecec")("primaryOpacity",e.primaryOpacity)("secondaryOpacity",e.secondaryOpacity)},encapsulation:2}),t})();const c=o.gc(s);let l=(()=>{class t extends i.a{}return t.\u0275fac=function(e){return u(e||t)},t.\u0275cmp=o.Sb({type:t,selectors:[["nm-content-loader-bus-latest-history"]],features:[o.Gb],decls:3,vars:11,consts:[[3,"animate","width","height","paddingTop","paddingLeft","speed","preserveAspectRatio","primaryColor","secondaryColor","primaryOpacity","secondaryOpacity"],["x","0","y","7","rx","3","ry","3","width","220","height","8"],["x","0","y","36","rx","3","ry","3","width","100","height","8"]],template:function(t,e){1&t&&(o.ec(0,"nm-content-loader",0),o.nc(),o.Zb(1,"rect",1),o.Zb(2,"rect",2),o.dc()),2&t&&o.wc("animate",e.animate)("width",360)("height",60)("paddingTop",10)("paddingLeft",25)("speed",e.speed)("preserveAspectRatio",e.preserveAspectRatio)("primaryColor",e.primaryColor)("secondaryColor","#ebecec")("primaryOpacity",e.primaryOpacity)("secondaryOpacity",e.secondaryOpacity)},encapsulation:2}),t})();const u=o.gc(l);let p=(()=>{class t extends i.a{}return t.\u0275fac=function(e){return h(e||t)},t.\u0275cmp=o.Sb({type:t,selectors:[["nm-content-loader-bus-layout"]],features:[o.Gb],decls:16,vars:9,consts:[[3,"animate","width","height","speed","preserveAspectRatio","primaryColor","secondaryColor","primaryOpacity","secondaryOpacity"],["cx","37","cy","110","r","8"],["x","52","y","105","rx","5","ry","5","width","220","height","10"],["cx","37","cy","140","r","8"],["x","52","y","135","rx","5","ry","5","width","220","height","10"],["cx","37","cy","170","r","8"],["x","52","y","165","rx","5","ry","5","width","220","height","10"],["cx","37","cy","200","r","8"],["x","52","y","195","rx","5","ry","5","width","220","height","10"],["x","267","y","42","rx","0","ry","0","width","0","height","0"],["x","258","y","26","rx","0","ry","0","width","0","height","0"],["x","30","y","68","rx","0","ry","0","width","65","height","20"],["x","30","y","248","rx","0","ry","0","width","64","height","20"],["x","101","y","11","rx","0","ry","0","width","70","height","13"],["x","202","y","11","rx","0","ry","0","width","74","height","13"],["x","30","y","31","rx","0","ry","0","width","325","height","33"]],template:function(t,e){1&t&&(o.ec(0,"nm-content-loader",0),o.nc(),o.Zb(1,"circle",1),o.Zb(2,"rect",2),o.Zb(3,"circle",3),o.Zb(4,"rect",4),o.Zb(5,"circle",5),o.Zb(6,"rect",6),o.Zb(7,"circle",7),o.Zb(8,"rect",8),o.Zb(9,"rect",9),o.Zb(10,"rect",10),o.Zb(11,"rect",11),o.Zb(12,"rect",12),o.Zb(13,"rect",13),o.Zb(14,"rect",14),o.Zb(15,"rect",15),o.dc()),2&t&&o.wc("animate",e.animate)("width",503)("height",400)("speed",e.speed)("preserveAspectRatio",e.preserveAspectRatio)("primaryColor",e.primaryColor)("secondaryColor","#ebecec")("primaryOpacity",e.primaryOpacity)("secondaryOpacity",e.secondaryOpacity)},encapsulation:2}),t})();const h=o.gc(p)},wESO:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("fXoL"),o=n("ApIJ"),r=n("pLZG"),a=n("/RaO"),s=n("jtLz"),c=n("rS+x");let l=(()=>{class t{constructor(t){this.commonRoutes=t,this.MapLastUrlMap=new Map,this._clear=new i.q,this.commonRoutes.events.pipe(Object(r.a)(t=>t.type===o.a.ChangedByUser||t.type===o.a.ChangedByHistory)).subscribe(t=>{t.data.module!==t.prevData.module&&this.setCommonUrl(t.prevData)})}get clear(){return this._clear}setUrl(t,e){this.MapLastUrlMap.set(t,e)}getUrl(t){return this.MapLastUrlMap.get(t)}deleteUrl(t){this.MapLastUrlMap.has(t)&&this.MapLastUrlMap.delete(t),this.emit(t)}setCommonUrl(t){t.module===o.c.Favorite&&this.setFavoriteUrl(t),t.module===o.c.Directions&&this.setDirectionsUrl(t),[o.c.Search,o.c.Bus,o.c.Subway].includes(t.module)&&this.setUrl(t.module,t.valueByOrder)}setFavoriteUrl(t){t.keyByOrder.length<=a.nb&&this.setUrl(o.c.Favorite,t.valueByOrder)}setDirectionsUrl(t){const e=t.valueByOrder[s.a.Mode];e&&Object.values(c.d).includes(e)&&this.setUrl(o.c.Directions,t.valueByOrder)}emit(t,e){this.clear.emit({type:t,data:e})}}return t.\u0275fac=function(e){return new(e||t)(i.ic(o.e))},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"x/+U":function(t,e,n){"use strict";n.d(e,"a",function(){return F});var i=n("qKIp"),o=n("itXk"),r=n("LRne"),a=n("EY2u"),s=n("eIep"),c=n("lJxs"),l=n("JIr8"),u=n("wO+i"),p=n("rS+x"),h=n("/RaO"),d=n("Bafg"),g=n("Q6WB"),f=n("yyWl"),b=n("Q63R"),m=n("IGrF"),_=n("/GXd"),y=()=>(new Date).getTime().toString(36)+Math.random().toString(36).slice(2),O=function(t){return t[t.Fast=1]="Fast",t[t.Comfort=2]="Comfort",t[t.Optimal=3]="Optimal",t[t.OptDist=9]="OptDist",t[t.OptTime=10]="OptTime",t[t.OptToll=11]="OptToll",t}({}),v=function(t){return t[t.None=0]="None",t[t.avoidhipassonly=1]="avoidhipassonly",t[t.avoidtoll=2]="avoidtoll",t[t.avoidcaronly=4]="avoidcaronly",t[t.avoidschoolzone=8]="avoidschoolzone",t[t.personal=16]="personal",t[t.multiroute=32]="multiroute",t}({});const C=t=>{switch(t){case 1:return"trafast";case 2:return"tracomfort";case 3:return"traoptimal";case 9:return"traoptdist";case 10:return"traopttime";case 11:return"traopttoll"}return""},P=t=>{switch(t){case 89:return g.r.Start;case 87:return g.r.Waypoint;case 88:return g.r.Goal}return t},M=(t,e)=>JSON.stringify(t.routeIndices)!==JSON.stringify(e.routeIndices);var x=t=>{var e,n;if(t.code)switch(t.code){case 1:throw g.f.CarPointsAreTheSame;case 2:throw g.f.CarNoRoadNearPoint;case 3:throw g.f.CarNoResult}if(!(null===(e=t.routes)||void 0===e?void 0:e.length))throw g.f.CarNoResult;const i=t.routes.find(t=>t.summary.mainOption===O.Optimal&&t.summary.subOption===v.None);return(null===(n=t.routes)||void 0===n?void 0:n.filter((e,n)=>{const o=e.summary;switch(o.mainOption){case O.Optimal:return o.subOption!==v.avoidtoll||M(t.routeOptionEntries[0],t.routeOptionEntries[n])||o.tollFare>0;case O.OptTime:case O.OptDist:return(null==i?void 0:i.summary.duration)>o.duration||M(t.routeOptionEntries[n],t.routeOptionEntries[n-1]);case O.OptToll:return M(t.routeOptionEntries[0],t.routeOptionEntries[n])||o.tollFare>0;default:return!1}}).map((t,e)=>{var n,i,o,r,a,s,c,l,u,p,h,d,f,b,m,O;const{summary:v}=t,M=[[(null===(i=null===(n=v.bbox)||void 0===n?void 0:n.leftBottom)||void 0===i?void 0:i.coord[0])||0,(null===(r=null===(o=v.bbox)||void 0===o?void 0:o.leftBottom)||void 0===r?void 0:r.coord[1])||0],[(null===(s=null===(a=v.bbox)||void 0===a?void 0:a.rightTop)||void 0===s?void 0:s.coord[0])||0,(null===(l=null===(c=v.bbox)||void 0===c?void 0:c.rightTop)||void 0===l?void 0:l.coord[1])||0]];return{uid:y(),type:g.q.Car,displayIndex:e,routeIndex:e,path:t.path.coords,duration:v.duration,distance:v.distance,fare:{taxi:v.taxiFare,toll:v.tollFare,fuel:v.fuelPrice},details:{mainOptions:C(v.mainOption),subOptions:v.subOption,routeAttrs:v.routeAttrs},guide:null===(u=t.guides)||void 0===u?void 0:u.reduce((e,n,i,o)=>{var r,a,s;const c=o[i-1],l=(null==c?void 0:c.pointIndex)||0,u=n.pointIndex,p=t=>t.pointIndex>=l&&t.pointIndex<u,h=null===(r=t.cctvs)||void 0===r?void 0:r.find(t=>t.pointIndex>=l&&t.pointIndex<u);return e.concat({type:g.q.Car,maneuver:P(n.type),instructions:n.instructions,distance:t.links.filter(p).reduce((t,e)=>t+e.distance,0),duration:t.links.filter(p).reduce((t,e)=>t+e.duration,0),coordinates:{lng:t.path.coords[u][0],lat:t.path.coords[u][1]},details:{nextRoadName:n.nextRoadName,crossRoad:n.crossRoad,direction:n.direction,facility:n.facility,name:n.crossRoad||n.direction||n.nextRoadName||n.facility},accidents:t.accidents.filter(p).map(t=>{var e,n,i;const o=(null===(e=t.description)||void 0===e?void 0:e.match(/(\[.+]).*/))||[];return{st:1e3*t.st,et:1e3*t.et,cpName:t.cpName,title:o&&o[1]&&`${o[1]} ${t.roadName}`||"",description:(null===(n=t.description)||void 0===n?void 0:n.replace(/\[.+] /,""))||"",kind:t.kind,location:(null===(i=t.location)||void 0===i?void 0:i.coord)||[null,null],pointCount:t.pointCount,pointIndex:t.pointIndex,roadName:t.roadName}}),cctv:h&&{ctvName:h.cctvName,channel:h.channel,cpName:h.cpName,pointIndex:h.pointIndex,roadName:h.roadName}||null,congestion:n.congestion,panorama:(null===(a=n.eye)||void 0===a?void 0:a.coord)&&(null===(s=n.lookAt)||void 0===s?void 0:s.coord)&&{eye:n.eye.coord,lookAt:n.lookAt.coord}||null})},[{type:g.q.Car,maneuver:P(89),instructions:null,distance:0,duration:0,coordinates:null,details:null,accidents:null,cctv:null,panorama:(null===(p=v.eye)||void 0===p?void 0:p.coord)&&(null===(h=v.lookAt)||void 0===h?void 0:h.coord)?{eye:v.eye.coord,lookAt:v.lookAt.coord}:null}]),section:(null===(d=t.traffics)||void 0===d?void 0:d.reduce((e,n,i,o)=>{const r=o[i+1],a=t.path.coords,s=0===i,c=i===o.length-1,l=n.pointIndex,u=n.pointCount,p=l+u<a.length-1,h={type:g.q.Car,congestion:(d=n.congestion,[g.e.Light,g.e.Slowly,g.e.Congested].includes(d)?d:g.e.NA),path:a.slice(l,l+u+1)};var d;return s&&e.push({type:g.q.NA,path:[a[0],a[0]],congestion:g.e.NA}),s&&0!==l&&e.push({type:g.q.Car,path:a.slice(0,l+1),congestion:g.e.NA}),e.push(h),r&&l+u<r.pointIndex&&e.push({type:g.q.Car,path:a.slice(l+u,r.pointIndex+1),congestion:g.e.NA}),c&&p&&e.push({type:g.q.Car,path:a.slice(l+u),congestion:g.e.NA}),c&&e.push({type:g.q.NA,path:[a[a.length-1],a[a.length-1]],congestion:g.e.NA}),e},[]))||[],bounds:M,summary:{bbox:M,distance:v.distance,duration:v.duration,eye:null===(f=v.eye)||void 0===f?void 0:f.coord,lookAt:null===(b=v.lookAt)||void 0===b?void 0:b.coord,fuelPrice:v.fuelPrice,goal:v.goal,mainOption:v.mainOption,routeAttrs:v.routeAttrs,start:v.start,staticDuration:v.staticDuration,subOption:v.subOption,taxiFare:v.taxiFare,tollFare:v.tollFare,waypoints:v.waypoints},virtualLegs:(null===(m=t.guides)||void 0===m?void 0:m.filter(t=>t.type===g.r.Waypoint).reduce((e,n,i,o)=>{var r;const a=(null===(r=o[i-1])||void 0===r?void 0:r.pointIndex)||0,s=t.path.coords;return e.concat({path:s.slice(a,n.pointIndex+1)}),i===o.length-1&&e.concat({path:s.slice(a)}),e},[]))||[{path:t.path.coords}],mainRoad:t.sections,accidents:(null===(O=t.accidents)||void 0===O?void 0:O.map(t=>{var e,n,i,o;const r=(t=>{switch(t){case _.a.Accident:return{repl:"\uc0ac\uace0",icon:_.b.Accident};case _.a.Construction:return{repl:"\uacf5\uc0ac",icon:_.b.Construction};case _.a.Disaster:return{repl:"\uc7ac\ud574",icon:_.b.Disaster};case _.a.Event:return{repl:"\ud589\uc0ac",icon:_.b.Event};case _.a.Restrict:return{repl:"\ud1b5\uc81c",icon:_.b.Restrict}}return{repl:"\uae30\ud0c0",icon:_.b.Etc}})(t.kind),a=`[${r.repl}] ${t.roadName}`,s=(null===(e=t.location)||void 0===e?void 0:e.coord[0])||0,c=(null===(n=t.location)||void 0===n?void 0:n.coord[1])||0;return{properties:{cpName:t.cpName,description:(null===(i=t.description)||void 0===i?void 0:i.replace(`[${r.repl}] `,""))||"",ico:r.icon,title:a,startDate:1e3*t.st,endDate:1e3*t.et,x:s,y:c,__key:`${a}:${s}:${c}`},coordinates:null===(o=t.location)||void 0===o?void 0:o.coord}}))||[]}}))||[]},w=n("4+6U"),k=t=>{if(-1===t.indexOf(","))return null;const[e,n]=t.split(",").map(parseFloat);return[e,n]};const S=t=>{const e=t.left_top.split(",").map(parseFloat),n=t.right_bottom.split(",").map(parseFloat);return[[e[0],n[1]],[n[1],e[1]]]},E=t=>{switch(t){case 48:return g.r.Start;case 41:return g.r.Goal;case 45:return g.r.Waypoint}return t};const I=t=>{switch(t){case 14:return g.r.Start;case 15:return g.r.Goal;case 16:return g.r.Waypoint}return t};var R=n("sWYD"),T=n("Pbce"),A=n("MHgl"),L=n("fXoL"),j=n("l7P3"),D=n("sYmb");let F=(()=>{class t{constructor(t,e,n,i,o,r,a){this.store=t,this.apiService=e,this.directionsUtilService=n,this.directionsPbfService=i,this.keyTableService=o,this.translateService=r,this.storageService=a}requestDirectionsApiTransit(t,e=!1){const n=Object(A.x)(this.store),i=Object(R.a)(n&&n.requestDate||new Date,"yyyy-MM-dd'T'HH:mm:ss");return this.fillPlaceIdByDraft(t).pipe(Object(s.a)(t=>this.apiService.getDirectionsTransit({params:{[e?"starts":"start"]:this.convertPoiToQueryString(p.d.Transit,t.start),[e?"goals":"goal"]:this.convertPoiToQueryString(p.d.Transit,t.goal),crs:"EPSG:4326",departureTime:i,mode:(null==n?void 0:n.isStaticRoute)?g.n.Static:g.n.Time},isInstant:e}).pipe(Object(c.a)(t=>(e&&(t=t[0]),(t.paths&&t.paths.length||0)>h.M&&(t.paths=t.paths.slice(0,h.M)),t.paths=t.paths.concat(t.staticPaths),t.paths=t.paths.slice(0,h.L),t)),Object(c.a)(e=>this.directionsRouteAppendPoi((t=>{var e,n;if(t.status)switch(t.status){case"POINTS_ARE_SAME":throw g.f.TransitPointsAreSame;case"POINTS_ARE_TOO_CLOSE":throw g.f.TransitPointsAreTooClose;case"NO_STATION_NEAR_DEPARTURE_POINT":throw g.f.TransitNoStationNearDeparturePoint;case"NO_STATION_NEAR_ARRIVAL_POINT":throw g.f.TransitNoStationNearArrivalPoint;case"NO_STATION_NEARBY_DEPARTURE_POINT":throw g.f.TransitNoStationNearbyDeparturePoint;case"NO_STATION_NEARBY_ARRIVAL_POINT":throw g.f.TransitNoStationNearbyArrivalPoint;case"NO_RESULT":throw g.f.TransitNoResult}if(!(null===(e=t.paths)||void 0===e?void 0:e.length))throw g.f.TransitNoResult;return null===(n=t.paths)||void 0===n?void 0:n.map((t,e)=>{const{steps:n}=t.legs[0],i=n.reduce((t,e)=>{var n,i,o;return[...t,...(null===(o=null===(i=null===(n=e.walkpath)||void 0===n?void 0:n.legs[0])||void 0===i?void 0:i.steps)||void 0===o?void 0:o.reduce((t,e)=>{var n;return[...t,...(null===(n=e.path)||void 0===n?void 0:n.split(" ").map(k))||[]]},[]))||e.points.map(({x:t,y:e})=>[t,e])||[]]},[]);return{uid:y(),type:t.type,displayIndex:e,routeIndex:e,isIntercityType:!!n.find(t=>[g.q.ExpressBus,g.q.IntercityBus,g.q.Train,g.q.Airplane].includes(t.type)),isStatic:t.mode===g.n.Static,details:{labels:t.labels,optimization:t.optimizationMethod,walkingDuration:1e3*t.walkingDuration*60,departureTime:Object(w.a)(t.departureTime),arrivalTime:Object(w.a)(t.arrivalTime)},duration:1e3*t.duration*60,distance:t.distance,fare:{fare:t.fare},path:i,guide:[{type:g.q.NA,maneuver:g.r.Start,instructions:null,distance:0,duration:0,coordinates:null,panorama:i&&i.length>1&&{eye:[i[0][0],i[0][1]],lookAt:[i[1][0],i[1][1]]}||null},...n.map(t=>{var e,n,i,o,r,a;const s=(null===(i=null===(n=null===(e=t.walkpath)||void 0===e?void 0:e.legs[0])||void 0===n?void 0:n.steps)||void 0===i?void 0:i.reduce((t,e)=>[...t,{eye:e.eye,lookAt:e.lookAt}],[]))||[],c=(null===(a=null===(r=null===(o=t.walkpath)||void 0===o?void 0:o.legs[0])||void 0===r?void 0:r.steps)||void 0===a?void 0:a.reduce((t,e)=>{var n;return[...t,...(null===(n=e.path)||void 0===n?void 0:n.split(" ").map(k))||[]]},[]))||t.points.map(({x:t,y:e})=>[t,e])||[];return{type:t.type,instructions:t.instruction,distance:t.distance,duration:1e3*t.duration*60,coordinates:{lng:c[0][0],lat:c[0][1]},departureTime:Object(w.a)(t.departureTime),panorama:s.length?s[0]:{eye:[c[0][0],c[0][1]],lookAt:[c[1][0],c[1][1]]},panoramaEnd:s.length?s[s.length-1]:{eye:[c[c.length-2][0],c[c.length-2][1]],lookAt:[c[c.length-1][0],c[c.length-1][1]]},details:{arrivals:t.arrivals,headsign:t.headsign,routes:t.routes,stations:t.stations,sameRouteBus:t.routes.filter((e,n)=>{var i;return 0!==n&&(null===(i=e[0])||void 0===i?void 0:i.name)!==e.name&&t.arrivals.some(t=>e.id===t.routeId)}).map(t=>{const e=t.longName.match(Object(h.kd)(t.name));return e?Object.assign(Object.assign({},t),{subName:e[1]}):t})}}}).map((t,e,n)=>{var i,o,r,a,s,c,l,u,p,h;const{details:d}=t,{stations:f}=d,b=t.type===g.q.Walking?"":(null===(o=null===(i=d.routes[0])||void 0===i?void 0:i.type)||void 0===o?void 0:o.color)||"",m=![g.q.NA,g.q.Walking].includes(t.type);if(m){const i=n[e-1],o=n[e+1],_=f[0],y=f[f.length-1];return Object.assign(Object.assign({},t),{color:b,lineColor:b,isRide:m,instructionsRideStart:`${_.displayName} \uc2b9\ucc28`,instructionsRideEnd:`${y.displayName} \ud558\ucc28`,isTransfer:"TRANSFER"===(null===(s=null===(a=null===(r=d.routes[0])||void 0===r?void 0:r.platform)||void 0===a?void 0:a.type)||void 0===s?void 0:s.code)||!1,exitDesc:(null===(u=null===(l=null===(c=d.routes[0])||void 0===c?void 0:c.platform)||void 0===l?void 0:l.type)||void 0===u?void 0:u.desc)||"",exitDoors:(null===(h=null===(p=d.routes[0])||void 0===p?void 0:p.platform)||void 0===h?void 0:h.doors)||[],panorama:i&&(null==i?void 0:i.type)===g.q.Walking&&(null==i?void 0:i.panoramaEnd)?Object.assign(Object.assign({},i.panoramaEnd),{eye:[t.coordinates.lng,t.coordinates.lat]}):t.panorama,panoramaEnd:o&&o.type===g.q.Walking&&o.panorama?Object.assign({},o.panorama):t.panoramaEnd})}return Object.assign(Object.assign({},t),{color:b,lineColor:b,isRide:m})},[]),{type:g.q.NA,maneuver:g.r.Goal,instructions:null,distance:0,duration:0,coordinates:null,panorama:i&&i.length>1&&{eye:[i[i.length-2][0],i[i.length-2][1]],lookAt:[i[i.length-1][0],i[i.length-1][1]]}||null}],section:[{type:g.q.NA,path:[i[0],i[0]],distance:null,color:null},...n.map(t=>{var e,n,i,o,r,a;return{type:t.type,path:(null===(i=null===(n=null===(e=t.walkpath)||void 0===e?void 0:e.legs[0])||void 0===n?void 0:n.steps)||void 0===i?void 0:i.reduce((t,e)=>{var n;return[...t,...(null===(n=e.path)||void 0===n?void 0:n.split(" ").map(k))||[]]},[]))||t.points.map(({x:t,y:e})=>[t,e])||[],distance:t.distance,color:(null===(r=null===(o=t.routes[0])||void 0===o?void 0:o.type)||void 0===r?void 0:r.color)||(null===(a=t.routes[0])||void 0===a?void 0:a.color)||null}}),{type:g.q.NA,path:[i[i.length-1],i[i.length-1]],distance:null,color:null}],bounds:(null==i?void 0:i.reduce(([[t,e],[n,i]],o)=>[[Math.min(t,o[0]),Math.min(e,o[1])],[Math.max(n,o[0]),Math.max(i,o[1])]],[[180,90],[-180,-90]]))||null}})})(e),Object.assign(Object.assign({},t),{via:[]}))))))}requestDirectionsApiCar(t,e=!1){const n=this.storageService.get(h.Nb)||h.w;return this.fillPlaceIdByDraft(t).pipe(Object(s.a)(t=>{var i;const a={params:{start:this.convertPoiToQueryString(p.d.Car,t.start),goal:this.convertPoiToQueryString(p.d.Car,t.goal),output:"pbf",crs:"EPSG:4326",rptype:4,cartype:this.getCarTypeApiCode(n.carType),fueltype:this.getFuelTypeApiCode(n.fuelType),mileage:n.fuelEfficiency,via:(null===(i=t.via)||void 0===i?void 0:i.map(t=>this.convertPoiToQueryString(p.d.Car,t)).join(":"))||""},timeout:this.makeTimeoutWithVia(t.via.length)};return e?this.apiService.getDirectionsCar(Object.assign(Object.assign({},a),{params:Object.assign(Object.assign({},a.params),{mainoption:this.makeCarApiMainOption([g.k.TraOptimal,g.k.About])})})).pipe(Object(c.a)(t=>{const e=this.directionsPbfService.parseCar(t);return x(e)})):Object(o.a)([this.apiService.getDirectionsCar(Object.assign(Object.assign({},a),{params:Object.assign(Object.assign({},a.params),{mainoption:[this.makeCarApiMainOption([g.k.TraOptimal]),this.makeCarApiMainOption([g.k.TraOptTime]),this.makeCarApiMainOption([g.k.TraOptDist]),this.makeCarApiMainOption([g.k.TraOptimal,g.k.Avoidtoll])].join(":")})})),this.apiService.getDirectionsCar(Object.assign(Object.assign({},a),{params:Object.assign(Object.assign({},a.params),{cartype:this.getCarTypeApiCodeForBike(),mainoption:this.makeCarApiMainOption([g.k.TraOptimal,g.k.AvoidCarOnly])})}))]).pipe(Object(s.a)(t=>{const e=t.map(t=>this.directionsPbfService.parseCar(t));return e[0].routeOptionEntries&&e[1].routeOptionEntries&&(e[0].routeOptionEntries=[].concat(e[0].routeOptionEntries,e[1].routeOptionEntries)),e[0].routes&&e[1].routes&&(e[0].routes=[].concat(e[0].routes,e[1].routes)),Object(r.a)(e[0])}),Object(c.a)(e=>this.directionsRouteAppendPoi(x(e),t)))}))}requestDirectionsApiWalk(t,e=!1){return this.fillPlaceIdByDraft(t).pipe(Object(s.a)(t=>{var n,i;const o={lo:"ko",r:"step",st:1,o:e?"reco":"all",l:[this.convertPoiToQueryString(p.d.Walk,t.start),...(null===(n=t.via)||void 0===n?void 0:n.map(t=>this.convertPoiToQueryString(p.d.Walk,t)))||[],this.convertPoiToQueryString(p.d.Walk,t.goal)].join(";")};return this.apiService.getDirectionsWalk({params:o,timeout:this.makeTimeoutWithVia(null===(i=t.via)||void 0===i?void 0:i.length)}).pipe(Object(c.a)(e=>this.directionsRouteAppendPoi((t=>{var e,n;if(t.error)throw t.error;if(!(null===(e=t.routes)||void 0===e?void 0:e.length))throw g.f.WalkNoResult;return(null===(n=t.routes)||void 0===n?void 0:n.filter(t=>"help"!==t.summary.option).map((t,e)=>{var n,i;const{summary:o}=t;return{uid:y(),type:g.q.Walking,displayIndex:e,routeIndex:e,duration:1e3*o.duration,distance:o.distance,bounds:o.bound,path:(null===(n=t.legs)||void 0===n?void 0:n.reduce((t,e)=>{var n;return t.concat(null===(n=e.steps)||void 0===n?void 0:n.reduce((t,e)=>{var n;return[...t,...(null===(n=e.path)||void 0===n?void 0:n.split(" ").map(k))||[]]},[]))},[]))||[],guide:(null===(i=t.legs)||void 0===i?void 0:i.reduce((t,e)=>{var n;return t.concat((null===(n=e.steps)||void 0===n?void 0:n.map(t=>({type:g.q.Walking,distance:t.distance,duration:3600*t.distance/4e3*1e3,coordinates:{lng:t.lng,lat:t.lat},instructions:t.turnDesc,turnInfo:t.turnInfo,maneuver:I(t.turn),panorama:t.eye&&t.lookAt?{eye:t.eye,lookAt:t.lookAt}:null})))||[])},[]))||[],summary:Object.assign(Object.assign({},o),{facility:[o.overpass,o.underpass,o.crosswalk,o.stair].reduce((t,e)=>t+e,0)>0?{overpass:o.overpass,underpass:o.underpass,crosswalk:o.crosswalk,stair:o.stair}:null})}}))||[]})(e),t)))}))}requestDirectionsApiBike(t){return this.fillPlaceIdByDraft(t).pipe(Object(s.a)(t=>{var e,n;const i=null===(e=t.via)||void 0===e?void 0:e.map(t=>this.convertPoiToQueryString(p.d.Bike,t)).join("|"),o=Object.assign(Object.assign({start:this.convertPoiToQueryString(p.d.Bike,t.start),destination:this.convertPoiToQueryString(p.d.Bike,t.goal)},i?{waypoints:i}:{}),{call:"route3",output:"json",result:"webmobile",coord_type:"lnglat",search:8});return this.apiService.getDirectionsBike({params:o,timeout:this.makeTimeoutWithVia(null===(n=t.via)||void 0===n?void 0:n.length)}).pipe(Object(c.a)(e=>this.directionsRouteAppendPoi((t=>{var e,n,i;if(null===(e=t.error)||void 0===e?void 0:e.error_message)throw t.error.error_message;if(!(null===(n=t.routes)||void 0===n?void 0:n.length))throw g.f.BikeNoResult;return(null===(i=t.routes)||void 0===i?void 0:i.map((t,e)=>{var n,i,o;const{summary:r}=t;return{uid:y(),type:g.q.Bike,displayIndex:e,routeIndex:e,duration:1e3*r.duration,distance:r.distance,bounds:S(r.bounds),path:(null===(n=t.legs)||void 0===n?void 0:n.reduce((t,e)=>t.concat(e.steps.reduce((t,e)=>e.path?[...t,...e.path.split(" ").map(k)]:[...t,k(e.guide.turn_point)],[])),[]))||[],guide:(null===(i=t.legs)||void 0===i?void 0:i.reduce((t,e)=>t.concat(e.steps.map(t=>{const{lng:e,lat:n}=(t=>{const e=k(t);return e?{lng:e[0],lat:e[1]}:null})(t.guide.turn_point);return{type:g.q.Bike,distance:t.summary.distance,duration:1e3*t.summary.duration,coordinates:{lng:e,lat:n},instructions:t.guide.instructions,turnInfo:t.guide.turn_point,maneuver:E(t.guide.turn),details:{entrance:t.guide.entrance_type,type:t.road.road_type,name:t.road.road_name},panorama:t.panorama?{id:t.panorama.id,eye:t.panorama.location.split(",").map(t=>t.trim()).map(parseFloat),pan:t.panorama.pan,tilt:t.panorama.tilt}:null}},[])),[]))||[],details:{destinationDir:r.destination_dir},mainRoad:(null===(o=r.road_summary)||void 0===o?void 0:o.map(t=>Object.assign(Object.assign({},t),{name:null,pointCount:null,pointIndex:null})))||[],summary:{facility:Object.values((null==r?void 0:r.facility_count)||{}).reduce((t,e)=>t+e,0)>0?r.facility_count:null,destination_dir:r.destination_dir}}}))||[]})(e),t)))}))}getNameByPoiId(t){return this.apiService.getSiteDetail(t).pipe(Object(l.a)(()=>a.a)).pipe(Object(c.a)(t=>t.summary.name))}getNameByBusStopId(t){return this.apiService.getBusStopsInfo(t).pipe(Object(c.a)(t=>t.name))}getAddress(t,e,n){return this.apiService.getGeocode(t,e,n).pipe(Object(l.a)(()=>Object(r.a)(this.refineAddress(null))),Object(u.a)("results"),Object(c.a)(t=>this.refineAddress(t)))}getFuelInfo(){return this.apiService.getFuelInfo().pipe(Object(u.a)("item"),Object(c.a)(t=>{if(!t)return{};const e={};return t.forEach(t=>{e[this.toFuelType(t)]=this.toFuelPrice(t)}),e}))}toFuelType(t){let e;switch(t.num){case"1":e=g.l.Gasoline;break;case"2":e=g.l.HighGradePetrol;break;case"3":e=g.l.Diesel;break;case"4":e=g.l.Lpg;break;case"5":e=g.l.Lamp;break;default:e=g.l.Gasoline}return e}toFuelPrice(t){const e=t.oil_price_per.research_date;return{code:t.num,name:t.name,price:t.oil_price_per.price_average,date:[e.slice(0,4),e.slice(4,6),e.slice(6,8)].join(".")}}refineAddress(t){const e=null==t?void 0:t.filter(t=>t.name===p.m.ADDR).shift(),n=null==t?void 0:t.filter(t=>t.name===p.m.ROAD_ADDR).shift();if(!e&&!n){const t=this.translateService.instant("DIRECTIONS.NO_ADDRESS");return{address:t,shortAddress:["",t]}}const i=[],o=[];if(e.region.area1&&e.region.area1.name&&i.push(e.region.area1.name),e.region.area2&&e.region.area2.name&&i.push(e.region.area2.name),e.region.area3&&e.region.area3.name&&i.push(e.region.area3.name),e.region.area4&&e.region.area4.name&&i.push(e.region.area4.name),e.region.area1&&e.region.area1.name&&e.region.area2&&e.region.area2.name&&o.push(`${e.region.area1.name} ${e.region.area2.name}`),n){const t=[];if(n.land.name&&(i.push(n.land.name),t.push(n.land.name)),n.land.number1&&(i.push(n.land.number1),t.push(n.land.number1)),o.push(t.join(" ")),!o.length&&n.land.addition0.value)return o.push(n.land.addition0.value),{shortAddress:o,address:n.land.addition0.value}}else{if(!e.land.number1||!e.land.type)return{address:i.join(" "),shortAddress:o};switch(e.land.type){case p.k.MOUNTAIN:i.push(this.translateService.instant("ADDRESS.WITH_SAN",{value:e.land.number1})),o.push(this.translateService.instant("ADDRESS.WITH_SAN",{value:e.land.number1}));break;case p.k.LAND:if(!e.land.number2){i.push(e.land.number1),o.push(e.land.number1);break}i.push(`${e.land.number1}-${e.land.number2}`),o.push(`${e.land.number1}-${e.land.number2}`)}}return{address:i.join(" "),shortAddress:o}}directionsRouteAppendPoi(t,e){return((t,e)=>{const n=e[0],i=e[e.length-1];return t.map(t=>{var o,r;let a=0;return Object.assign(Object.assign({},t),{guide:null===(o=t.guide)||void 0===o?void 0:o.map(t=>{let o=null;switch(t.maneuver){case g.r.Start:o=n;break;case g.r.Goal:o=i;break;case g.r.Waypoint:o=e[a+1]}return o?Object.assign(Object.assign({},t),{instructions:o.name,coordinates:{lng:o.lng,lat:o.lat},waypointOrder:t.maneuver===g.r.Waypoint?a++:null}):t}),section:null===(r=t.section)||void 0===r?void 0:r.map((t,e,o)=>{var r;return Object.assign(Object.assign({},t),{path:(null===(r=t.path)||void 0===r?void 0:r.map((t,r,a)=>0===e&&0===r?[n.lng,n.lat]:e===o.length-1&&r===a.length-1?[i.lng,i.lat]:t))||[]})})})})})(t,[e.start,...e.via||[],e.goal])}fillPlaceIdByDraft(t){return Object(o.a)([t.start,...t.via||[],t.goal].map(t=>this.fillPlaceIdByPoi(t))).pipe(Object(c.a)(e=>Object.assign(Object.assign({},t),{start:e[0],via:e.length>2?e.slice(1,e.length-1):[],goal:e[e.length-1]})))}fillPlaceIdByPoi(t){if(!t||!t.id)return Object(r.a)(t);switch(t.type){case p.C.SubwayStation:return this.keyTableService.getPlaceIdBySubwayId(t.id.toString()).pipe(Object(l.a)(()=>Object(r.a)(t)),Object(c.a)(e=>Object.assign(Object.assign({},t),{type:p.C.PlacePoi,id:e})));case p.C.PlacePoi:default:return Object(r.a)(t)}}convertPoiToQueryString(t,e){if(!e)return null;const n=[e.lng,e.lat],i=e.name?Object(T.h)(e.name):"",o=e.id&&e.type===p.C.PlacePoi;switch(t){case p.d.Transit:case p.d.Car:case p.d.Bike:o&&n.push(`placeid=${e.id}`),n.push(`name=${i||""}`);break;case p.d.Walk:i&&n.push(i),o&&n.push(e.id)}return n.join(",")}makeCarApiMainOption(t){return[...t,(this.storageService.get(h.Nb)||h.w).hiPass&&g.k.AvoidHiPassOnly||null].filter(t=>!!t).join(",")}makeTimeoutWithVia(t){return t?h.c+2e3*t:h.c}getFuelTypeApiCode(t){switch(t){case g.l.Diesel:return"3";case g.l.Electricity:return"6";case g.l.HighGradePetrol:return"2";case g.l.Hydrogen:return"7";case g.l.Lamp:return"5";case g.l.Lpg:return"4";case g.l.Gasoline:default:return"1"}}getCarTypeApiCode(t){switch(t){case g.d.FullSizeCar:return"3";case g.d.MidSizeCar:return"2";case g.d.OverSizeCargoTruck:return"4";case g.d.SmallCar:return"6";case g.d.SpecialCargoTruck:return"5";case g.d.CompactCar:default:return"1"}}getCarTypeApiCodeForBike(){return"1"}}return t.\u0275fac=function(e){return new(e||t)(L.ic(j.h),L.ic(b.a),L.ic(d.a),L.ic(f.a),L.ic(m.a),L.ic(D.d),L.ic(i.a))},t.\u0275prov=L.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},x7D4:function(t,e,n){function i(){var t;try{t=e.storage.debug}catch(n){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t}(e=t.exports=n("Q80o")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var o=0,r=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(r=o))}),t.splice(r,0,i)}},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(n){}},e.load=i,e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(i())},y7Uy:function(t){t.exports=JSON.parse('{"marker:00007-00022":{"x":620,"y":0,"width":68,"height":68,"pixelRatio":"2"},"marker:00007-00097":{"x":620,"y":72,"width":68,"height":68,"pixelRatio":"2"},"marker:00007-00135":{"x":0,"y":0,"width":92,"height":116,"pixelRatio":"2"},"marker:00007-00211":{"x":96,"y":0,"width":92,"height":116,"pixelRatio":"2"},"marker:00027-00074":{"x":620,"y":144,"width":68,"height":68,"pixelRatio":"2"},"marker:00027-00192":{"x":192,"y":0,"width":92,"height":116,"pixelRatio":"2"},"marker:cctv":{"x":620,"y":528,"width":48,"height":48,"pixelRatio":"2"},"marker:cctv_navi":{"x":0,"y":646,"width":52,"height":52,"pixelRatio":"2"},"marker:icn-cctv-selected":{"x":744,"y":0,"width":42,"height":46,"pixelRatio":"2"},"marker:ico-safety-warning-01":{"x":744,"y":50,"width":32,"height":32,"pixelRatio":"2"},"marker:ico-safety-warning-02":{"x":744,"y":86,"width":32,"height":32,"pixelRatio":"2"},"marker:ico-safety-warning-03":{"x":744,"y":122,"width":32,"height":32,"pixelRatio":"2"},"marker:ico-safety-warning-04":{"x":744,"y":158,"width":32,"height":32,"pixelRatio":"2"},"marker:icon-location-info":{"x":492,"y":0,"width":60,"height":80,"pixelRatio":"2"},"marker:img-route-pin-01":{"x":492,"y":84,"width":60,"height":80,"pixelRatio":"2"},"marker:img-route-pin-02":{"x":492,"y":168,"width":60,"height":80,"pixelRatio":"2"},"marker:img-route-pin-via-01":{"x":492,"y":252,"width":60,"height":80,"pixelRatio":"2"},"marker:img-route-pin-via-02":{"x":0,"y":412,"width":60,"height":80,"pixelRatio":"2"},"marker:img-route-pin-via-03":{"x":64,"y":412,"width":60,"height":80,"pixelRatio":"2"},"marker:img-route-pin-via-04":{"x":128,"y":412,"width":60,"height":80,"pixelRatio":"2"},"marker:img-route-pin-via-05":{"x":192,"y":412,"width":60,"height":80,"pixelRatio":"2"},"marker:img-route-pin-via-small-01":{"x":620,"y":288,"width":56,"height":56,"pixelRatio":"2"},"marker:img-route-pin-via-small-02":{"x":620,"y":348,"width":56,"height":56,"pixelRatio":"2"},"marker:img-route-pin-via-small-03":{"x":620,"y":408,"width":56,"height":56,"pixelRatio":"2"},"marker:img-route-pin-via-small-04":{"x":620,"y":468,"width":56,"height":56,"pixelRatio":"2"},"marker:img-route-pin-via-small-05":{"x":556,"y":420,"width":56,"height":56,"pixelRatio":"2"},"marker:m-frequent-etc":{"x":692,"y":198,"width":48,"height":50,"pixelRatio":"2"},"marker:m-frequent-home":{"x":692,"y":252,"width":48,"height":50,"pixelRatio":"2"},"marker:m-frequent-office":{"x":692,"y":306,"width":48,"height":50,"pixelRatio":"2"},"marker:m-frequent-school":{"x":692,"y":360,"width":48,"height":50,"pixelRatio":"2"},"marker:m-my-default":{"x":692,"y":414,"width":48,"height":50,"pixelRatio":"2"},"marker:m-my-folder-1":{"x":692,"y":468,"width":48,"height":50,"pixelRatio":"2"},"marker:m-my-folder-10":{"x":692,"y":522,"width":48,"height":50,"pixelRatio":"2"},"marker:m-my-folder-11":{"x":692,"y":576,"width":48,"height":50,"pixelRatio":"2"},"marker:m-my-folder-12":{"x":56,"y":646,"width":48,"height":50,"pixelRatio":"2"},"marker:m-my-folder-2":{"x":108,"y":646,"width":48,"height":50,"pixelRatio":"2"},"marker:m-my-folder-3":{"x":160,"y":646,"width":48,"height":50,"pixelRatio":"2"},"marker:m-my-folder-4":{"x":212,"y":646,"width":48,"height":50,"pixelRatio":"2"},"marker:m-my-folder-5":{"x":264,"y":646,"width":48,"height":50,"pixelRatio":"2"},"marker:m-my-folder-6":{"x":316,"y":646,"width":48,"height":50,"pixelRatio":"2"},"marker:m-my-folder-7":{"x":368,"y":646,"width":48,"height":50,"pixelRatio":"2"},"marker:m-my-folder-8":{"x":420,"y":646,"width":48,"height":50,"pixelRatio":"2"},"marker:m-my-folder-9":{"x":472,"y":646,"width":48,"height":50,"pixelRatio":"2"},"marker:m-my-transit":{"x":524,"y":646,"width":48,"height":50,"pixelRatio":"2"},"marker:m-s-frequent-etc":{"x":256,"y":412,"width":60,"height":80,"pixelRatio":"2"},"marker:m-s-frequent-home":{"x":320,"y":412,"width":60,"height":80,"pixelRatio":"2"},"marker:m-s-frequent-office":{"x":384,"y":412,"width":60,"height":80,"pixelRatio":"2"},"marker:m-s-frequent-school":{"x":448,"y":412,"width":60,"height":80,"pixelRatio":"2"},"marker:m-s-my-default":{"x":556,"y":0,"width":60,"height":80,"pixelRatio":"2"},"marker:m-s-my-folder-1":{"x":556,"y":84,"width":60,"height":80,"pixelRatio":"2"},"marker:m-s-my-folder-10":{"x":556,"y":168,"width":60,"height":80,"pixelRatio":"2"},"marker:m-s-my-folder-11":{"x":556,"y":252,"width":60,"height":80,"pixelRatio":"2"},"marker:m-s-my-folder-12":{"x":556,"y":336,"width":60,"height":80,"pixelRatio":"2"},"marker:m-s-my-folder-2":{"x":0,"y":496,"width":60,"height":80,"pixelRatio":"2"},"marker:m-s-my-folder-3":{"x":64,"y":496,"width":60,"height":80,"pixelRatio":"2"},"marker:m-s-my-folder-4":{"x":128,"y":496,"width":60,"height":80,"pixelRatio":"2"},"marker:m-s-my-folder-5":{"x":192,"y":496,"width":60,"height":80,"pixelRatio":"2"},"marker:m-s-my-folder-6":{"x":256,"y":496,"width":60,"height":80,"pixelRatio":"2"},"marker:m-s-my-folder-7":{"x":320,"y":496,"width":60,"height":80,"pixelRatio":"2"},"marker:m-s-my-folder-8":{"x":384,"y":496,"width":60,"height":80,"pixelRatio":"2"},"marker:m-s-my-folder-9":{"x":448,"y":496,"width":60,"height":80,"pixelRatio":"2"},"marker:m-s-my-transit":{"x":512,"y":496,"width":60,"height":80,"pixelRatio":"2"},"marker:mDoorway":{"x":576,"y":646,"width":44,"height":44,"pixelRatio":"2"},"marker:mDoorwayCar":{"x":624,"y":646,"width":44,"height":44,"pixelRatio":"2"},"marker:mSDoorway":{"x":0,"y":120,"width":92,"height":116,"pixelRatio":"2"},"marker:mSDoorwayCar":{"x":96,"y":120,"width":92,"height":116,"pixelRatio":"2"},"marker:numbering_A":{"x":492,"y":336,"width":48,"height":62,"pixelRatio":"2"},"marker:numbering_A_Sel":{"x":288,"y":0,"width":64,"height":82,"pixelRatio":"2"},"marker:numbering_B":{"x":424,"y":344,"width":48,"height":62,"pixelRatio":"2"},"marker:numbering_B_Sel":{"x":288,"y":86,"width":64,"height":82,"pixelRatio":"2"},"marker:numbering_C":{"x":356,"y":258,"width":48,"height":62,"pixelRatio":"2"},"marker:numbering_C_Sel":{"x":0,"y":240,"width":64,"height":82,"pixelRatio":"2"},"marker:numbering_D":{"x":288,"y":172,"width":48,"height":62,"pixelRatio":"2"},"marker:numbering_D_Sel":{"x":68,"y":240,"width":64,"height":82,"pixelRatio":"2"},"marker:numbering_E":{"x":0,"y":580,"width":48,"height":62,"pixelRatio":"2"},"marker:numbering_E_Sel":{"x":136,"y":240,"width":64,"height":82,"pixelRatio":"2"},"marker:numbering_F":{"x":52,"y":580,"width":48,"height":62,"pixelRatio":"2"},"marker:numbering_F_Sel":{"x":204,"y":240,"width":64,"height":82,"pixelRatio":"2"},"marker:numbering_G":{"x":104,"y":580,"width":48,"height":62,"pixelRatio":"2"},"marker:numbering_G_Sel":{"x":272,"y":240,"width":64,"height":82,"pixelRatio":"2"},"marker:numbering_H":{"x":156,"y":580,"width":48,"height":62,"pixelRatio":"2"},"marker:numbering_H_Sel":{"x":356,"y":0,"width":64,"height":82,"pixelRatio":"2"},"marker:numbering_I":{"x":208,"y":580,"width":48,"height":62,"pixelRatio":"2"},"marker:numbering_I_Sel":{"x":356,"y":86,"width":64,"height":82,"pixelRatio":"2"},"marker:numbering_J":{"x":260,"y":580,"width":48,"height":62,"pixelRatio":"2"},"marker:numbering_J_Sel":{"x":356,"y":172,"width":64,"height":82,"pixelRatio":"2"},"marker:numbering_K":{"x":312,"y":580,"width":48,"height":62,"pixelRatio":"2"},"marker:numbering_K_Sel":{"x":0,"y":326,"width":64,"height":82,"pixelRatio":"2"},"marker:numbering_L":{"x":364,"y":580,"width":48,"height":62,"pixelRatio":"2"},"marker:numbering_L_Sel":{"x":68,"y":326,"width":64,"height":82,"pixelRatio":"2"},"marker:numbering_M":{"x":416,"y":580,"width":48,"height":62,"pixelRatio":"2"},"marker:numbering_M_Sel":{"x":136,"y":326,"width":64,"height":82,"pixelRatio":"2"},"marker:numbering_N":{"x":468,"y":580,"width":48,"height":62,"pixelRatio":"2"},"marker:numbering_N_Sel":{"x":204,"y":326,"width":64,"height":82,"pixelRatio":"2"},"marker:numbering_O":{"x":520,"y":580,"width":48,"height":62,"pixelRatio":"2"},"marker:numbering_O_Sel":{"x":272,"y":326,"width":64,"height":82,"pixelRatio":"2"},"marker:numbering_P":{"x":572,"y":580,"width":48,"height":62,"pixelRatio":"2"},"marker:numbering_P_Sel":{"x":340,"y":326,"width":64,"height":82,"pixelRatio":"2"},"marker:numbering_Q":{"x":624,"y":580,"width":48,"height":62,"pixelRatio":"2"},"marker:numbering_Q_Sel":{"x":424,"y":0,"width":64,"height":82,"pixelRatio":"2"},"marker:numbering_R":{"x":692,"y":0,"width":48,"height":62,"pixelRatio":"2"},"marker:numbering_R_Sel":{"x":424,"y":86,"width":64,"height":82,"pixelRatio":"2"},"marker:numbering_S":{"x":692,"y":66,"width":48,"height":62,"pixelRatio":"2"},"marker:numbering_S_Sel":{"x":424,"y":172,"width":64,"height":82,"pixelRatio":"2"},"marker:numbering_T":{"x":692,"y":132,"width":48,"height":62,"pixelRatio":"2"},"marker:numbering_T_Sel":{"x":424,"y":258,"width":64,"height":82,"pixelRatio":"2"},"marker:route-path-arrow":{"x":744,"y":194,"width":16,"height":16,"pixelRatio":"2"},"marker:vote-selected":{"x":192,"y":120,"width":92,"height":116,"pixelRatio":"2"},"marker:vote":{"x":620,"y":216,"width":68,"height":68,"pixelRatio":"2"}}')},yNTq:function(t,e,n){"use strict";var i=e;i.length=function(t){for(var e=0,n=0,i=0;i<t.length;++i)(n=t.charCodeAt(i))<128?e+=1:n<2048?e+=2:55296==(64512&n)&&56320==(64512&t.charCodeAt(i+1))?(++i,e+=4):e+=3;return e},i.read=function(t,e,n){if(n-e<1)return"";for(var i,o=null,r=[],a=0;e<n;)(i=t[e++])<128?r[a++]=i:i>191&&i<224?r[a++]=(31&i)<<6|63&t[e++]:i>239&&i<365?(i=((7&i)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,r[a++]=55296+(i>>10),r[a++]=56320+(1023&i)):r[a++]=(15&i)<<12|(63&t[e++])<<6|63&t[e++],a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,r)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,r.slice(0,a))),o.join("")):String.fromCharCode.apply(String,r.slice(0,a))},i.write=function(t,e,n){for(var i,o,r=n,a=0;a<t.length;++a)(i=t.charCodeAt(a))<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&56320==(64512&(o=t.charCodeAt(a+1)))?(++a,e[n++]=(i=65536+((1023&i)<<10)+(1023&o))>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128);return n-r}},yeub:function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){t.exports=!1}},yi8m:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("fXoL"),o=n("w5vR"),r=n("SxV6"),a=n("ZpGt"),s=n("sYmb");let c=(()=>{class t{constructor(t,e){this.translate=t,this.layoutStoreService=e,this._events=new i.q}get events(){return this._events}show(t,e,n,o=0,a=0){return this.layoutStoreService.openCommonDialog({data:{title:t,message:e,confirmBtnTitle:n,left:o,top:a},login:!1}),this.oneTimeEvent=new i.q,this.oneTimeEvent.pipe(Object(r.a)())}showLogin(t,e=0,n=0,a=0){let s;switch(t){case o.b.Place:s=this.translate.instant("FAVORITE.LOGIN_NEED_TITLE");break;case o.b.Voc:s=this.translate.instant("VOC.LOGIN.TITLE");break;default:s=this.translate.instant("COMMON.NEED_LOGIN")}return this.layoutStoreService.openCommonDialog({data:{title:s,left:e,top:n,marginBottom:a},login:!0}),this.oneTimeEvent=new i.q,this.oneTimeEvent.pipe(Object(r.a)())}confirm(){this.emit(o.a.OnConfirmed),this.oneTimeEvent.emit({type:o.a.OnConfirmed})}cancel(){this.emit(o.a.OnCanceled),this.oneTimeEvent.emit({type:o.a.OnCanceled})}emit(t,e){this.events.emit({type:t,data:e})}}return t.\u0275fac=function(e){return new(e||t)(i.ic(s.d),i.ic(a.a))},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},ym5D:function(t){t.exports=JSON.parse('{"panorama:avatar_0":{"width":60,"height":60,"pixelRatio":"1","x":0,"y":0},"panorama:avatar_1":{"width":60,"height":60,"pixelRatio":"1","x":0,"y":60},"panorama:avatar_2":{"width":60,"height":60,"pixelRatio":"1","x":0,"y":120},"panorama:avatar_3":{"width":60,"height":60,"pixelRatio":"1","x":0,"y":180},"panorama:avatar_4":{"width":60,"height":60,"pixelRatio":"1","x":0,"y":240},"panorama:avatar_5":{"width":60,"height":60,"pixelRatio":"1","x":0,"y":300},"panorama:avatar_6":{"width":60,"height":60,"pixelRatio":"1","x":0,"y":360},"panorama:avatar_7":{"width":60,"height":60,"pixelRatio":"1","x":0,"y":420},"panorama:avatar_8":{"width":60,"height":60,"pixelRatio":"1","x":0,"y":480},"panorama:avatar_9":{"width":60,"height":60,"pixelRatio":"1","x":0,"y":540},"panorama:avatar_10":{"width":60,"height":60,"pixelRatio":"1","x":0,"y":600},"panorama:avatar_11":{"width":60,"height":60,"pixelRatio":"1","x":0,"y":660},"panorama:avatar_12":{"width":60,"height":60,"pixelRatio":"1","x":0,"y":720},"panorama:avatar_13":{"width":60,"height":60,"pixelRatio":"1","x":0,"y":780},"panorama:avatar_14":{"width":60,"height":60,"pixelRatio":"1","x":0,"y":840},"panorama:avatar_15":{"width":60,"height":60,"pixelRatio":"1","x":0,"y":900}}')},ypnn:function(t,e){t.exports=function(t,e,n){var i=t.byteLength;if(e=e||0,n=n||i,t.slice)return t.slice(e,n);if(e<0&&(e+=i),n<0&&(n+=i),n>i&&(n=i),e>=i||e>=n||0===i)return new ArrayBuffer(0);for(var o=new Uint8Array(t),r=new Uint8Array(n-e),a=e,s=0;a<n;a++,s++)r[s]=o[a];return r.buffer}},yuhW:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return a});var i=n("l7GE"),o=n("ZUHj");const r={leading:!0,trailing:!1};function a(t,e=r){return n=>n.lift(new s(t,e.leading,e.trailing))}class s{constructor(t,e,n){this.durationSelector=t,this.leading=e,this.trailing=n}call(t,e){return e.subscribe(new c(t,this.durationSelector,this.leading,this.trailing))}}class c extends i.a{constructor(t,e,n,i){super(t),this.destination=t,this.durationSelector=e,this._leading=n,this._trailing=i,this._hasValue=!1}_next(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))}send(){const{_hasValue:t,_sendValue:e}=this;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=null}throttle(t){const e=this.tryDurationSelector(t);e&&this.add(this._throttled=Object(o.a)(this,e))}tryDurationSelector(t){try{return this.durationSelector(t)}catch(e){return this.destination.error(e),null}}throttlingDone(){const{_throttled:t,_trailing:e}=this;t&&t.unsubscribe(),this._throttled=null,e&&this.send()}notifyNext(t,e,n,i,o){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}},yyWl:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("NZ/Q"),o=n("fXoL");let r=(()=>{class t{constructor(){this.tmpKeyValueTagMap=null,this.tmpCrs=null}parseCar(t){const e=i.directions.Response.decode(new Uint8Array(t));return this.tmpKeyValueTagMap=e.keyValueTagMap,this.tmpCrs=e.crs,this.decompress(e),this.divideByOption(e)}divideByOption(t){const e=[];return t.routeOptionEntries.forEach(n=>{n.routeIndices.forEach(i=>{const o=Object.assign({},t.routes[i]);o.summary=Object.assign(Object.assign({},o.summary),{mainOption:n.mainOption,subOption:n.subOption}),e.push(o)})}),t.routes=e,t}decompress(t){"object"==typeof t&&Object.keys(t).map(e=>{const n=t[e];"tags"===e&&(n.forEach((e,i)=>{if(i%2!=0)return;const o=this.decompressUsingKeyValueMap(e,n[i+1]);o&&(t[o.key]=o.value)}),delete t.tags),"coords"===e&&(t[e]=this.decompressCoords(n)),"coord"===e&&(t[e]=this.decompressCoord(n)),this.decompress(n)})}decompressUsingKeyValueMap(t,e){if(!this.tmpKeyValueTagMap)return null;const n=this.tmpKeyValueTagMap.keys[t];return{key:n.name,value:11===n.type?this.tmpKeyValueTagMap.stringValues[e]:parseFloat(this.tmpKeyValueTagMap.intValues[e])}}decompressCoords(t){let e=0,n=0;return t.filter((t,e)=>e%2==0).map((i,o)=>{let r=i,a=t[2*o+1];return e&&n&&(r+=e,a+=n),e=r,n=a,this.decompressCoord([r,a])})}decompressCoord(t){return[this.applyExponent(t[0]),this.applyExponent(t[1])]}applyExponent(t){return t/Math.pow(10,this.tmpCrs.exponent)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},z6kb:function(t,e,n){"use strict";n.d(e,"d",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return a}),n.d(e,"e",function(){return l});var i=function(t){return t[t.LocationInfo=0]="LocationInfo",t[t.Indoor=1]="Indoor",t[t.LandParcel=2]="LandParcel",t[t.ToolBoxArea=3]="ToolBoxArea",t[t.ToolBoxDistance=4]="ToolBoxDistance",t[t.ToolBoxRadius=5]="ToolBoxRadius",t[t.Panorama=6]="Panorama",t[t.Cctv=7]="Cctv",t}({}),o=function(t){return t[t.Indoor=0]="Indoor",t[t.PanoramaEntry=1]="PanoramaEntry",t[t.Panorama=2]="Panorama",t}({}),r=function(t){return t[t.LocationInfo=0]="LocationInfo",t[t.LandParcel=1]="LandParcel",t[t.EntryOpenMode=2]="EntryOpenMode",t}({}),a=function(t){return t[t.OwnerShip=0]="OwnerShip",t[t.ClearOwnerShip=1]="ClearOwnerShip",t[t.SearchHere=2]="SearchHere",t[t.MyLocation=3]="MyLocation",t[t.SubwayReady=4]="SubwayReady",t}({}),s=n("fXoL"),c=n("2Vo4");let l=(()=>{class t{constructor(){this.isDistanceToolboxOn=!1,this.isAreaToolboxOn=!1,this.isRadiusToolboxOn=!1,this._events=new s.q,this._isDragging=!1,this._isPanoramaMode=!1,this._isPanoramaEntryMode=!1,this._ownerShip=null,this._isPanoramaViewerMode=!1,this._isTrafficMode=!1,this._isDoubleClicking=!1,this._isShowingWetherDetail=!1,this._isMeasureMode=new c.a(!1),this._isOpenLayerPopup=!1,this._isOpenBusStationPopup=!1,this._measureTotal=0,this._suspendedMapsClick=[],this._suspendedEsc=[],this._suspendedLocationInfo=[],this._suspendedTooltip=[],this._isPanoramaViewerModeStream=new c.a(this._isPanoramaViewerMode),this.modeStatus$=new c.a(this.getModeStatus())}get isPanoramaViewerModeStream(){return this._isPanoramaViewerModeStream.asObservable()}get isToolboxOn(){return this.isDistanceToolboxOn||this.isAreaToolboxOn||this.isRadiusToolboxOn}set isDragging(t){this._isDragging=t}get isDragging(){return this._isDragging}set isPanoramaMode(t){this._isPanoramaMode=t,this.updateModeStatus()}get isPanoramaMode(){return this._isPanoramaMode}set isPanoramaEntryMode(t){this._isPanoramaEntryMode=t,this.updateModeStatus()}get isPanoramaEntryMode(){return this._isPanoramaEntryMode}set isPanoramaViewerMode(t){this._isPanoramaViewerMode=t,this._isPanoramaViewerModeStream.next(t),this.updateModeStatus()}get isPanoramaViewerMode(){return this._isPanoramaViewerMode}set isTrafficMode(t){this._isTrafficMode=t,this.updateModeStatus()}get isTrafficMode(){return this._isTrafficMode}set isDoubleClicking(t){this._isDoubleClicking=t}get isDoubleClicking(){return this._isDoubleClicking}set isShowingWetherDetail(t){this._isShowingWetherDetail=t}get isShowingWetherDetail(){return this._isShowingWetherDetail}set isOpenLayerPopup(t){this._isOpenLayerPopup=t}get isOpenLayerPopup(){return this._isOpenLayerPopup}set isOpenBusStationPopup(t){this._isOpenBusStationPopup=t}get isOpenBusStationPopup(){return this._isOpenBusStationPopup}get ownerShip(){return this._ownerShip}set ownerShip(t){this._ownerShip=t}set isMeasureMode(t){this._isMeasureMode.next(t),this.updateModeStatus()}get isMeasureMode(){return this._isMeasureMode.getValue()}get isMeasureMode$(){return this._isMeasureMode}get isShowingTooltip(){return this._suspendedTooltip.length>0}get measureTotal(){return this._measureTotal}set measureTotal(t){this._measureTotal=t}get events(){return this._events}emit(t,e){t===a.OwnerShip?this.ownerShip=e:t===a.ClearOwnerShip&&this.ownerShip===e&&(this.ownerShip=null),this.events.emit({type:t,data:e})}resumeMapsClick(t){return this.resume(this._suspendedMapsClick,t)}suspendMapsClick(t){return this.suspend(this._suspendedMapsClick,t)}isLastSuspendedMapsClick(t){return this.isLastSuspended(this._suspendedMapsClick,t)}resumeEsc(t){return this.resume(this._suspendedEsc,t)}suspendEsc(t){return this.suspend(this._suspendedEsc,t)}isLastSuspendedEsc(t){return this.isLastSuspended(this._suspendedEsc,t)}resumeLocationInfo(t){return this.resume(this._suspendedLocationInfo,t)}suspendLocationInfo(t){return this.suspend(this._suspendedLocationInfo,t)}isLastSuspendedLocationInfo(t){return this.isLastSuspended(this._suspendedLocationInfo,t)}resumeTooltip(t){return this.resume(this._suspendedTooltip,t)}suspendTooltip(t){return this.suspend(this._suspendedTooltip,t)}resume(t,e){if(t.indexOf(e)<0)return!1;const n=t.findIndex(t=>t===e);return t.splice(n,1),!0}suspend(t,e){if(t.indexOf(e)>-1)return!1;const n=t.findIndex(t=>t>e);return n>=0?t.splice(n,0,e):t.push(e),!0}isLastSuspended(t,e){return t[t.length-1]===e}updateModeStatus(){this.modeStatus$.next(this.getModeStatus())}getModeStatus(){return{panoramaMode:this.isPanoramaMode,panoramaEntryMode:this.isPanoramaEntryMode,panoramaViewerMode:this._isPanoramaViewerMode,trafficMode:this.isTrafficMode,measureMode:this.isMeasureMode}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},zJ60:function(t,e,n){var i=n("Uxeu"),o=n("x7D4")("socket.io-client:url");t.exports=function(t,e){var n=t;e=e||"undefined"!=typeof location&&location,null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(o("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),o("parse %s",t),n=i(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var r=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port,n.href=n.protocol+"://"+r+(e&&e.port===n.port?"":":"+n.port),n}},zMFY:function(t,e){function n(){}t.exports=function(t,e,i){var o=!1;return i=i||n,r.count=t,0===t?e():r;function r(t,n){if(r.count<=0)throw new Error("after called too many times");--r.count,t?(o=!0,e(t),e=i):0!==r.count||o||e(null,n)}}},zqdW:function(t,e,n){"use strict";var i=n("+Xv5");n.d(e,"a",function(){return i.a})}}]);